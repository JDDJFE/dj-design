{"remainingRequest":"/Users/wangjunxia/work-github/dj-design/node_modules/babel-loader/lib/index.js!/Users/wangjunxia/work-github/dj-design/node_modules/eslint-loader/index.js??ref--14-0!/Users/wangjunxia/work-github/dj-design/packages/upload/src/axios.js","dependencies":[{"path":"/Users/wangjunxia/work-github/dj-design/packages/upload/src/axios.js","mtime":1675737648907},{"path":"/Users/wangjunxia/work-github/dj-design/babel.config.js","mtime":1660011372032},{"path":"/Users/wangjunxia/work-github/dj-design/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/wangjunxia/work-github/dj-design/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/wangjunxia/work-github/dj-design/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IGF4aW9zIGZyb20gJ2F4aW9zJzsKaW1wb3J0IFFzIGZyb20gJ3FzJzsKaW1wb3J0IE1lc3NhZ2UgZnJvbSAnLi4vLi4vbWVzc2FnZS9pbmRleCc7CmltcG9ydCB7IGhhc0NvbnRlbnQsIGFwcENvbnRlbnQgfSBmcm9tICcuL2hhc0NvbnRlbnQnOwpjb25zdCAkYXhpb3MgPSBheGlvcy5jcmVhdGUoewogIC8vIOiuvue9rui2heaXtuaXtumXtAogIHRpbWVvdXQ6IDUgKiA2MCAqIDEwMDAKfSk7IC8vIGNvbnNvbGUubG9nKGhhc0NvbnRlbnQsJ2hhc0NvbnRlbnQnKQovLyDor7fmsYLmi6bmiKrlmagKCiRheGlvcy5pbnRlcmNlcHRvcnMucmVxdWVzdC51c2UoY29uZmlnID0+IHsKICBsZXQgcmVxdWVzdCA9IHt9OyAvLyBkZWJ1Z2dlcjsKCiAgcmVxdWVzdC5hcHBOYW1lID0gYXBwQ29udGVudDsKICByZXF1ZXN0LmZ1bmN0aW9uSWQgPSBjb25maWcudXJsOwoKICBpZiAoIWhhc0NvbnRlbnQgJiYgY29uZmlnLnVybC5pbmRleE9mKCcvY2xvdWQvJykgIT0gMCkgewogICAgaWYgKGNvbmZpZy5tZXRob2QgPT0gJ3VwbG9hZCcpIHsKICAgICAgY29uZmlnLnVybCA9ICcvc3RyZWFtL3VwbG9hZCc7CiAgICAgIGNvbmZpZy5tZXRob2QgPSAncG9zdCc7CiAgICB9IGVsc2UgewogICAgICBjb25maWcudXJsID0gJy9jbGllbnQnOwogICAgfQogIH0KCiAgaWYgKGNvbmZpZy5tZXRob2QgPT09ICdnZXQnKSB7CiAgICBpZiAoY29uZmlnLnBhcmFtcykgewogICAgICByZXF1ZXN0LmJvZHkgPSBKU09OLnN0cmluZ2lmeShjb25maWcucGFyYW1zKTsKICAgIH0KCiAgICByZXF1ZXN0ID0gaGFzQ29udGVudCB8fCBjb25maWcudXJsLmluZGV4T2YoJy9jbG91ZC8nKSA9PSAwID8gY29uZmlnLnBhcmFtcyA6IHJlcXVlc3Q7CiAgICBjb25maWcucGFyYW1zID0gcmVxdWVzdDsKICB9IGVsc2UgaWYgKGNvbmZpZy5tZXRob2QgPT09ICdwb3N0JykgewogICAgaWYgKGNvbmZpZy5kYXRhKSB7CiAgICAgIHJlcXVlc3QuYm9keSA9IEpTT04uc3RyaW5naWZ5KGNvbmZpZy5kYXRhKTsKICAgIH0KCiAgICByZXF1ZXN0ID0gaGFzQ29udGVudCB8fCBjb25maWcudXJsLmluZGV4T2YoJy9jbG91ZC8nKSA9PSAwID8gY29uZmlnLmRhdGEgOiByZXF1ZXN0OwogICAgY29uZmlnLmRhdGEgPSBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoY29uZmlnLmRhdGEpID09PSAnW29iamVjdCBGb3JtRGF0YV0nID8gY29uZmlnLmRhdGEgOiByZXF1ZXN0OwoKICAgIGlmIChjb25maWcuaGVhZGVyc1snQ29udGVudC1UeXBlJ10gPT09ICdhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQ7IGNoYXJzZXQ9VVRGLTgnKSB7CiAgICAgIGNvbmZpZy5kYXRhID0gUXMuc3RyaW5naWZ5KHJlcXVlc3QpOwogICAgfQogIH0KCiAgcmV0dXJuIGNvbmZpZzsKfSwgZXJyb3IgPT4gewogIHJldHVybiBQcm9taXNlLnJlamVjdChlcnJvcik7Cn0pOyAvLyDlk43lupTmi6bmiKrlmagKCiRheGlvcy5pbnRlcmNlcHRvcnMucmVzcG9uc2UudXNlKHJlc3BvbnNlID0+IHsKICBsZXQgaHR0cFN0YXR1c0NvZGUgPSByZXNwb25zZS5zdGF0dXM7CgogIGlmIChodHRwU3RhdHVzQ29kZSA+PSAyMDAgJiYgaHR0cFN0YXR1c0NvZGUgPCAzMDAgfHwgaHR0cFN0YXR1c0NvZGUgPT09IDMwNCkgewogICAgbGV0IHJlc3VsdCA9IHJlc3BvbnNlLmRhdGE7CgogICAgaWYgKHJlc3VsdC5jb2RlID09IDAgfHwgcmVzdWx0LmNvZGUgPT0gMjAwKSB7CiAgICAgIHJldHVybiByZXN1bHQ7CiAgICB9IC8vIOWIpOaWreaYr+WQpuacqueZu+W9lSDlnKjliKTmlq3mmK/lkKbmnInnmbvlvZXlnLDlnYAg5Yik5pat55m75b2V5Z+f5ZCN5piv5ZCm5pivamRkai5jb20KICAgIC8vIOi/kOiQpeW5s+WPsAoKCiAgICBjb25zdCBtc2cgPSByZXN1bHQubXNnICsgKHJlc3VsdC5kZXRhaWwgPyAn77yaJyArIHJlc3VsdC5kZXRhaWwgOiAnJyk7CgogICAgaWYgKHJlc3VsdC5jb2RlID09IDMwMiAmJiByZXN1bHQuZGF0YSAmJiByZXN1bHQuZGF0YS5pbmRleE9mKCdqZGRqLmNvbScpID4gLTEpIHsKICAgICAgLy8gTWVzc2FnZS5lcnJvcihtc2cgfHwgJ+aPkOekuu+8mueZu+W9leW8guW4uO+8gScpOwogICAgICBsZXQgcmVkaXJlY3QgPSByZXN1bHQuZGF0YS5zcGxpdCgnPycpWzBdOwogICAgICB3aW5kb3cubG9jYXRpb24gPSBgJHtyZWRpcmVjdH0/cmVkaXJlY3RVcmw9JHt3aW5kb3cubG9jYXRpb24uaHJlZn1gOyAvLyDllYblrrbkuK3lv4MKICAgIH0gZWxzZSBpZiAocmVzdWx0LnN0YXR1cyA9PSA0MDEgJiYgcmVzdWx0LnJlZGlyZWN0ICYmIHJlc3VsdC5yZWRpcmVjdC5pbmRleE9mKCdqZGRqLmNvbScpID4gLTEpIHsKICAgICAgd2luZG93LmxvY2F0aW9uID0gYCR7cmVzdWx0LnJlZGlyZWN0fT9hcHBDb2RlPWxzcC1zdG9yZSZiYWNrVXJsPSR7d2luZG93LmxvY2F0aW9uLmhyZWZ9YDsKICAgIH0gZWxzZSBpZiAocmVzdWx0LmNvZGUgPT0gNDAxICYmIHJlc3VsdC5yZWRpcmVjdCAmJiByZXN1bHQucmVkaXJlY3QuaW5kZXhPZignLy9kYXV0aC4nKSA+IC0xKSB7CiAgICAgIGlmIChyZXN1bHQucmVkaXJlY3QuaW5kZXhPZignP3JlZGlyZWN0VXJsPScpID4gLTEpIHsKICAgICAgICB3aW5kb3cubG9jYXRpb24gPSByZXN1bHQucmVkaXJlY3Q7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgd2luZG93LmxvY2F0aW9uID0gYCR7cmVzdWx0LnJlZGlyZWN0fT9yZWRpcmVjdFVybD0ke3dpbmRvdy5sb2NhdGlvbi5ocmVmfWA7CiAgICAgIH0KICAgIH0gZWxzZSB7CiAgICAgIE1lc3NhZ2UuZXJyb3IobXNnIHx8ICfmj5DnpLrvvJrnvZHnu5zlvILluLjvvIEnKTsKICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KHJlc3VsdCk7CiAgICB9CiAgfSBlbHNlIHsKICAgIE1lc3NhZ2UuZXJyb3IoJ+aPkOekuu+8mue9kee7nOW8guW4uO+8gScpOwogIH0KfSwgZXJyb3IgPT4gewogIHJldHVybiBQcm9taXNlLnJlamVjdChlcnJvcik7Cn0pOyAvLyBnZXTvvIxwb3N06K+35rGC5pa55rOVCgpleHBvcnQgZGVmYXVsdCB7CiAgcG9zdCh1cmwsIGRhdGEsIGlzSnNvbikgewogICAgbGV0IGNvbnRlbnRUeXBlID0gaXNKc29uID8gJ2FwcGxpY2F0aW9uL2pzb24nIDogJ2FwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZDsgY2hhcnNldD1VVEYtOCc7CiAgICByZXR1cm4gJGF4aW9zKHsKICAgICAgbWV0aG9kOiAncG9zdCcsCiAgICAgIHVybDogdXJsLAogICAgICBkYXRhOiBkYXRhLAogICAgICBoZWFkZXJzOiB7CiAgICAgICAgJ0NvbnRlbnQtVHlwZSc6IGNvbnRlbnRUeXBlCiAgICAgIH0KICAgIH0pOwogIH0sCgogIGdldCh1cmwsIHBhcmFtcykgewogICAgcmV0dXJuICRheGlvcyh7CiAgICAgIG1ldGhvZDogJ2dldCcsCiAgICAgIHVybDogdXJsLAogICAgICBwYXJhbXM6IHBhcmFtcwogICAgfSk7CiAgfSwKCiAgdXBsb2FkKHVybCwgZm9ybURhdGEsIGZpbGUsIG1ldGhvZCkgewogICAgbGV0IGRhdGEgPSBmb3JtRGF0YTsKCiAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGZvcm1EYXRhKSAhPT0gJ1tvYmplY3QgRm9ybURhdGFdJykgewogICAgICBkYXRhID0gbmV3IEZvcm1EYXRhKCk7CiAgICAgIGRhdGEuYXBwZW5kKCdhcHBOYW1lJywgYXBwQ29udGVudCk7CiAgICAgIGRhdGEuYXBwZW5kKCdmdW5jdGlvbklkJywgdXJsKTsKCiAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoZm9ybURhdGEpID09PSAnW29iamVjdCBGaWxlXScpIHsKICAgICAgICBsZXQgZmlsZSA9IGZvcm1EYXRhOwogICAgICAgIGZvcm1EYXRhID0gbmV3IEZvcm1EYXRhKCk7CiAgICAgICAgZm9ybURhdGEuYXBwZW5kKCdmaWxlJywgZmlsZSk7CiAgICAgICAgZGF0YS5hcHBlbmQoJ2ZpbGUnLCBmaWxlKTsKICAgICAgfSBlbHNlIGlmIChPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoZm9ybURhdGEpID09PSAnW29iamVjdCBPYmplY3RdJykgewogICAgICAgIGRhdGEuYXBwZW5kKCdib2R5JywgZm9ybURhdGEgPyBKU09OLnN0cmluZ2lmeShmb3JtRGF0YSkgOiAne30nKTsKCiAgICAgICAgaWYgKGZpbGUpIHsKICAgICAgICAgIGRhdGEuYXBwZW5kKCdmaWxlJywgZmlsZSk7CiAgICAgICAgfQogICAgICB9CiAgICB9CgogICAgcmV0dXJuICRheGlvcyh7CiAgICAgIG1ldGhvZDogbWV0aG9kIHx8ICd1cGxvYWQnLAogICAgICB1cmw6IGhhc0NvbnRlbnQgfHwgdXJsLmluZGV4T2YoJy9jbG91ZC8nKSA9PSAwID8gdXJsIDogJy9zdHJlYW0vdXBsb2FkJywKICAgICAgZGF0YTogaGFzQ29udGVudCB8fCB1cmwuaW5kZXhPZignL2Nsb3VkLycpID09IDAgPyBmb3JtRGF0YSA6IGRhdGEsCiAgICAgIGhlYWRlcnM6IHsKICAgICAgICAnQ29udGVudC1UeXBlJzogJ211bHRpcGFydC9mb3JtLWRhdGEnCiAgICAgIH0KICAgIH0pOwogIH0sCgogIGRvd25sb2FkKHVybCwgcGFyYW1zID0ge30pIHsKICAgIGxldCBhcHBOYW1lID0gYXBwQ29udGVudDsKICAgIGxldCBmdW5jdGlvbklkID0gdXJsOwogICAgbGV0IGRhdGEgPSBwYXJhbXMgPyBKU09OLnN0cmluZ2lmeShwYXJhbXMpIDogSlNPTi5zdHJpbmdpZnkoe30pOwogICAgd2luZG93LmxvY2F0aW9uLmhyZWYgPSBgL3N0cmVhbS9kb3dubG9hZD9hcHBOYW1lPSR7YXBwTmFtZX0mZnVuY3Rpb25JZD0ke2Z1bmN0aW9uSWR9JmJvZHk9JHtkYXRhfWA7CiAgfQoKfTs="},{"version":3,"names":["axios","Qs","Message","hasContent","appContent","$axios","create","timeout","interceptors","request","use","config","appName","functionId","url","indexOf","method","params","body","JSON","stringify","data","Object","prototype","toString","call","headers","error","Promise","reject","response","httpStatusCode","status","result","code","msg","detail","redirect","split","window","location","href","post","isJson","contentType","get","upload","formData","file","FormData","append","download"],"sources":["/Users/wangjunxia/work-github/dj-design/packages/upload/src/axios.js"],"sourcesContent":["import axios from 'axios';\nimport Qs from 'qs';\nimport Message from '../../message/index';\nimport { hasContent, appContent } from './hasContent';\n\nconst $axios = axios.create({\n  // 设置超时时间\n  timeout: 5 * 60 * 1000\n});\n// console.log(hasContent,'hasContent')\n// 请求拦截器\n$axios.interceptors.request.use(\n  config => {\n    let request = {};\n    // debugger;\n    request.appName = appContent;\n    request.functionId = config.url;\n    if (!hasContent && config.url.indexOf('/cloud/') != 0) {\n      if (config.method == 'upload'){\n        config.url = '/stream/upload';\n        config.method = 'post';\n      } else {\n        config.url = '/client';\n      }\n    }\n    if (config.method === 'get') {\n      if (config.params) {\n        request.body = JSON.stringify(config.params);\n      }\n      request = hasContent || config.url.indexOf('/cloud/') == 0? config.params : request;\n      config.params = request;\n    } else if (config.method === 'post') {\n      if (config.data) {\n        request.body = JSON.stringify(config.data);\n      }\n      request = hasContent || config.url.indexOf('/cloud/') == 0 ? config.data : request;\n      config.data = Object.prototype.toString.call(config.data) === '[object FormData]' ? config.data : request;\n      if (config.headers['Content-Type'] === 'application/x-www-form-urlencoded; charset=UTF-8') {\n        config.data = Qs.stringify(request);\n      }\n    }\n    return config;\n  },\n  error => {\n    return Promise.reject(error);\n  }\n);\n// 响应拦截器\n$axios.interceptors.response.use(\n  response => {\n    let httpStatusCode = response.status;\n    if (httpStatusCode >= 200 && httpStatusCode < 300 || httpStatusCode === 304) {\n      let result = response.data;\n      if (result.code == 0 || result.code == 200) {\n        return result;\n      }\n      // 判断是否未登录 在判断是否有登录地址 判断登录域名是否是jddj.com\n      // 运营平台\n      const msg = result.msg + (result.detail ? '：' + result.detail : '');\n      if (result.code == 302 && result.data && result.data.indexOf('jddj.com') > -1) {\n        // Message.error(msg || '提示：登录异常！');\n        let redirect = result.data.split('?')[0];\n        window.location = `${redirect}?redirectUrl=${window.location.href}`;\n        // 商家中心\n      } else if (result.status == 401 && result.redirect && result.redirect.indexOf('jddj.com') > -1) {\n        window.location = `${result.redirect}?appCode=lsp-store&backUrl=${window.location.href}`;\n      } else if (result.code == 401 && result.redirect && result.redirect.indexOf('//dauth.') > -1) {\n        if (result.redirect.indexOf('?redirectUrl=') > -1) {\n          window.location = result.redirect;\n        } else {\n          window.location = `${result.redirect}?redirectUrl=${window.location.href}`;\n        }\n      } else {\n        Message.error(msg || '提示：网络异常！');\n        return Promise.reject(result);\n      }\n\n    } else {\n      Message.error('提示：网络异常！');\n    }\n  },\n  error => {\n    return Promise.reject(error);\n  }\n);\n\n// get，post请求方法\nexport default {\n  post(url, data, isJson) {\n    let contentType = isJson ? 'application/json' : 'application/x-www-form-urlencoded; charset=UTF-8';\n    return $axios({\n      method: 'post',\n      url: url,\n      data: data,\n      headers: {\n        'Content-Type': contentType\n      }\n    });\n  },\n  get(url, params) {\n    return $axios({\n      method: 'get',\n      url: url,\n      params: params\n    });\n  },\n  upload(url, formData, file, method) {\n    let data = formData;\n    if (Object.prototype.toString.call(formData) !== '[object FormData]') {\n      data = new FormData();\n      data.append('appName', appContent);\n      data.append('functionId', url);\n      if (Object.prototype.toString.call(formData) === '[object File]') {\n        let file = formData;\n        formData = new FormData();\n        formData.append('file', file);\n        data.append('file', file);\n      } else if (Object.prototype.toString.call(formData) === '[object Object]') {\n        data.append('body', formData ? JSON.stringify(formData) : '{}');\n        if (file) {\n          data.append('file', file);\n        }\n      }\n    }\n    return $axios({\n      method: method || 'upload',\n      url: hasContent || url.indexOf('/cloud/') == 0 ? url : '/stream/upload',\n      data: hasContent || url.indexOf('/cloud/') == 0 ? formData : data,\n      headers: {\n        'Content-Type': 'multipart/form-data'\n      }\n    });\n  },\n  download(url, params = {}) {\n    let appName = appContent;\n    let functionId = url;\n    let data = params ? JSON.stringify(params) : JSON.stringify({});\n    window.location.href = `/stream/download?appName=${appName}&functionId=${functionId}&body=${data}`;\n  }\n};\n"],"mappings":"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"}]}