{"remainingRequest":"/Users/wangjunxia/work-github/dj-design/node_modules/babel-loader/lib/index.js!/Users/wangjunxia/work-github/dj-design/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/wangjunxia/work-github/dj-design/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/wangjunxia/work-github/dj-design/packages/formItem/src/formItem.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/wangjunxia/work-github/dj-design/packages/formItem/src/formItem.vue","mtime":1676257891917},{"path":"/Users/wangjunxia/work-github/dj-design/babel.config.js","mtime":1660011372032},{"path":"/Users/wangjunxia/work-github/dj-design/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/wangjunxia/work-github/dj-design/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/wangjunxia/work-github/dj-design/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/wangjunxia/work-github/dj-design/node_modules/vue-loader/lib/index.js","mtime":1655715099000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8gaW1wb3J0IHdpdGhDb21wb25lbnQgZnJvbSAnLi93aXRoQ29tcG9uZW50JzsKaW1wb3J0IHZhbGlkYXRlIGZyb20gJy4vdmFsaWRhdGUnOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ2RqRm9ybUl0ZW0nLAogIC8vIGNvbXBvbmVudHM6IHt3aXRoQ29tcG9uZW50fSwKICBwcm9wczogewogICAgdmFsdWU6IHsKICAgICAgdHlwZTogT2JqZWN0LAogICAgICBkZWZhdWx0OiAoKSA9PiB7fQogICAgfSwKICAgIGVtcHR5OiB7CiAgICAgIHR5cGU6IEJvb2xlYW4sCiAgICAgIGRlZmF1bHQ6IHRydWUKICAgIH0sCiAgICBjb2xvbjogewogICAgICB0eXBlOiBCb29sZWFuLAogICAgICBkZWZhdWx0OiB0cnVlCiAgICB9LAogICAgZm9ybTogewogICAgICB0eXBlOiBPYmplY3QKICAgIH0sCiAgICBydWxlOiB7CiAgICAgIHR5cGU6IEFycmF5CiAgICB9LAogICAgdmlldzogewogICAgICB0eXBlOiBCb29sZWFuLAogICAgICBkZWZhdWx0OiB0cnVlCiAgICB9LAogICAgbGFiZWw6IFN0cmluZywKICAgIGZpZWxkOiBTdHJpbmcsCiAgICBmaWVsZHM6IFN0cmluZywKICAgIGxhYmVsVG9wOiB7CiAgICAgIHR5cGU6IEJvb2xlYW4sCiAgICAgIGRlZmF1bHQ6IG51bGwKICAgIH0sCiAgICBpbmxpbmU6IHsKICAgICAgdHlwZTogQm9vbGVhbiwKICAgICAgZGVmYXVsdDogbnVsbAogICAgfSwKICAgIHNob3dFcnJvck1zZzogewogICAgICB0eXBlOiBCb29sZWFuLAogICAgICBkZWZhdWx0OiBudWxsCiAgICB9LAogICAgY2hlY2tQb3BvdmVyOiB7CiAgICAgIHR5cGU6IEJvb2xlYW4sCiAgICAgIGRlZmF1bHQ6IG51bGwKICAgIH0sCiAgICBsYWJlbHdpZHRoOiB7CiAgICAgIHR5cGU6IFN0cmluZwogICAgfSwKICAgIGhlbHA6IHsKICAgICAgdHlwZTogU3RyaW5nCiAgICB9LAogICAgaGVscFdyYXA6IHsKICAgICAgdHlwZTogQm9vbGVhbiwKICAgICAgZGVmYXVsdDogdHJ1ZQogICAgfSwKICAgIGhlbHBDb2xvcjogewogICAgICB0eXBlOiBTdHJpbmcKICAgIH0sCiAgICBmb3JtSXRlbVdpZHRoOiB7CiAgICAgIHR5cGU6IFN0cmluZwogICAgfQogIH0sCgogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBkaXNhYmxlZDogZmFsc2UsCiAgICAgIGVycm9yTXNnOiAnJywKICAgICAgZXJyb3JWaXNpYmxlOiBmYWxzZQogICAgfTsKICB9LAoKICBjb21wdXRlZDogewogICAgZ2V0TGFiZWxXaWR0aCgpIHsKICAgICAgcmV0dXJuIHRoaXMubGFiZWx3aWR0aCB8fCB0aGlzLl9mb3JtLmxhYmVsd2lkdGg7CiAgICB9LAoKICAgIGdldFNob3dFcnJvck1zZygpIHsKICAgICAgaWYgKHRoaXMuc2hvd0Vycm9yTXNnID09IHRydWUgfHwgdGhpcy5zaG93RXJyb3JNc2cgPT09IGZhbHNlKSB7CiAgICAgICAgcmV0dXJuIHRoaXMuc2hvd0Vycm9yTXNnOwogICAgICB9CgogICAgICByZXR1cm4gdGhpcy5fZm9ybS5zaG93RXJyb3JNc2c7CiAgICB9LAoKICAgIGdldENoZWNrUG9wb3ZlcigpIHsKICAgICAgaWYgKHRoaXMuY2hlY2tQb3BvdmVyID09PSB0cnVlIHx8IHRoaXMuY2hlY2tQb3BvdmVyID09PSBmYWxzZSkgewogICAgICAgIHJldHVybiB0aGlzLmNoZWNrUG9wb3ZlcjsKICAgICAgfQoKICAgICAgcmV0dXJuIHRoaXMuX2Zvcm0uY2hlY2tQb3BvdmVyOwogICAgfSwKCiAgICBnZXRJbmxpbmUoKSB7CiAgICAgIGlmICh0aGlzLmlubGluZSA9PT0gdHJ1ZSB8fCB0aGlzLmlubGluZSA9PT0gZmFsc2UpIHsKICAgICAgICByZXR1cm4gdGhpcy5pbmxpbmU7CiAgICAgIH0KCiAgICAgIHJldHVybiB0aGlzLl9mb3JtLmlubGluZTsKICAgIH0sCgogICAgZ2V0TGFiZWxUb3AoKSB7CiAgICAgIGlmICh0aGlzLmxhYmVsVG9wID09PSB0cnVlIHx8IHRoaXMubGFiZWxUb3AgPT09IGZhbHNlKSB7CiAgICAgICAgcmV0dXJuIHRoaXMubGFiZWxUb3A7CiAgICAgIH0KCiAgICAgIHJldHVybiB0aGlzLl9mb3JtLmxhYmVsVG9wOwogICAgfSwKCiAgICBfZm9ybSgpIHsKICAgICAgbGV0IHBhcmVudCA9IHRoaXMuJHBhcmVudDsKICAgICAgbGV0IGNvbXBvbmVudFRhZyA9IHBhcmVudC4kb3B0aW9ucy5fY29tcG9uZW50VGFnOwoKICAgICAgd2hpbGUgKGNvbXBvbmVudFRhZyAhPT0gJ2RqLWZvcm0nKSB7CiAgICAgICAgcGFyZW50ID0gcGFyZW50LiRwYXJlbnQ7CiAgICAgICAgY29tcG9uZW50VGFnID0gcGFyZW50LiRvcHRpb25zLl9jb21wb25lbnRUYWc7CiAgICAgIH0KCiAgICAgIHJldHVybiBwYXJlbnQ7CiAgICB9LAoKICAgIGlzRm9ybUVsKCkgewogICAgICByZXR1cm4gISF0aGlzLiRzbG90cy5kZWZhdWx0LmZpbmQoaXRlbSA9PiAhIVsnZGotaW5wdXQnLCAnZGotc2VsZWN0JywgJ2RqLXJhZGlvJywgJ2RqLWNoZWNrYm94JywgJ2RqLWNoZWNrYm94LWdyb3VwJywgJ2RqLXN3aXRjaCcsICdkai1jb2xvci1waWNrZXInLCAnZGotc3dpdGNoJywgJ2RqLWJ1dHRvbicsICdkai11cGxvYWQnLCAnZGotdGV4dGFyZWEnXS5maW5kKHRhZyA9PiB7CiAgICAgICAgdmFyIF9pdGVtJGNvbXBvbmVudE9wdGlvbjsKCiAgICAgICAgcmV0dXJuIHRhZyA9PSAoKF9pdGVtJGNvbXBvbmVudE9wdGlvbiA9IGl0ZW0uY29tcG9uZW50T3B0aW9ucykgPT09IG51bGwgfHwgX2l0ZW0kY29tcG9uZW50T3B0aW9uID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfaXRlbSRjb21wb25lbnRPcHRpb24udGFnKTsKICAgICAgfSkpOwogICAgfQoKICB9LAogIHdhdGNoOiB7fSwKCiAgY3JlYXRlZCgpIHsKICAgIGlmICghdGhpcy4kc2xvdHMuZGVmYXVsdCkgey8vIGNvbnNvbGUubG9nKHRoaXMuJHNsb3RzLmRlZmF1bHQpOwogICAgfQogIH0sCgogIG1vdW50ZWQoKSB7fSwKCiAgbWV0aG9kczogewogICAgZ2V0RmlsZWRzKCkgewogICAgICByZXR1cm4gdGhpcy5maWVsZCA/IFt0aGlzLmZpZWxkXSA6IHRoaXMuZmllbGRzICYmIHRoaXMuZmllbGRzLnNwbGl0KCcsJykgfHwgW107CiAgICB9LAoKICAgIHZhbGlkYXRlKGlzQ2hhbmdlKSB7CiAgICAgIHRoaXMuZXJyb3JNc2cgPSAnJzsKICAgICAgbGV0IGNoZWNrZWQgPSB0cnVlOwogICAgICBsZXQgZmllbGRzID0gdGhpcy5nZXRGaWxlZHMoKTsKCiAgICAgIGlmIChmaWVsZHMpIHsKICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IGZpZWxkcy5sZW5ndGg7IGorKykgewogICAgICAgICAgbGV0IGZpZWxkID0gZmllbGRzW2pdOwogICAgICAgICAgbGV0IHJ1bGVzID0gdGhpcy5ydWxlIHx8IHRoaXMuX2Zvcm0ucnVsZXNbZmllbGRdOwoKICAgICAgICAgIGlmIChydWxlcykgewogICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHJ1bGVzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICAgICAgbGV0IHJ1bGUgPSBydWxlc1tpXTsKCiAgICAgICAgICAgICAgaWYgKHZhbGlkYXRlLnJ1bGVzW3J1bGUudHlwZV0gJiYgKGlzQ2hhbmdlID8gcnVsZS5jaGFuZ2VUcmlnZ2VyIDogdHJ1ZSkpIHsKICAgICAgICAgICAgICAgIHRoaXMuZXJyb3JWaXNpYmxlID0gZmFsc2U7CiAgICAgICAgICAgICAgICBsZXQgdmFsdWUgPSB0aGlzLmZvcm0gPyB0aGlzLmZvcm1bZmllbGRdIDogdGhpcy5fZm9ybS5kYXRhW2ZpZWxkXTsKICAgICAgICAgICAgICAgIGNoZWNrZWQgPSB2YWxpZGF0ZS5ydWxlc1tydWxlLnR5cGVdLmNhbGwodGhpcy5mb3JtIHx8IHRoaXMuX2Zvcm0uZGF0YSwgdmFsdWUsIHJ1bGUpOwoKICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgY2hlY2tlZCA9PSAnc3RyaW5nJyA/IGNoZWNrZWQgOiAhY2hlY2tlZCkgewogICAgICAgICAgICAgICAgICBsZXQgbmFtZSA9IHRoaXMubGFiZWw7CiAgICAgICAgICAgICAgICAgIGxldCBtc2cgPSB2YWxpZGF0ZS50ZW1wbGF0ZXNbcnVsZS50eXBlXTsKCiAgICAgICAgICAgICAgICAgIGlmIChydWxlLnRyYW5zZm9ybSA9PSAnc3RyaW5nJyB8fCBydWxlLnRyYW5zZm9ybSA9PSAnYXJyYXknIHx8IHR5cGVvZiB2YWx1ZSA9PT0gJ3N0cmluZycgfHwgQXJyYXkuaXNBcnJheSh2YWx1ZSkpIHsKICAgICAgICAgICAgICAgICAgICBtc2cgPSB2YWxpZGF0ZS50ZW1wbGF0ZXNbcnVsZS50eXBlICsgJ3N0cmluZyddIHx8IHZhbGlkYXRlLnRlbXBsYXRlc1tydWxlLnR5cGVdOwogICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICBpZiAocnVsZS50eXBlID09PSAndHlwZScpIHsKICAgICAgICAgICAgICAgICAgICBsZXQgdHlwZU5hbWUgPSB2YWxpZGF0ZS50eXBlTmFtZVtydWxlLmlzXTsKICAgICAgICAgICAgICAgICAgICBtc2cgPSBtc2cgKyB0eXBlTmFtZTsKICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgdGhpcy5lcnJvclZpc2libGUgPSB0cnVlOwogICAgICAgICAgICAgICAgICB0aGlzLmVycm9yTXNnID0gKCh0eXBlb2YgY2hlY2tlZCA9PSAnc3RyaW5nJyA/IGNoZWNrZWQgOiAnJykgfHwgcnVsZS5tc2cgfHwgbXNnIHx8IGAke25hbWV95qCh6aqM5LiN6YCa6L+HYCkucmVwbGFjZSgvXCRce25hbWVcfS9nLCB0aGlzLmxhYmVsKS5yZXBsYWNlKC9cJFx7dHlwZVx9L2csIHJ1bGUudHlwZSkucmVwbGFjZSgvXCRce21pblx9L2csIHJ1bGUubWluKS5yZXBsYWNlKC9cJFx7bWF4XH0vZywgcnVsZS5tYXgpLnJlcGxhY2UoL1wkXHtlcXVhbFx9L2csIHJ1bGUuZXF1YWwpOwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KCiAgICAgICAgICBpZiAoISh0eXBlb2YgY2hlY2tlZCA9PSAnc3RyaW5nJyA/IGZhbHNlIDogY2hlY2tlZCkpIHJldHVybiBmYWxzZTsKICAgICAgICB9CiAgICAgIH0KCiAgICAgIHJldHVybiB0cnVlOwogICAgfSwKCiAgICByZXNldCgpIHsKICAgICAgbGV0IGZvcm0gPSB0aGlzLmZvcm0gfHwgdGhpcy5fZm9ybS5kYXRhOwogICAgICB0aGlzLmdldEZpbGVkcygpLmZvckVhY2goZmllbGQgPT4gewogICAgICAgIGlmIChBcnJheS5pc0FycmF5KGZvcm1bZmllbGRdKSkgewogICAgICAgICAgZm9ybVtmaWVsZF0gPSBbXTsKICAgICAgICB9IGVsc2UgaWYgKHR5cGVvZiBmb3JtW2ZpZWxkXSA9PSAnc3RyaW5nJykgewogICAgICAgICAgZm9ybVtmaWVsZF0gPSAnJzsKICAgICAgICB9IGVsc2UgaWYgKHR5cGVvZiBmb3JtW2ZpZWxkXSA9PSAnYm9vbGVhbicpIHsKICAgICAgICAgIGZvcm1bZmllbGRdID0gZmFsc2U7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGZvcm1bZmllbGRdID0gbnVsbDsKICAgICAgICB9CiAgICAgIH0pOwogICAgICB0aGlzLnJlc2V0VmFsaWRhdGUoKTsKICAgIH0sCgogICAgcmVzZXRWYWxpZGF0ZSgpIHsKICAgICAgdGhpcy5lcnJvck1zZyA9ICcnOwogICAgfSwKCiAgICBzZXREaXNhYmxlZChkaXNhYmxlZCkgewogICAgICB0aGlzLmRpc2FibGVkID0gZGlzYWJsZWQ7CiAgICB9LAoKICAgIGdldEVycm9yTXNnKCkgewogICAgICByZXR1cm4gdGhpcy5lcnJvck1zZzsKICAgIH0sCgogICAgcmVmcmFzaCgpIHsKICAgICAgbGV0IGZvcm0gPSB0aGlzLmZvcm0gfHwgdGhpcy5fZm9ybS5kYXRhOwogICAgICB0aGlzLmdldEZpbGVkcygpLmZvckVhY2goZmllbGQgPT4gewogICAgICAgIGxldCBvbGQgPSBmb3JtW2ZpZWxkXTsKCiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkoZm9ybVtmaWVsZF0pKSB7CiAgICAgICAgICBmb3JtW2ZpZWxkXSA9IFtdOwogICAgICAgIH0gZWxzZSBpZiAodHlwZW9mIGZvcm1bZmllbGRdID09ICdzdHJpbmcnKSB7CiAgICAgICAgICBmb3JtW2ZpZWxkXSA9IGZvcm1bZmllbGRdID09ICcnID8gJyAnIDogJyc7CiAgICAgICAgfSBlbHNlIGlmICh0eXBlb2YgZm9ybVtmaWVsZF0gPT0gJ2Jvb2xlYW4nKSB7CiAgICAgICAgICBmb3JtW2ZpZWxkXSA9IGZvcm1bZmllbGRdICE9PSB0cnVlOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBmb3JtW2ZpZWxkXSA9IGZvcm1bZmllbGRdID09PSBudWxsID8gdm9pZCAwIDogbnVsbDsKICAgICAgICB9CgogICAgICAgIHRoaXMuJG5leHRUaWNrKCgpID0+IHsKICAgICAgICAgIGZvcm1bZmllbGRdID0gb2xkOwogICAgICAgIH0pOwogICAgICB9KTsKICAgIH0KCiAgfQp9Ow=="},{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;AA0BA;AACA;AAEA;EACAA,kBADA;EAEA;EACAC;IACAC;MACAC,YADA;MAEAC;IAFA,CADA;IAKAC;MACAF,aADA;MAEAC;IAFA,CALA;IASAE;MACAH,aADA;MAEAC;IAFA,CATA;IAaAG;MACAJ;IADA,CAbA;IAgBAK;MACAL;IADA,CAhBA;IAmBAM;MACAN,aADA;MAEAC;IAFA,CAnBA;IAuBAM,aAvBA;IAwBAC,aAxBA;IAyBAC,cAzBA;IA0BAC;MACAV,aADA;MAEAC;IAFA,CA1BA;IA8BAU;MACAX,aADA;MAEAC;IAFA,CA9BA;IAkCAW;MACAZ,aADA;MAEAC;IAFA,CAlCA;IAsCAY;MACAb,aADA;MAEAC;IAFA,CAtCA;IA0CAa;MACAd;IADA,CA1CA;IA6CAe;MACAf;IADA,CA7CA;IAgDAgB;MACAhB,aADA;MAEAC;IAFA,CAhDA;IAoDAgB;MACAjB;IADA,CApDA;IAuDAkB;MACAlB;IADA;EAvDA,CAHA;;EA8DAmB;IACA;MACAC,eADA;MAEAC,YAFA;MAGAC;IAHA;EAKA,CApEA;;EAqEAC;IACAC;MACA;IACA,CAHA;;IAIAC;MACA;QACA;MACA;;MACA;IACA,CATA;;IAUAC;MACA;QACA;MACA;;MACA;IACA,CAfA;;IAgBAC;MACA;QACA;MACA;;MACA;IACA,CArBA;;IAsBAC;MACA;QACA;MACA;;MACA;IACA,CA3BA;;IA4BAC;MACA;MACA;;MACA;QACAC;QACAC;MACA;;MACA;IACA,CApCA;;IAqCAC;MACA;QAAA;;QAAA;MAAA;IACA;;EAvCA,CArEA;EA8GAC,SA9GA;;EAgHAC;IACA,2BACA;IACA;EACA,CApHA;;EAqHAC,WACA,CAtHA;;EAuHAC;IACAC;MACA;IACA,CAHA;;IAIAC;MACA;MACA;MACA;;MACA;QACA;UACA;UACA;;UACA;YACA;cACA;;cACA;gBACA;gBACA;gBACAC;;gBACA;kBACA;kBACA;;kBACA;oBACAC;kBACA;;kBACA;oBACA;oBACAA;kBACA;;kBACA;kBACA,mGACAC,OADA,CACA,aADA,EACA,UADA,EAEAA,OAFA,CAEA,aAFA,EAEApC,SAFA,EAGAoC,OAHA,CAGA,YAHA,EAGApC,QAHA,EAIAoC,OAJA,CAIA,YAJA,EAIApC,QAJA,EAKAoC,OALA,CAKA,cALA,EAKApC,UALA;kBAMA;gBACA;cACA;YACA;UACA;;UACA,qDACA;QACA;MACA;;MACA;IACA,CA9CA;;IA+CAqC;MACA;MACA;QACA;UACAtC;QACA,CAFA,MAEA;UACAA;QACA,CAFA,MAEA;UACAA;QACA,CAFA,MAEA;UACAA;QACA;MACA,CAVA;MAWA;IACA,CA7DA;;IA8DAuC;MACA;IACA,CAhEA;;IAiEAC;MACA;IACA,CAnEA;;IAoEAC;MACA;IACA,CAtEA;;IAuEAC;MACA;MACA;QACA;;QACA;UACA1C;QACA,CAFA,MAEA;UACAA;QACA,CAFA,MAEA;UACAA;QACA,CAFA,MAEA;UACAA;QACA;;QACA;UACAA;QACA,CAFA;MAGA,CAdA;IAeA;;EAxFA;AAvHA","names":["name","props","value","type","default","empty","colon","form","rule","view","label","field","fields","labelTop","inline","showErrorMsg","checkPopover","labelwidth","help","helpWrap","helpColor","formItemWidth","data","disabled","errorMsg","errorVisible","computed","getLabelWidth","getShowErrorMsg","getCheckPopover","getInline","getLabelTop","_form","parent","componentTag","isFormEl","watch","created","mounted","methods","getFileds","validate","checked","msg","replace","reset","resetValidate","setDisabled","getErrorMsg","refrash"],"sourceRoot":"packages/formItem/src","sources":["formItem.vue"],"sourcesContent":["<template>\n  <div class=\"dj-form-item\" :class=\"{'error': errorMsg, 'dj-form-item-inline': inline, 'dj-form-item-column': labelTop, 'dj-form-item-empty': !($slots.default || label)}\" :style=\"formItemWidth ? `width: ${formItemWidth}` : (!getShowErrorMsg || !getCheckPopover || _form.formwidth) && !getInline && `width: 100%;`\">\n    <label v-if=\"($slots.default || label)\" :style=\"getLabelWidth && `width: ${getLabelWidth};` || ''\" class=\"dj-form-item_label\" :class=\"{'empty': label && empty, 'colon': label && colon, 'noright': !label}\">{{label}}</label>\n    <div v-if=\"_form.type == 'info' && view && ($slots.default || label)\"  class=\"dj-form-item-content\" :style=\"`width: calc(100% - ${getLabelWidth});`\">\n      <slot name=\"info\" v-bind=\"form || _form.data\">\n        {{form ? form : _form.data[field]}}\n      </slot>\n    </div>\n    <div v-else-if=\"($slots.default || label)\" :style=\"`width: ${getLabelTop ? '100%' : 'calc(100% - ' + getLabelWidth + ')'};`\">\n        <div class=\"dj-form-item-content\" :style=\"`width: 100%;`\">\n            <!-- <withComponent v-if=\"isFormEl\" :slotsDefault=\"$slots.default\" :disabled=\"disabled\" @change=\"validate(true)\"/> -->\n            <slot/>\n            <div v-if=\"getShowErrorMsg && errorMsg && getCheckPopover\" class=\"dj-form-item-info\">\n                <dj-popover :placement=\"_form.errorMsgPosition\" :visible.sync=\"errorVisible\" trigger=\"hover\"><div class=\"error\" slot=\"content\">{{errorMsg}}</div><dj-icon icon=\"help\"></dj-icon></dj-popover>\n            </div>\n            <div v-if=\"help && !helpWrap\" :style=\"helpColor && `color: ${helpColor};`\" class=\"dj-form-item-help\">{{help}}</div>\n        </div>\n        <div v-if=\"help && helpWrap\" :style=\"helpColor && `color: ${helpColor};`\" class=\"dj-form-item-help dj-form-item-helpB\">{{help}}</div>\n        <div v-if=\"getShowErrorMsg && errorMsg && !getCheckPopover\" class=\"dj-form-item-infoB\">\n            <div class=\"error\" slot=\"content\">{{errorMsg}}</div>\n        </div>\n    </div>\n  </div>\n</template>\n\n<script>\n// import withComponent from './withComponent';\nimport validate from './validate';\n\nexport default {\n  name: 'djFormItem',\n  // components: {withComponent},\n  props: {\n    value: {\n      type: Object,\n      default: () => {}\n    },\n    empty: {\n      type: Boolean,\n      default: true\n    },\n    colon: {\n      type: Boolean,\n      default: true\n    },\n    form: {\n      type: Object\n    },\n    rule: {\n      type: Array\n    },\n    view: {\n      type: Boolean,\n      default: true\n    },\n    label: String,\n    field: String,\n    fields: String,\n    labelTop: {\n      type: Boolean,\n      default: null\n    },\n    inline: {\n      type: Boolean,\n      default: null\n    },\n    showErrorMsg: {\n      type: Boolean,\n      default: null\n    },\n    checkPopover: {\n      type: Boolean,\n      default: null\n    },\n    labelwidth: {\n      type: String\n    },\n    help: {\n      type: String\n    },\n    helpWrap: {\n      type: Boolean,\n      default: true\n    },\n    helpColor: {\n      type: String\n    },\n    formItemWidth: {\n      type: String\n    }\n  },\n  data() {\n    return {\n      disabled: false,\n      errorMsg: '',\n      errorVisible: false\n    };\n  },\n  computed: {\n    getLabelWidth() {\n      return this.labelwidth || this._form.labelwidth;\n    },\n    getShowErrorMsg() {\n      if (this.showErrorMsg == true || this.showErrorMsg === false) {\n        return this.showErrorMsg;\n      }\n      return this._form.showErrorMsg;\n    },\n    getCheckPopover() {\n      if (this.checkPopover === true || this.checkPopover === false) {\n        return this.checkPopover;\n      }\n      return this._form.checkPopover;\n    },\n    getInline() {\n      if (this.inline === true || this.inline === false) {\n        return this.inline;\n      }\n      return this._form.inline;\n    },\n    getLabelTop() {\n      if (this.labelTop === true || this.labelTop === false) {\n        return this.labelTop;\n      }\n      return this._form.labelTop;\n    },\n    _form() {\n      let parent = this.$parent;\n      let componentTag = parent.$options._componentTag;\n      while (componentTag !== 'dj-form') {\n        parent = parent.$parent;\n        componentTag = parent.$options._componentTag;\n      }\n      return parent;\n    },\n    isFormEl() {\n      return !!this.$slots.default.find(item => !!['dj-input', 'dj-select', 'dj-radio', 'dj-checkbox', 'dj-checkbox-group', 'dj-switch', 'dj-color-picker', 'dj-switch', 'dj-button', 'dj-upload', 'dj-textarea'].find(tag => tag == item.componentOptions?.tag));\n    }\n  },\n  watch: {\n  },\n  created() {\n    if (!this.$slots.default) {\n      // console.log(this.$slots.default);\n    }\n  },\n  mounted() {\n  },\n  methods: {\n    getFileds() {\n      return this.field ? [this.field] : this.fields && this.fields.split(',') || [];\n    },\n    validate(isChange) {\n      this.errorMsg = '';\n      let checked = true;\n      let fields = this.getFileds();\n      if (fields) {\n        for (let j = 0; j < fields.length; j++) {\n          let field = fields[j];\n          let rules = this.rule || this._form.rules[field];\n          if (rules) {\n            for (let i = 0; i < rules.length; i++) {\n              let rule = rules[i];\n              if (validate.rules[rule.type] && (isChange ? rule.changeTrigger : true)) {\n                this.errorVisible = false;\n                let value = this.form ? this.form[field] : this._form.data[field];\n                checked = validate.rules[rule.type].call(this.form || this._form.data, value, rule);\n                if (typeof checked == 'string' ? checked : !checked) {\n                  let name = this.label;\n                  let msg = validate.templates[rule.type];\n                  if (rule.transform == 'string' || rule.transform == 'array' || typeof value === 'string' || Array.isArray(value)) {\n                    msg = validate.templates[rule.type + 'string'] || validate.templates[rule.type];\n                  }\n                  if (rule.type === 'type') {\n                    let typeName = validate.typeName[rule.is];\n                    msg = msg + typeName;\n                  }\n                  this.errorVisible = true;\n                  this.errorMsg = ((typeof checked == 'string' ? checked : '') || rule.msg || msg || `${name}校验不通过`)\n                    .replace(/\\$\\{name\\}/g, this.label)\n                    .replace(/\\$\\{type\\}/g, rule.type)\n                    .replace(/\\$\\{min\\}/g, rule.min)\n                    .replace(/\\$\\{max\\}/g, rule.max)\n                    .replace(/\\$\\{equal\\}/g, rule.equal);\n                  break;\n                }\n              }\n            }\n          }\n          if (!(typeof checked == 'string' ? false : checked))\n            return false;\n        }\n      }\n      return true;\n    },\n    reset() {\n      let form = this.form || this._form.data;\n      this.getFileds().forEach((field) => {\n        if (Array.isArray(form[field])) {\n          form[field] = [];\n        } else if (typeof form[field] == 'string') {\n          form[field] = '';\n        } else if (typeof form[field] == 'boolean') {\n          form[field] = false;\n        } else {\n          form[field] = null;\n        }\n      });\n      this.resetValidate();\n    },\n    resetValidate() {\n      this.errorMsg = '';\n    },\n    setDisabled(disabled) {\n      this.disabled = disabled;\n    },\n    getErrorMsg() {\n      return this.errorMsg;\n    },\n    refrash() {\n      let form = this.form || this._form.data;\n      this.getFileds().forEach(field => {\n        let old = form[field];\n        if (Array.isArray(form[field])) {\n          form[field] = [];\n        } else if (typeof form[field] == 'string') {\n          form[field] = form[field] == '' ? ' ' : '';\n        } else if (typeof form[field] == 'boolean') {\n          form[field] = form[field] !== true;\n        } else {\n          form[field] = form[field] === null ? void 0 : null;\n        }\n        this.$nextTick(() => {\n          form[field] = old;\n        });\n      });\n    }\n  }\n};\n</script>\n\n<style lang=\"less\" scoped>\n</style>\n"]}]}