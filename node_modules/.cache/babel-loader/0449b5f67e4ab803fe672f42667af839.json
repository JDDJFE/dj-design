{"remainingRequest":"/Users/wangjunxia/work-github/dj-design/node_modules/babel-loader/lib/index.js!/Users/wangjunxia/work-github/dj-design/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/wangjunxia/work-github/dj-design/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/wangjunxia/work-github/dj-design/packages/colorPicker/src/colorPicker.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/wangjunxia/work-github/dj-design/packages/colorPicker/src/colorPicker.vue","mtime":1673509764310},{"path":"/Users/wangjunxia/work-github/dj-design/babel.config.js","mtime":1660011372032},{"path":"/Users/wangjunxia/work-github/dj-design/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/wangjunxia/work-github/dj-design/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/wangjunxia/work-github/dj-design/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/wangjunxia/work-github/dj-design/node_modules/vue-loader/lib/index.js","mtime":1655715099000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdkakNvbG9yUGlja2VyJywKICBjb21wb25lbnRzOiB7fSwKICBwcm9wczogewogICAgdmFsdWU6IFN0cmluZywKICAgIG5hbWU6IFN0cmluZywKICAgIHBsYWNlaG9sZGVyOiBTdHJpbmcsCiAgICBkaXNhYmxlZDogewogICAgICB0eXBlOiBCb29sZWFuLAogICAgICBkZWZhdWx0OiBmYWxzZQogICAgfSwKICAgIHJlYWRvbmx5OiB7CiAgICAgIHR5cGU6IEJvb2xlYW4sCiAgICAgIGRlZmF1bHQ6IGZhbHNlCiAgICB9LAogICAgYXV0b2ZvY3VzOiB7CiAgICAgIHR5cGU6IEJvb2xlYW4sCiAgICAgIGRlZmF1bHQ6IGZhbHNlCiAgICB9LAogICAgc2l6ZTogewogICAgICB0eXBlOiBTdHJpbmcsCiAgICAgIGRlZmF1bHQ6ICdzbWFsbCcKICAgIH0sCiAgICBzaG93SW5wdXQ6IHsKICAgICAgdHlwZTogQm9vbGVhbiwKICAgICAgZGVmYXVsdDogdHJ1ZQogICAgfQogIH0sCgogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICB2YWw6IHRoaXMudmFsdWUgfHwgJycsCiAgICAgIGlzRXJyb3I6IGZhbHNlCiAgICB9OwogIH0sCgogIGNvbXB1dGVkOiB7fSwKICB3YXRjaDogewogICAgdmFsdWU6IGZ1bmN0aW9uIChuLCBvKSB7CiAgICAgIGlmICh0aGlzLnZhbHVlICE9IHRoaXMudmFsKSB7CiAgICAgICAgdGhpcy52YWwgPSB0aGlzLnZhbHVlOwogICAgICB9CiAgICB9LAogICAgdmFsOiBmdW5jdGlvbiAobiwgbykgewogICAgICB0aGlzLiRlbWl0KCdpbnB1dCcsIHRoaXMudmFsKTsKICAgIH0KICB9LAoKICBtb3VudGVkKCkgewogICAgdGhpcy5pc0Vycm9yID0gdGhpcy4kZWwuY2xhc3NMaXN0ICYmIHRoaXMuJGVsLmNsYXNzTGlzdC5jb250YWlucygnZXJyb3InKTsgLy8g55uR5ZCsY2xhc3PnmoTlj5jljJYKCiAgICB2YXIgT2JzZXJ2ZXIgPSBuZXcgTXV0YXRpb25PYnNlcnZlcigobXV0YXRpb25zLCBpbnN0YW5jZSkgPT4gewogICAgICB0aGlzLmlzRXJyb3IgPSBtdXRhdGlvbnNbMF0udGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucygnZXJyb3InKTsKICAgIH0pOwogICAgT2JzZXJ2ZXIub2JzZXJ2ZSh0aGlzLiRlbCwgewogICAgICBhdHRyaWJ1dGVzOiB0cnVlCiAgICB9KTsKICB9LAoKICBtZXRob2RzOiB7CiAgICBmb2N1cygpIHsKICAgICAgdGhpcy4kcmVmcy5jb2xvci5mb2N1cygpOwogICAgfSwKCiAgICBibHVyKCkgewogICAgICB0aGlzLiRyZWZzLmNvbG9yLmJsdXIoKTsKICAgIH0sCgogICAgc2VsZWN0KCkgewogICAgICB0aGlzLiRyZWZzLmNvbG9yLnNlbGVjdCgpOwogICAgfSwKCiAgICBoYW5kRXZlbnQodHlwZSwgJGV2ZW50KSB7CiAgICAgIGlmICh0eXBlID09ICdpbnB1dCcgfHwgdHlwZSA9PSAnY2hhbmdlJykgewogICAgICAgIHRoaXMuJGVtaXQodHlwZSwgdGhpcy52YWwsICRldmVudCk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy4kZW1pdCh0eXBlLCAkZXZlbnQpOwogICAgICB9CiAgICB9LAoKICAgIGZ1bmlucHV0KHZhbCkgewogICAgICBsZXQgY29sb3IgPSAnJzsKCiAgICAgIGlmICh2YWwuaW5kZXhPZignIycpID09PSAwKSB7CiAgICAgICAgY29sb3IgPSAnIyc7CiAgICAgIH0KCiAgICAgIHZhbCA9IHZhbC5yZXBsYWNlKC9bXlxkIHx8IGEtZiB8fCBBLUZdL2csICcnKTsKICAgICAgY29sb3IgKz0gdmFsLnN1YnN0cmluZygwLCA2KTsKICAgICAgcmV0dXJuIGNvbG9yOwogICAgfQoKICB9Cn07"},{"version":3,"mappings":";;;;;;;;;;AAYA;EACAA,qBADA;EAEAC,cAFA;EAGAC;IACAC,aADA;IAEAH,YAFA;IAGAI,mBAHA;IAIAC;MACAC,aADA;MAEAC;IAFA,CAJA;IAQAC;MACAF,aADA;MAEAC;IAFA,CARA;IAYAE;MACAH,aADA;MAEAC;IAFA,CAZA;IAgBAG;MACAJ,YADA;MAEAC;IAFA,CAhBA;IAoBAI;MACAL,aADA;MAEAC;IAFA;EApBA,CAHA;;EA4BAK;IACA;MACAC,qBADA;MAEAC;IAFA;EAIA,CAjCA;;EAkCAC,YAlCA;EAoCAC;IACAb;MACA;QACA;MACA;IACA,CALA;IAMAU;MACA;IACA;EARA,CApCA;;EA8CAI;IACA,0EADA,CAEA;;IACA;MACA;IACA,CAFA;IAGAC;MACAC;IADA;EAGA,CAvDA;;EAwDAC;IACAC;MACA;IACA,CAHA;;IAIAC;MACA;IACA,CANA;;IAOAC;MACA;IACA,CATA;;IAUAC;MACA;QACA;MACA,CAFA,MAEA;QACA;MACA;IACA,CAhBA;;IAiBAC;MACA;;MACA;QACAC;MACA;;MACAb;MACAa;MACA;IACA;;EAzBA;AAxDA","names":["name","components","props","value","placeholder","disabled","type","default","readonly","autofocus","size","showInput","data","val","isError","computed","watch","mounted","Observer","attributes","methods","focus","blur","select","handEvent","funinput","color"],"sourceRoot":"packages/colorPicker/src","sources":["colorPicker.vue"],"sourcesContent":["<template>\n  <div class=\"dj-color-picker\" :class=\"[size]\" :style=\"!showInput && 'width: auto'\">\n    <dj-input ref=\"color\" :showInput=\"showInput\" size=\"\" v-model=\"val\" :name=\"name\" :placeholder=\"placeholder\" :maxlength=\"7\" :disabled=\"disabled\" :readonly=\"readonly\" :funinput=\"funinput\" :autofocus=\"autofocus\" :class=\"{'error': isError}\" @input=\"handEvent('input', $event)\" @change=\"handEvent('change', $event)\" @focus=\"handEvent('focus', $event)\" @blur=\"handEvent('blur', $event)\">>\n      <template slot=\"after\">\n        <div class=\"color\"><input v-model=\"val\" type=\"color\" @change=\"handEvent('change', $event)\" :disabled=\"disabled\"/></div>\n      </template>\n    </dj-input>\n  </div>\n</template>\n\n<script>\n\nexport default {\n  name: 'djColorPicker',\n  components: {},\n  props: {\n    value: String,\n    name: String,\n    placeholder: String,\n    disabled: {\n      type: Boolean,\n      default: false\n    },\n    readonly: {\n      type: Boolean,\n      default: false\n    },\n    autofocus: {\n      type: Boolean,\n      default: false\n    },\n    size: {\n      type: String,\n      default: 'small'\n    },\n    showInput: {\n      type: Boolean,\n      default: true\n    }\n  },\n  data() {\n    return {\n      val: this.value || '',\n      isError: false\n    };\n  },\n  computed: {\n  },\n  watch: {\n    value: function(n, o) {\n      if (this.value != this.val) {\n        this.val = this.value;\n      }\n    },\n    val: function(n, o) {\n      this.$emit('input',this.val);\n    }\n  },\n  mounted() {\n    this.isError = this.$el.classList && this.$el.classList.contains('error');\n    // 监听class的变化\n    var Observer = new MutationObserver((mutations, instance) => {\n      this.isError = mutations[0].target.classList.contains('error');\n    });\n    Observer.observe(this.$el, {\n      attributes: true\n    });\n  },\n  methods: {\n    focus() {\n      this.$refs.color.focus();\n    },\n    blur() {\n      this.$refs.color.blur();\n    },\n    select() {\n      this.$refs.color.select();\n    },\n    handEvent(type, $event){\n      if (type == 'input' || type == 'change') {\n        this.$emit(type, this.val, $event);\n      } else {\n        this.$emit(type, $event);\n      }\n    },\n    funinput(val) {\n      let color = '';\n      if (val.indexOf('#') === 0) {\n        color = '#';\n      }\n      val = val.replace(/[^\\d || a-f || A-F]/g, '');\n      color += val.substring(0, 6);\n      return color;\n    }\n  }\n};\n</script>\n\n<style lang=\"less\" scoped>\n</style>\n"]}]}