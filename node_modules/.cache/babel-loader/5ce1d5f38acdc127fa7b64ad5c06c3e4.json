{"remainingRequest":"/Users/wangjunxia/work-github/dj-design/node_modules/babel-loader/lib/index.js!/Users/wangjunxia/work-github/dj-design/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/wangjunxia/work-github/dj-design/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/wangjunxia/work-github/dj-design/packages/tabs/src/tab.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/wangjunxia/work-github/dj-design/packages/tabs/src/tab.vue","mtime":1673509764359},{"path":"/Users/wangjunxia/work-github/dj-design/babel.config.js","mtime":1660011372032},{"path":"/Users/wangjunxia/work-github/dj-design/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/wangjunxia/work-github/dj-design/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/wangjunxia/work-github/dj-design/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/wangjunxia/work-github/dj-design/node_modules/vue-loader/lib/index.js","mtime":1655715099000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdkalRhYicsCiAgcHJvcHM6IHsKICAgIHZhbHVlOiB7CiAgICAgIHR5cGU6IFtTdHJpbmcsIE51bWJlcl0sCiAgICAgIHJlcXVpcmVkOiB0cnVlCiAgICB9LAogICAgdHlwZTogewogICAgICB0eXBlOiBbU3RyaW5nXSwKICAgICAgZGVmYXVsdDogJ2JvcmRlcicKICAgIH0sCiAgICBib3JkZXI6IHsKICAgICAgdHlwZTogW0Jvb2xlYW5dLAogICAgICBkZWZhdWx0OiBmYWxzZQogICAgfSwKICAgIHZpc2libGU6IHsKICAgICAgdHlwZTogW0Jvb2xlYW5dLAogICAgICBkZWZhdWx0OiBmYWxzZQogICAgfSwKICAgIHRhYlBvc2l0aW9uOiB7CiAgICAgIHR5cGU6IFtTdHJpbmddLAogICAgICBkZWZhdWx0OiAndG9wJwogICAgfSwKICAgIGxhenk6IHsKICAgICAgdHlwZTogW0Jvb2xlYW5dLAogICAgICBkZWZhdWx0OiBmYWxzZQogICAgfQogIH0sCgogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBjdXJyZW50TmFtZTogdGhpcy52YWx1ZSwKICAgICAgbmF2TGlzdDogW10sCiAgICAgIHNlbGY6IG51bGwKICAgIH07CiAgfSwKCiAgY29tcG9uZW50czogewogICAgUmVuZGVyRG9tOiB7CiAgICAgIHByb3BzOiB7CiAgICAgICAgdk5vZGU6IFtBcnJheSwgU3RyaW5nLCBPYmplY3QsIE51bWJlcl0KICAgICAgfSwKCiAgICAgIHJlbmRlcihoKSB7CiAgICAgICAgaWYgKHR5cGVvZiB0aGlzLnZOb2RlID09PSAnb2JqZWN0JykgewogICAgICAgICAgcmV0dXJuIHRoaXMudk5vZGU7CiAgICAgICAgfQoKICAgICAgICByZXR1cm4gaCgnZGl2JywgdGhpcy52Tm9kZSk7CiAgICAgIH0KCiAgICB9CiAgfSwKICBjb21wdXRlZDogewogICAgYmFyU3R5bGUoKSB7CiAgICAgIGlmICh0aGlzLnNlbGYgJiYgdGhpcy5pc1Bvc2l0aW9uKSB7CiAgICAgICAgbGV0IG9mZnNldCA9IHRoaXMuc2VsZi50YXJnZXQ7CiAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICdoZWlnaHQnOiBgJHtvZmZzZXQub2Zmc2V0SGVpZ2h0fXB4YCwKICAgICAgICAgICd0cmFuc2Zvcm0nOiBgdHJhbnNsYXRlWSgke29mZnNldC5vZmZzZXRUb3B9cHgpYAogICAgICAgIH07CiAgICAgIH0KCiAgICAgIGlmICh0aGlzLnNlbGYgJiYgdGhpcy50eXBlID09ICdib3JkZXInKSB7CiAgICAgICAgbGV0IG9mZnNldCA9IHRoaXMuc2VsZi50YXJnZXQ7CiAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICd3aWR0aCc6IGAke29mZnNldC5vZmZzZXRXaWR0aH1weGAsCiAgICAgICAgICAndHJhbnNmb3JtJzogYHRyYW5zbGF0ZVgoJHtvZmZzZXQub2Zmc2V0TGVmdH1weClgCiAgICAgICAgfTsKICAgICAgfQoKICAgICAgcmV0dXJuIHt9OwogICAgfSwKCiAgICBpc1Bvc2l0aW9uKCkgewogICAgICByZXR1cm4gdGhpcy50YWJQb3NpdGlvbiA9PSAnbGVmdCcgfHwgdGhpcy50YWJQb3NpdGlvbiA9PSAncmlnaHQnOwogICAgfQoKICB9LAoKICBtb3VudGVkKCkgewogICAgdGhpcy50eXBlID09ICdib3JkZXInICYmIHRoaXMub2Zmc2V0QW5tdCgpOwogIH0sCgogIG1ldGhvZHM6IHsKICAgIHJlZnJlc2goKSB7CiAgICAgIHRoaXMuJG5leHRUaWNrKCgpID0+IHsKICAgICAgICB0aGlzLm9mZnNldEFubXQoKTsKICAgICAgfSk7CiAgICB9LAoKICAgIG9mZnNldEFubXQoKSB7CiAgICAgIGxldCBkb20gPSB0aGlzLiRyZWZzLmJhci5xdWVyeVNlbGVjdG9yKCcuaXMtYWN0aXZlJyk7CgogICAgICBpZiAoZG9tKSB7CiAgICAgICAgdGhpcy5zZWxmID0gewogICAgICAgICAgdGFyZ2V0OiB7CiAgICAgICAgICAgIG9mZnNldFdpZHRoOiBkb20ub2Zmc2V0V2lkdGgsCiAgICAgICAgICAgIG9mZnNldExlZnQ6IGRvbS5vZmZzZXRMZWZ0LAogICAgICAgICAgICBvZmZzZXRIZWlnaHQ6IGRvbS5vZmZzZXRIZWlnaHQsCiAgICAgICAgICAgIG9mZnNldFRvcDogZG9tLm9mZnNldFRvcAogICAgICAgICAgfQogICAgICAgIH07CiAgICAgIH0KICAgIH0sCgogICAgaGFuZENsaWNrKGUsIG5hbWUsIGxhYmVsKSB7CiAgICAgIGxldCBvbGQgPSB7CiAgICAgICAgdmFsdWU6IHRoaXMudmFsdWUKICAgICAgfTsKICAgICAgaWYgKGUudGFyZ2V0LmxvY2FsTmFtZSA9PSAnbGknKSB0aGlzLnNlbGYgPSBlOwogICAgICB0aGlzLiRlbWl0KCdpbnB1dCcsIG5hbWUpOwogICAgICB0aGlzLiRlbWl0KCd0YWItY2hhbmdlJywgbmFtZSwgbGFiZWwsIGUsIG9sZCk7CiAgICAgIHRoaXMuY3VycmVudE5hbWUgPSBuYW1lOwogICAgfQoKICB9LAogIHdhdGNoOiB7CiAgICB2YWx1ZSh2YWwpIHsKICAgICAgdGhpcy5jdXJyZW50TmFtZSA9IHZhbDsKCiAgICAgIGlmICh0aGlzLnR5cGUgPT0gJ2JvcmRlcicpIHsKICAgICAgICB0aGlzLiRuZXh0VGljaygoKSA9PiB7CiAgICAgICAgICB0aGlzLm9mZnNldEFubXQoKTsKICAgICAgICB9KTsKICAgICAgfQogICAgfQoKICB9Cn07"},{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAuCA;EACAA,aADA;EAEAC;IACAC;MACAC,sBADA;MAEAC;IAFA,CADA;IAKAD;MACAA,cADA;MAEAE;IAFA,CALA;IASAC;MACAH,eADA;MAEAE;IAFA,CATA;IAaAE;MACAJ,eADA;MAEAE;IAFA,CAbA;IAiBAG;MACAL,cADA;MAEAE;IAFA,CAjBA;IAqBAI;MACAN,eADA;MAEAE;IAFA;EArBA,CAFA;;EA4BAK;IACA;MACAC,uBADA;MAEAC,WAFA;MAGAC;IAHA;EAKA,CAlCA;;EAmCAC;IACAC;MACAd;QACAe;MADA,CADA;;MAIAC;QACA;UACA;QACA;;QACA;MACA;;IATA;EADA,CAnCA;EAgDAC;IACAC;MACA;QACA;QACA;UACA,oCADA;UAEA;QAFA;MAIA;;MACA;QACA;QACA;UACA,kCADA;UAEA;QAFA;MAIA;;MACA;IACA,CAjBA;;IAkBAC;MACA;IACA;;EApBA,CAhDA;;EAsEAC;IACA;EACA,CAxEA;;EAyEAC;IACAC;MACA;QACA;MACA,CAFA;IAGA,CALA;;IAMAC;MACA;;MACA;QACA;UACAC;YACAC,4BADA;YAEAC,0BAFA;YAGAC,8BAHA;YAIAC;UAJA;QADA;MAQA;IACA,CAlBA;;IAmBAC;MACA;QACA5B;MADA;MAGA;MACA;MACA;MACA;IACA;;EA3BA,CAzEA;EAsGA6B;IACA7B;MACA;;MACA;QACA;UACA;QACA,CAFA;MAGA;IACA;;EARA;AAtGA","names":["name","props","value","type","required","default","border","visible","tabPosition","lazy","data","currentName","navList","self","components","RenderDom","vNode","render","computed","barStyle","isPosition","mounted","methods","refresh","offsetAnmt","target","offsetWidth","offsetLeft","offsetHeight","offsetTop","handClick","watch"],"sourceRoot":"packages/tabs/src","sources":["tab.vue"],"sourcesContent":["<template>\n  <div class=\"dj-tab\" :class=\"[`dj-tab-inner_${tabPosition}`]\">\n    <div class=\"dj-tab-content\" v-if=\"tabPosition == 'bottom'\">\n      <slot :border=\"border\" />\n    </div>\n    <div class=\"dj-tab-inner\" ref=\"bar\">\n      <ul\n        class=\"dj-tab-nav\"\n        :class=\"!isPosition && `dj-tab--${type}`\"\n      >\n      <li class=\"active-bar\" :style=\"barStyle\" v-if=\"type == 'border' || isPosition\"></li>\n        <template v-for=\"item in $slots.default\">\n          <li\n            v-if=\"item.componentOptions && item.componentOptions.tag == 'dj-tab-pane'\"\n            :key='item.componentOptions.propsData.name'\n            :class=\"{ 'is-active':item.componentOptions.propsData.name === value }\"\n            @click=\"handClick($event,item.componentOptions.propsData.name,item.componentOptions.propsData.label)\"\n          >\n            <dj-icon\n              fontSize=\"16px\"\n              v-if=\"item.componentOptions.propsData.icon\"\n              :icon='item.componentOptions.propsData.icon'/>\n            <template>{{item.componentOptions.propsData.label}}</template>\n            <div v-if=\"item.componentOptions.children && item.componentOptions.children[0].data && item.componentOptions.children[0].data.slot === 'tab'\">\n              <RenderDom\n                :vNode=\"item.componentOptions.children[0]\">\n              </RenderDom>\n            </div>\n          </li>\n        </template>\n      </ul>\n    </div>\n    <div class=\"dj-tab-content\" v-if=\"tabPosition == 'top' || tabPosition == ''|| isPosition\">\n      <slot :border=\"border\"/>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'djTab',\n  props: {\n    value: {\n      type: [String, Number],\n      required: true\n    },\n    type: {\n      type: [String],\n      default: 'border'\n    },\n    border: {\n      type: [Boolean],\n      default: false\n    },\n    visible: {\n      type: [Boolean],\n      default: false\n    },\n    tabPosition: {\n      type: [String],\n      default: 'top'\n    },\n    lazy: {\n      type: [Boolean],\n      default: false\n    }\n  },\n  data() {\n    return {\n      currentName: this.value,\n      navList: [],\n      self: null\n    };\n  },\n  components: {\n    RenderDom: {\n      props: {\n        vNode: [Array, String, Object, Number]\n      },\n      render(h) {\n        if (typeof this.vNode === 'object') {\n          return this.vNode;\n        }\n        return h('div', this.vNode);\n      }\n    }\n  },\n  computed: {\n    barStyle(){\n      if (this.self && this.isPosition) {\n        let offset = this.self.target;\n        return {\n          'height': `${offset.offsetHeight}px`,\n          'transform': `translateY(${offset.offsetTop}px)`\n        };\n      }\n      if (this.self && this.type == 'border'){\n        let offset = this.self.target;\n        return {\n          'width': `${offset.offsetWidth}px`,\n          'transform': `translateX(${offset.offsetLeft}px)`\n        };\n      }\n      return {};\n    },\n    isPosition() {\n      return this.tabPosition == 'left' || this.tabPosition == 'right';\n    }\n  },\n  mounted() {\n    this.type == 'border' && this.offsetAnmt();\n  },\n  methods: {\n    refresh() {\n      this.$nextTick(() => {\n        this.offsetAnmt();\n      });\n    },\n    offsetAnmt() {\n      let dom = this.$refs.bar.querySelector('.is-active');\n      if (dom){\n        this.self = {\n          target: {\n            offsetWidth: dom.offsetWidth,\n            offsetLeft: dom.offsetLeft,\n            offsetHeight: dom.offsetHeight,\n            offsetTop: dom.offsetTop\n          }\n        };\n      }\n    },\n    handClick(e, name, label) {\n      let old = {\n        value: this.value\n      };\n      if (e.target.localName == 'li') this.self = e;\n      this.$emit('input', name);\n      this.$emit('tab-change', name, label, e, old);\n      this.currentName = name;\n    }\n  },\n  watch: {\n    value(val){\n      this.currentName = val;\n      if (this.type == 'border') {\n        this.$nextTick(()=>{\n          this.offsetAnmt();\n        });\n      }\n    }\n  }\n};\n</script>\n"]}]}