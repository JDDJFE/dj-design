{"remainingRequest":"/Users/wangjunxia/work-github/dj-design/node_modules/babel-loader/lib/index.js!/Users/wangjunxia/work-github/dj-design/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/wangjunxia/work-github/dj-design/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/wangjunxia/work-github/dj-design/packages/input/src/input.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/wangjunxia/work-github/dj-design/packages/input/src/input.vue","mtime":1675761954369},{"path":"/Users/wangjunxia/work-github/dj-design/babel.config.js","mtime":1660011372032},{"path":"/Users/wangjunxia/work-github/dj-design/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/wangjunxia/work-github/dj-design/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/wangjunxia/work-github/dj-design/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/wangjunxia/work-github/dj-design/node_modules/vue-loader/lib/index.js","mtime":1655715099000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8gdi1tYXhsZW5ndGjvvJpodHRwczovL3d3dy5ucG1qcy5jb20vcGFja2FnZS92dWVfaW5wdXRfbWF4bGVuZ3RoP2FjdGl2ZVRhYj1yZWFkbWUKLy8gaW1wb3J0ICdAL2RpcmVjdGl2ZSc7CmltcG9ydCBkak9wdGlvbnMgZnJvbSAnLi9vcHRpb25zJzsKaW1wb3J0IHsgb24gfSBmcm9tICdAL3V0aWxzL2RvbSc7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnZGpJbnB1dCcsCiAgY29tcG9uZW50czogewogICAgZGpPcHRpb25zCiAgfSwKICBwcm9wczogewogICAgc2hvd0lucHV0OiB7CiAgICAgIHR5cGU6IEJvb2xlYW4sCiAgICAgIGRlZmF1bHQ6IHRydWUKICAgIH0sCiAgICB2YWx1ZTogW1N0cmluZywgTnVtYmVyXSwKICAgIG5hbWU6IFN0cmluZywKICAgIHR5cGU6IHsKICAgICAgdHlwZTogU3RyaW5nLAogICAgICBkZWZhdWx0OiAndGV4dCcKICAgIH0sCiAgICBwbGFjZWhvbGRlcjogU3RyaW5nLAogICAgZGlzYWJsZWQ6IHsKICAgICAgdHlwZTogQm9vbGVhbiwKICAgICAgZGVmYXVsdDogZmFsc2UKICAgIH0sCiAgICByZWFkb25seTogewogICAgICB0eXBlOiBCb29sZWFuLAogICAgICBkZWZhdWx0OiBmYWxzZQogICAgfSwKICAgIG1heGxlbmd0aDogTnVtYmVyLAogICAgYnl0ZWxlbmd0aDogTnVtYmVyLAogICAgZml4ZWQ6IE51bWJlciwKICAgIHNpemU6IHsKICAgICAgdHlwZTogU3RyaW5nLAogICAgICBkZWZhdWx0OiAnbWVkaXVtJwogICAgfSwKICAgIG1pbjogTnVtYmVyLAogICAgbWF4OiBOdW1iZXIsCiAgICBzdGVwOiBOdW1iZXIsCiAgICBhdXRvZm9jdXM6IEJvb2xlYW4sCiAgICBpY29uOiBTdHJpbmcsCiAgICBpY29ucG9zaXRpb246IHsKICAgICAgdHlwZTogU3RyaW5nLAogICAgICBkZWZhdWx0OiAncmlnaHQnCiAgICB9LAogICAgYmVmb3JlOiBTdHJpbmcsCiAgICBhZnRlcjogU3RyaW5nLAogICAgc2hvd21heGxlbmd0aDogQm9vbGVhbiwKICAgIHNob3dzZWFyY2g6IEJvb2xlYW4sCiAgICBzaG93Y2xlYXI6IEJvb2xlYW4sCiAgICBjbGVhcmFibGU6IEJvb2xlYW4sCiAgICBzaG93cGFzc3dvcmQ6IEJvb2xlYW4sCiAgICBmdW5pbnB1dDogRnVuY3Rpb24sCiAgICBmdW5xdWVyeTogRnVuY3Rpb24KICB9LAoKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgdmFsOiB0aGlzLnZhbHVlID09PSB2b2lkIDAgfHwgdGhpcy52YWx1ZSA9PT0gbnVsbCA/ICcnIDogdGhpcy52YWx1ZSwKICAgICAgaXNGb2N1czogZmFsc2UsCiAgICAgIGlzQWN0aXZlOiBmYWxzZSwKICAgICAgaXNIb3ZlcjogZmFsc2UsCiAgICAgIGlzUGFzc3dvcmQ6IHRydWUsCiAgICAgIGNvbXBvc2l0aW9uOiBmYWxzZQogICAgfTsKICB9LAoKICBjb21wdXRlZDogewogICAgY2FjdVNpemUoKSB7CiAgICAgIGxldCBzaXplTWFwID0gewogICAgICAgIG1pbmk6ICgpID0+IHsKICAgICAgICAgIHJldHVybiAyMDsKICAgICAgICB9LAogICAgICAgIHRpbnk6ICgpID0+IHsKICAgICAgICAgIHJldHVybiAyMjsKICAgICAgICB9LAogICAgICAgIHNtYWxsOiAoKSA9PiB7CiAgICAgICAgICByZXR1cm4gMjI7CiAgICAgICAgfSwKICAgICAgICBtZWRpdW06ICgpID0+IHsKICAgICAgICAgIHJldHVybiAyNTsKICAgICAgICB9LAogICAgICAgIGxhcmdlOiAoKSA9PiB7CiAgICAgICAgICByZXR1cm4gMjg7CiAgICAgICAgfQogICAgICB9OwoKICAgICAgaWYgKHNpemVNYXBbdGhpcy5zaXplXSkgewogICAgICAgIGxldCByZWxvbVNpemUgPSBzaXplTWFwW3RoaXMuc2l6ZV0oKTsKICAgICAgICByZXR1cm4gcmVsb21TaXplICsgJ3B4JzsKICAgICAgfQoKICAgICAgcmV0dXJuICcyNXB4JzsKICAgIH0sCgogICAgZ2V0RGlzYWJsZWQoKSB7CiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bm5lZWRlZC10ZXJuYXJ5CiAgICAgIHJldHVybiB0aGlzLmRpc2FibGVkID09PSB0cnVlOwogICAgfSwKCiAgICBnZXRJbnB1dEFmdGVyKCkgewogICAgICByZXR1cm4gKHRoaXMubWF4bGVuZ3RoIHx8IHRoaXMuYnl0ZWxlbmd0aCkgJiYgdGhpcy5zaG93bWF4bGVuZ3RoIHx8IHRoaXMuc2hvd3NlYXJjaCB8fCB0aGlzLnNob3djbGVhciB8fCB0aGlzLnNob3dwYXNzd29yZCB8fCB0aGlzLmNsZWFyYWJsZTsKICAgIH0sCgogICAgZ2V0SWNvbkxlZnQoKSB7CiAgICAgIHJldHVybiB0aGlzLmljb24gJiYgKHRoaXMuaWNvbnBvc2l0aW9uID09ICdsZWZ0JyB8fCB0aGlzLmdldElucHV0QWZ0ZXIpOwogICAgfQoKICB9LAogIHdhdGNoOiB7CiAgICB2YWx1ZTogZnVuY3Rpb24gKG8sIG4pIHsKICAgICAgaWYgKHRoaXMudmFsICE9PSB0aGlzLnZhbHVlKSB7CiAgICAgICAgdGhpcy52YWwgPSB0aGlzLnZhbHVlOwogICAgICB9CiAgICB9IC8vIHZhbDogZnVuY3Rpb24obywgbikgewogICAgLy8gICBpZiAodGhpcy52YWwgIT09IHRoaXMudmFsdWUpIHsKICAgIC8vICAgICB0aGlzLiRlbWl0KCdpbnB1dCcsIHRoaXMudmFsKTsKICAgIC8vICAgfQogICAgLy8gfQoKICB9LAoKICBtb3VudGVkKCkgewogICAgaWYgKHRoaXMuZnVucXVlcnkpIHsKICAgICAgbGV0IGhhbmRsZXIgPSBlID0+IHsKICAgICAgICBpZiAodGhpcy4kZWwuY29udGFpbnMoZS50YXJnZXQpKSB7CiAgICAgICAgICByZXR1cm47CiAgICAgICAgfQoKICAgICAgICB0aGlzLmlzQWN0aXZlID0gZmFsc2U7CiAgICAgIH07CgogICAgICBvbihkb2N1bWVudCwgJ2NsaWNrJywgaGFuZGxlcik7CiAgICB9CiAgfSwKCiAgbWV0aG9kczogewogICAgZm9jdXMoKSB7CiAgICAgIHRoaXMuJHJlZnMuaW5wdXQuZm9jdXMoKTsKICAgIH0sCgogICAgYmx1cigpIHsKICAgICAgdGhpcy4kcmVmcy5pbnB1dC5ibHVyKCk7CiAgICB9LAoKICAgIHNlbGVjdCgpIHsKICAgICAgdGhpcy4kcmVmcy5pbnB1dC5zZWxlY3QoKTsKICAgIH0sCgogICAgY2xlYXIoKSB7CiAgICAgIHRoaXMudmFsID0gdGhpcy4kcmVmcy5pbnB1dC52YWx1ZSA9ICcnOwoKICAgICAgaWYgKHRoaXMuZnVucXVlcnkpIHsKICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHsKICAgICAgICAgIHZhciBfdGhpcyQkcmVmcyRvcHRpb25zOwoKICAgICAgICAgIChfdGhpcyQkcmVmcyRvcHRpb25zID0gdGhpcy4kcmVmcy5vcHRpb25zKSA9PT0gbnVsbCB8fCBfdGhpcyQkcmVmcyRvcHRpb25zID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfdGhpcyQkcmVmcyRvcHRpb25zLm9uUXVlcnkoKTsKICAgICAgICAgIHRoaXMuZm9jdXMoKTsKICAgICAgICB9LCAwKTsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLmZvY3VzKCk7CiAgICAgIH0KCiAgICAgIHRoaXMuJGVtaXQoJ2lucHV0JywgdGhpcy52YWwpOwogICAgICB0aGlzLiRlbWl0KCdjaGFuZ2UnLCB0aGlzLnZhbCk7CiAgICB9LAoKICAgIGNvbXBvc2l0aW9uc3RhcnQoKSB7CiAgICAgIHRoaXMuY29tcG9zaXRpb24gPSB0cnVlOwogICAgfSwKCiAgICBjb21wb3NpdGlvbmVuZCgkZXZlbnQpIHsKICAgICAgaWYgKHRoaXMuYnl0ZWxlbmd0aCkgewogICAgICAgIHRoaXMudmFsID0gJGV2ZW50LnRhcmdldC52YWx1ZSA9IHRoaXMuZ2V0Qnl0ZUxlbmd0aCgkZXZlbnQudGFyZ2V0LnZhbHVlLCB0aGlzLmJ5dGVsZW5ndGgpOwogICAgICB9CgogICAgICB0aGlzLmNvbXBvc2l0aW9uID0gZmFsc2U7CiAgICB9LAoKICAgIGhhbmRFdmVudCh0eXBlLCAkZXZlbnQpIHsKICAgICAgaWYgKHR5cGUgPT0gJ2ZvY3VzJykgewogICAgICAgIHRoaXMuaXNGb2N1cyA9IHRydWU7CiAgICAgICAgdGhpcy5pc0FjdGl2ZSA9IHRydWU7IC8vIHRoaXMuJGVsLmZvY3VzKCk7CiAgICAgIH0KCiAgICAgIGlmICh0eXBlID09ICdibHVyJykgewogICAgICAgIHRoaXMuaXNGb2N1cyA9IGZhbHNlOwogICAgICB9CgogICAgICBpZiAodHlwZSA9PSAnaW5wdXQnKSB7CiAgICAgICAgaWYgKHRoaXMudHlwZS50b0xvY2FsZUxvd2VyQ2FzZSgpID09ICdudW1iZXInKSB7CiAgICAgICAgICBpZiAodGhpcy5maXhlZCAmJiB0aGlzLmZpeGVkID4gMCkgewogICAgICAgICAgICAkZXZlbnQudGFyZ2V0LnZhbHVlID0gJGV2ZW50LnRhcmdldC52YWx1ZS5yZXBsYWNlKC9bXlxkIHx8IC5dL2csICcnKTsKCiAgICAgICAgICAgIGlmICgkZXZlbnQudGFyZ2V0LnZhbHVlKSB7CiAgICAgICAgICAgICAgbGV0IGxpc3QgPSAkZXZlbnQudGFyZ2V0LnZhbHVlLnNwbGl0KCcuJyk7CgogICAgICAgICAgICAgIGlmIChsaXN0Lmxlbmd0aCA9PSAyKSB7CiAgICAgICAgICAgICAgICBpZiAoIWxpc3RbMF0pIHsKICAgICAgICAgICAgICAgICAgbGlzdFswXSA9ICcwJzsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICB9IGVsc2UgaWYgKCFsaXN0WzBdKSB7CiAgICAgICAgICAgICAgICBsaXN0LnNwbGljZSgwLCAxKTsKICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIGxldCBudW1iZXIgPSBsaXN0WzBdOwogICAgICAgICAgICAgIGxpc3Quc3BsaWNlKDAsIDEpOwogICAgICAgICAgICAgIGxldCBmaWV4ZCA9IGxpc3Quam9pbignJykuc3Vic3RyaW5nKDAsIHRoaXMuZml4ZWQpOwogICAgICAgICAgICAgIHRoaXMudmFsID0gJGV2ZW50LnRhcmdldC52YWx1ZSA9IG51bWJlciArIChsaXN0Lmxlbmd0aCA/ICcuJyArIGZpZXhkIDogJycpOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgIHRoaXMudmFsID0gJGV2ZW50LnRhcmdldC52YWx1ZTsKICAgICAgICAgICAgfQogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgdGhpcy52YWwgPSAkZXZlbnQudGFyZ2V0LnZhbHVlID0gJGV2ZW50LnRhcmdldC52YWx1ZS5yZXBsYWNlKC9cRC9nLCAnJyk7CiAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICBpZiAodGhpcy5ieXRlbGVuZ3RoKSB7CiAgICAgICAgICBpZiAoIXRoaXMuY29tcG9zaXRpb24pIHsKICAgICAgICAgICAgdGhpcy52YWwgPSAkZXZlbnQudGFyZ2V0LnZhbHVlID0gdGhpcy5nZXRCeXRlTGVuZ3RoKCRldmVudC50YXJnZXQudmFsdWUsIHRoaXMuYnl0ZWxlbmd0aCk7CiAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICBpZiAodGhpcy5mdW5pbnB1dCkgewogICAgICAgICAgdGhpcy52YWwgPSAkZXZlbnQudGFyZ2V0LnZhbHVlID0gdGhpcy5mdW5pbnB1dCgkZXZlbnQudGFyZ2V0LnZhbHVlKTsKICAgICAgICB9CiAgICAgIH0KCiAgICAgIGlmICh0eXBlID09ICdpbnB1dCcgfHwgdHlwZSA9PSAnY2hhbmdlJyB8fCB0eXBlID09ICdxdWVyeScpIHsKICAgICAgICB0aGlzLiRlbWl0KHR5cGUsIHRoaXMudHlwZS50b0xvY2FsZUxvd2VyQ2FzZSgpID09ICdudW1iZXInICYmIHRoaXMudmFsID8gdGhpcy52YWwgKiAxIDogdGhpcy52YWwsICRldmVudCk7CiAgICAgICAgdGhpcy4kbmV4dFRpY2soKCkgPT4gewogICAgICAgICAgaWYgKHR5cGUgPT0gJ2lucHV0JyAmJiB0aGlzLmZ1bnF1ZXJ5KSB7CiAgICAgICAgICAgIHZhciBfdGhpcyQkcmVmcyRvcHRpb25zMjsKCiAgICAgICAgICAgIChfdGhpcyQkcmVmcyRvcHRpb25zMiA9IHRoaXMuJHJlZnMub3B0aW9ucykgPT09IG51bGwgfHwgX3RoaXMkJHJlZnMkb3B0aW9uczIgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF90aGlzJCRyZWZzJG9wdGlvbnMyLm9uUXVlcnkoKTsKICAgICAgICAgIH0KCiAgICAgICAgICBpZiAodGhpcy52YWx1ZSAmJiAodGhpcy50eXBlLnRvTG9jYWxlTG93ZXJDYXNlKCkgPT0gJ251bWJlcicgPyB0aGlzLnZhbCAqIDEgIT09IHRoaXMudmFsdWUgKiAxIDogdGhpcy52YWwgIT09IHRoaXMudmFsdWUpKSB7CiAgICAgICAgICAgIHRoaXMudmFsID0gdGhpcy52YWx1ZTsKICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLiRlbWl0KHR5cGUsICRldmVudCk7CiAgICAgIH0KICAgIH0sCgogICAgZ2V0Qnl0ZUxlbmd0aChzdHIsIGxlbmd0aCkgewogICAgICBsZXQgYnl0ZUxlbmd0aCA9IDA7CiAgICAgIGxldCBieXRlU3RyID0gJyc7CgogICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHN0ci5sZW5ndGg7IGkrKykgewogICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1jb250cm9sLXJlZ2V4CiAgICAgICAgaWYgKHN0cltpXS5tYXRjaChuZXcgUmVnRXhwKCdbXlx4MDAtXHhmZl0nLCAnaWcnKSkpIHsKICAgICAgICAgIGJ5dGVMZW5ndGggKz0gMjsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgYnl0ZUxlbmd0aCArPSAxOwogICAgICAgIH0KCiAgICAgICAgaWYgKGJ5dGVMZW5ndGggPD0gbGVuZ3RoKSB7CiAgICAgICAgICBieXRlU3RyICs9IHN0cltpXTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgYnJlYWs7CiAgICAgICAgfQogICAgICB9CgogICAgICByZXR1cm4gYnl0ZVN0cjsKICAgIH0sCgogICAgZ2V0TGVuZ3RoKHN0cikgewogICAgICBsZXQgYnl0ZUxlbmd0aCA9IDA7CgogICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHN0ci5sZW5ndGg7IGkrKykgewogICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1jb250cm9sLXJlZ2V4CiAgICAgICAgaWYgKHN0cltpXS5tYXRjaChuZXcgUmVnRXhwKCdbXlx4MDAtXHhmZl0nLCAnaWcnKSkpIHsKICAgICAgICAgIGJ5dGVMZW5ndGggKz0gMjsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgYnl0ZUxlbmd0aCArPSAxOwogICAgICAgIH0KICAgICAgfQoKICAgICAgcmV0dXJuIGJ5dGVMZW5ndGg7CiAgICB9LAoKICAgIG9uU2VsZWN0KHZhbCwgaXRlbSkgewogICAgICB0aGlzLnZhbCA9IHZhbDsKICAgICAgdGhpcy5pc0FjdGl2ZSA9IGZhbHNlOwogICAgICB0aGlzLmlzSG92ZXIgPSBmYWxzZTsKICAgICAgdGhpcy4kZW1pdCgnc2VsZWN0JywgdmFsLCBpdGVtKTsKICAgIH0sCgogICAgb3V0KCkgewogICAgICB0aGlzLmlzQWN0aXZlID0gZmFsc2U7CiAgICB9CgogIH0KfTs="},{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAsCA;AACA;AACA;AACA;AAEA;EACAA,eADA;EAEAC;IAAAC;EAAA,CAFA;EAGAC;IACAC;MACAC,aADA;MAEAC;IAFA,CADA;IAKAC,uBALA;IAMAP,YANA;IAOAK;MACAA,YADA;MAEAC;IAFA,CAPA;IAWAE,mBAXA;IAYAC;MACAJ,aADA;MAEAC;IAFA,CAZA;IAgBAI;MACAL,aADA;MAEAC;IAFA,CAhBA;IAoBAK,iBApBA;IAqBAC,kBArBA;IAsBAC,aAtBA;IAuBAC;MACAT,YADA;MAEAC;IAFA,CAvBA;IA2BAS,WA3BA;IA4BAC,WA5BA;IA6BAC,YA7BA;IA8BAC,kBA9BA;IA+BAC,YA/BA;IAgCAC;MACAf,YADA;MAEAC;IAFA,CAhCA;IAoCAe,cApCA;IAqCAC,aArCA;IAsCAC,sBAtCA;IAuCAC,mBAvCA;IAwCAC,kBAxCA;IAyCAC,kBAzCA;IA0CAC,qBA1CA;IA2CAC,kBA3CA;IA4CAC;EA5CA,CAHA;;EAiDAC;IACA;MACAC,mEADA;MAEAC,cAFA;MAGAC,eAHA;MAIAC,cAJA;MAKAC,gBALA;MAMAC;IANA;EAQA,CA1DA;;EA2DAC;IACAC;MACA;QACAC;UACA;QACA,CAHA;QAIAC;UACA;QACA,CANA;QAOAC;UACA;QACA,CATA;QAUAC;UACA;QACA,CAZA;QAaAC;UACA;QACA;MAfA;;MAiBA;QACA;QACA;MACA;;MACA;IACA,CAxBA;;IAyBAC;MACA;MACA;IACA,CA5BA;;IA6BAC;MACA;IACA,CA/BA;;IAgCAC;MACA;IACA;;EAlCA,CA3DA;EA+FAC;IACAxC;MACA;QACA;MACA;IACA,CALA,CAMA;IACA;IACA;IACA;IACA;;EAVA,CA/FA;;EA2GAyC;IACA;MACA;QACA;UACA;QACA;;QACA;MACA,CALA;;MAMAC;IACA;EACA,CArHA;;EAsHAC;IACAC;MACA;IACA,CAHA;;IAIAC;MACA;IACA,CANA;;IAOAC;MACA;IACA,CATA;;IAUAC;MACA;;MACA;QACAC;UAAA;;UACA;UACA;QACA,CAHA,EAGA,CAHA;MAIA,CALA,MAKA;QACA;MACA;;MACA;MACA;IACA,CAtBA;;IAuBAC;MACA;IACA,CAzBA;;IA0BAC;MACA;QACA;MACA;;MACA;IACA,CA/BA;;IAgCAC;MACA;QACA;QACA,qBAFA,CAGA;MACA;;MACA;QACA;MACA;;MACA;QACA;UACA;YACAC;;YACA;cACA;;cACA;gBACA;kBACAC;gBACA;cACA,CAJA,MAIA;gBACAA;cACA;;cACA;cACAA;cACA;cACA;YACA,CAbA,MAaA;cACA;YACA;UACA,CAlBA,MAkBA;YACA;UACA;QACA;;QACA;UACA;YACA;UACA;QACA;;QACA;UACA;QACA;MACA;;MACA;QACA;QACA;UACA;YAAA;;YACA;UACA;;UACA;YACA;UACA;QACA,CAPA;MAQA,CAVA,MAUA;QACA;MACA;IACA,CAvFA;;IAwFAC;MACA;MACA;;MACA;QACA;QACA;UACAC;QACA,CAFA,MAEA;UACAA;QACA;;QACA;UACAC;QACA,CAFA,MAEA;UACA;QACA;MACA;;MACA;IACA,CAzGA;;IA0GAC;MACA;;MACA;QACA;QACA;UACAF;QACA,CAFA,MAEA;UACAA;QACA;MACA;;MACA;IACA,CArHA;;IAsHAG;MACA;MACA;MACA;MACA;IACA,CA3HA;;IA4HAC;MACA;IACA;;EA9HA;AAtHA","names":["name","components","djOptions","props","showInput","type","default","value","placeholder","disabled","readonly","maxlength","bytelength","fixed","size","min","max","step","autofocus","icon","iconposition","before","after","showmaxlength","showsearch","showclear","clearable","showpassword","funinput","funquery","data","val","isFocus","isActive","isHover","isPassword","composition","computed","cacuSize","mini","tiny","small","medium","large","getDisabled","getInputAfter","getIconLeft","watch","mounted","on","methods","focus","blur","select","clear","setTimeout","compositionstart","compositionend","handEvent","$event","list","getByteLength","byteLength","byteStr","getLength","onSelect","out"],"sourceRoot":"packages/input/src","sources":["input.vue"],"sourcesContent":["<template>\n  <div class=\"dj-input\" :class=\"[size, {'disabled': disabled, 'focus': isFocus, 'hover': isHover, 'before': before || $slots.before, 'after': after || $slots.after}]\" @mouseenter=\" disabled ? '' : isHover = true\"\n      @mouseleave=\"isHover = false\" tabindex=\"-1\">\n    <div class=\"dj-input-panel\">\n      <div v-if=\"before || $slots.before\" class=\"before-panel\">\n        <span :style=\"!$slots.before && 'padding: 0px 12px' || ''\"><slot name=\"before\">{{before}}</slot></span>\n      </div>\n      <div class=\"input\" v-show=\"showInput\" >\n        <div class=\"input-panel\" :class=\"{'icon': icon, 'icon-left': getIconLeft, 'after': getInputAfter}\">\n          <input :class=\"{'dj-disabled': disabled}\" v-model=\"val\" ref=\"input\" :name=\"name\" :type=\"type === 'password' && isPassword ? 'password' : 'text'\"\n          :autofocus=\"autofocus\" :placeholder=\"placeholder\" :disabled=\"disabled\" :readonly=\"readonly\" :maxlength=\"bytelength ? null : maxlength\" @click=\"handEvent('click', $event)\" @input=\"handEvent('input', $event)\" @change=\"handEvent('change', $event)\" @focus=\"handEvent('focus', $event)\" @blur=\"handEvent('blur', $event)\" @keyup.enter=\"handEvent('enter', $event)\" @compositionstart=\"compositionstart($event)\" @compositionend=\"compositionend($event)\" :autocomplete=\"funquery ? 'off' : 'on'\">\n          <i v-if=\"icon\" class=\"iconfont\" :class=\"icon\"></i>\n          <div v-if=\"getInputAfter\" class=\"input-after\">\n            <div class=\"input-after-center\">\n              <dj-button v-if=\"showsearch\" :disabled=\"disabled\" fontSize=\"14px\" :colors=\"['#fff','#1b1c1d','#1b1c1d']\" :style=\"{width: cacuSize,height: cacuSize}\" circle @click=\"handEvent('query', $event)\"><i class=\"iconfont search2\" :style=\"[{color: '#fff',fontSize: '14px'}, {lineHeight: cacuSize}]\"></i></dj-button>\n              <template v-else-if=\"bytelength\">{{getLength(val)}}/{{bytelength}}</template>\n              <template v-else-if=\"maxlength\">{{String(val).length}}/{{maxlength}}</template>\n              <template v-else-if=\"(showclear || clearable) && val\"><i class=\"iconfont close-solid\" @click=\"clear\"></i></template>\n              <template v-else-if=\"showpassword\"><i class=\"iconfont view\" :class=\"{'view': !isPassword, 'view-off': isPassword}\" @click=\"isPassword=!isPassword\"></i></template>\n            </div>\n          </div>\n        </div>\n      </div>\n      <div v-if=\"after || $slots.after\" :class=\"showInput ? 'after-panel' : 'after-panel after-panel-iscolor'\">\n        <span :style=\"!$slots.after && 'padding: 0px 12px' || ''\"><slot name=\"after\">{{after}}</slot></span>\n      </div>\n      <transition v-if=\"funquery\" name=\"fade\">\n        <dj-options ref=\"options\" v-show=\"isActive\" v-model=\"val\"  @select=\"onSelect\" :funquery=\"funquery\" :search=\"false\">\n          <template v-slot:option=\"item\"><!--  v-show=\"$slots.option\" -->\n            <slot name=\"option\" v-bind=\"item\"></slot>\n          </template>\n        </dj-options>\n      </transition>\n    </div>\n  </div>\n</template>\n\n<script>\n// v-maxlength：https://www.npmjs.com/package/vue_input_maxlength?activeTab=readme\n// import '@/directive';\nimport djOptions from './options';\nimport { on } from '@/utils/dom';\n\nexport default {\n  name: 'djInput',\n  components: {djOptions},\n  props: {\n    showInput: {\n      type: Boolean,\n      default: true\n    },\n    value: [String, Number],\n    name: String,\n    type: {\n      type: String,\n      default: 'text'\n    },\n    placeholder: String,\n    disabled: {\n      type: Boolean,\n      default: false\n    },\n    readonly: {\n      type: Boolean,\n      default: false\n    },\n    maxlength: Number,\n    bytelength: Number,\n    fixed: Number,\n    size: {\n      type: String,\n      default: 'medium'\n    },\n    min: Number,\n    max: Number,\n    step: Number,\n    autofocus: Boolean,\n    icon: String,\n    iconposition: {\n      type: String,\n      default: 'right'\n    },\n    before: String,\n    after: String,\n    showmaxlength: Boolean,\n    showsearch: Boolean,\n    showclear: Boolean,\n    clearable: Boolean,\n    showpassword: Boolean,\n    funinput: Function,\n    funquery: Function\n  },\n  data() {\n    return {\n      val: this.value === void 0 || this.value === null ? '' : this.value,\n      isFocus: false,\n      isActive: false,\n      isHover: false,\n      isPassword: true,\n      composition: false\n    };\n  },\n  computed: {\n    cacuSize() {\n      let sizeMap = {\n        mini: () => {\n          return 20;\n        },\n        tiny: () => {\n          return 22;\n        },\n        small: () => {\n          return 22;\n        },\n        medium: () => {\n          return 25;\n        },\n        large: () => {\n          return 28;\n        }\n      };\n      if (sizeMap[this.size]) {\n        let relomSize = sizeMap[this.size]();\n        return relomSize + 'px';\n      }\n      return '25px';\n    },\n    getDisabled() {\n      // eslint-disable-next-line no-unneeded-ternary\n      return this.disabled === true;\n    },\n    getInputAfter() {\n      return (this.maxlength || this.bytelength) && this.showmaxlength || this.showsearch || this.showclear || this.showpassword || this.clearable;\n    },\n    getIconLeft() {\n      return this.icon && (this.iconposition == 'left' || this.getInputAfter);\n    }\n  },\n  watch: {\n    value: function(o, n) {\n      if (this.val !== this.value) {\n        this.val = this.value;\n      }\n    }\n    // val: function(o, n) {\n    //   if (this.val !== this.value) {\n    //     this.$emit('input', this.val);\n    //   }\n    // }\n  },\n  mounted() {\n    if (this.funquery) {\n      let handler = e => {\n        if (this.$el.contains(e.target)) {\n          return;\n        }\n        this.isActive = false;\n      };\n      on(document, 'click', handler);\n    }\n  },\n  methods: {\n    focus() {\n      this.$refs.input.focus();\n    },\n    blur() {\n      this.$refs.input.blur();\n    },\n    select() {\n      this.$refs.input.select();\n    },\n    clear() {\n      this.val = this.$refs.input.value = '';\n      if (this.funquery) {\n        setTimeout(() => {\n          this.$refs.options?.onQuery();\n          this.focus();\n        }, 0);\n      } else {\n        this.focus();\n      }\n      this.$emit('input', this.val);\n      this.$emit('change', this.val);\n    },\n    compositionstart() {\n      this.composition = true;\n    },\n    compositionend($event) {\n      if (this.bytelength) {\n        this.val = $event.target.value = this.getByteLength($event.target.value, this.bytelength);\n      }\n      this.composition = false;\n    },\n    handEvent(type, $event){\n      if (type == 'focus') {\n        this.isFocus = true;\n        this.isActive = true;\n        // this.$el.focus();\n      }\n      if (type == 'blur') {\n        this.isFocus = false;\n      }\n      if (type == 'input') {\n        if (this.type.toLocaleLowerCase() == 'number') {\n          if (this.fixed && this.fixed > 0) {\n            $event.target.value = $event.target.value.replace(/[^\\d || .]/g, '');\n            if ($event.target.value) {\n              let list = $event.target.value.split('.');\n              if (list.length == 2) {\n                if (!list[0]) {\n                  list[0] = '0';\n                }\n              } else if (!list[0]) {\n                list.splice(0, 1);\n              }\n              let number = list[0];\n              list.splice(0, 1);\n              let fiexd = list.join('').substring(0, this.fixed);\n              this.val = $event.target.value = number + (list.length ? '.' + fiexd : '');\n            } else {\n              this.val = $event.target.value ;\n            }\n          } else {\n            this.val = $event.target.value = $event.target.value.replace(/\\D/g, '');\n          }\n        }\n        if (this.bytelength) {\n          if (!this.composition) {\n            this.val = $event.target.value = this.getByteLength($event.target.value, this.bytelength);\n          }\n        }\n        if (this.funinput) {\n          this.val = $event.target.value = this.funinput($event.target.value);\n        }\n      }\n      if (type == 'input' || type == 'change' || type == 'query') {\n        this.$emit(type, this.type.toLocaleLowerCase() == 'number' && this.val ? this.val * 1 : this.val, $event);\n        this.$nextTick(() => {\n          if (type == 'input' && this.funquery) {\n            this.$refs.options?.onQuery();\n          }\n          if (this.value && (this.type.toLocaleLowerCase() == 'number' ? this.val * 1 !== this.value * 1 : this.val !== this.value)) {\n            this.val = this.value;\n          }\n        });\n      } else {\n        this.$emit(type, $event);\n      }\n    },\n    getByteLength(str, length) {\n      let byteLength = 0;\n      let byteStr = '';\n      for (var i = 0; i < str.length; i++) {\n        // eslint-disable-next-line no-control-regex\n        if (str[i].match(new RegExp('[^\\x00-\\xff]', 'ig'))) {\n          byteLength += 2;\n        } else {\n          byteLength += 1;\n        }\n        if (byteLength <= length) {\n          byteStr += str[i];\n        } else {\n          break;\n        }\n      }\n      return byteStr;\n    },\n    getLength(str) {\n      let byteLength = 0;\n      for (var i = 0; i < str.length; i++) {\n        // eslint-disable-next-line no-control-regex\n        if (str[i].match(new RegExp('[^\\x00-\\xff]', 'ig'))) {\n          byteLength += 2;\n        } else {\n          byteLength += 1;\n        }\n      }\n      return byteLength;\n    },\n    onSelect(val, item) {\n      this.val = val;\n      this.isActive = false;\n      this.isHover = false;\n      this.$emit('select', val, item);\n    },\n    out() {\n      this.isActive = false;\n    }\n  }\n};\n</script>\n"]}]}