{"remainingRequest":"/Users/wangjunxia/work-github/dj-design/node_modules/babel-loader/lib/index.js!/Users/wangjunxia/work-github/dj-design/node_modules/eslint-loader/index.js??ref--14-0!/Users/wangjunxia/work-github/dj-design/packages/json/src/search.js","dependencies":[{"path":"/Users/wangjunxia/work-github/dj-design/packages/json/src/search.js","mtime":1673509764333},{"path":"/Users/wangjunxia/work-github/dj-design/babel.config.js","mtime":1660011372032},{"path":"/Users/wangjunxia/work-github/dj-design/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/wangjunxia/work-github/dj-design/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/wangjunxia/work-github/dj-design/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:cmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLmVycm9yLmNhdXNlLmpzIik7CgpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnJlcGxhY2UtYWxsLmpzIik7CgovKiBnbG9iYWwgQ29kZU1pcnJvciAqLwoKLyogZ2xvYmFsIGRlZmluZSAqLwooZnVuY3Rpb24gKG1vZCkgewogIGlmICh0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcgJiYgdHlwZW9mIG1vZHVsZSA9PT0gJ29iamVjdCcpIC8vIENvbW1vbkpTCiAgICBtb2QocmVxdWlyZSgnY29kZW1pcnJvcicpKTtlbHNlIGlmICh0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQpIC8vIEFNRAogICAgZGVmaW5lKFsnY29kZW1pcnJvciddLCBtb2QpO2Vsc2UgbW9kKENvZGVNaXJyb3IpOwp9KShmdW5jdGlvbiAoQ29kZU1pcnJvcikgewogIENvZGVNaXJyb3IuZGVmaW5lT3B0aW9uKCdzZWFyY2hib3gnLCBmYWxzZSwgZnVuY3Rpb24gKGNtKSB7CiAgICB2YXIgU2VhcmNoOyAvLyBjb25zb2xlLmxvZygnU2VhcmNoJywgU2VhcmNoKTsKICAgIC8vIGNvbnNvbGUubG9nKGNtLCBjbS5nZXRXcmFwcGVyRWxlbWVudCgpLCAnY20nKTsKCiAgICBjbS5hZGRLZXlNYXAoewogICAgICAnQ21kLUFsdC1GJzogZnVuY3Rpb24gKCkgewogICAgICAgIGlmICghU2VhcmNoKSB7CiAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdXNlLWJlZm9yZS1kZWZpbmUKICAgICAgICAgIFNlYXJjaCA9IG5ldyBTZWFyY2hCb3goY20pOwogICAgICAgIH0KCiAgICAgICAgU2VhcmNoLnNob3cobnVsbCwgdHJ1ZSk7CiAgICAgIH0sCiAgICAgICdDdHJsLUYnOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgLy8gaWYgKCFTZWFyY2gpCiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVzZS1iZWZvcmUtZGVmaW5lCiAgICAgICAgU2VhcmNoID0gbmV3IFNlYXJjaEJveChjbSk7CiAgICAgICAgU2VhcmNoLnNob3coKTsKICAgICAgfSwKICAgICAgJ0VzYyc6IGZ1bmN0aW9uICgpIHsKICAgICAgICBpZiAoIVNlYXJjaCB8fCAhU2VhcmNoLmlzVmlzaWJsZSgpKSByZXR1cm4gQ29kZU1pcnJvci5QYXNzOwogICAgICAgIFNlYXJjaC5oaWRlKCk7CiAgICAgICAgaWYgKHR5cGVvZiBldmVudCAhPT0gJ3VuZGVmaW5lZCcpIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpOwogICAgICB9LAogICAgICAnQ21kLUYnOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgaWYgKCFTZWFyY2gpIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11c2UtYmVmb3JlLWRlZmluZQogICAgICAgICAgU2VhcmNoID0gbmV3IFNlYXJjaEJveChjbSk7CiAgICAgICAgU2VhcmNoLnNob3coKTsKICAgICAgfQogICAgfSk7CiAgfSk7CgogIGZ1bmN0aW9uIHNldENzc0NsYXNzKGVsLCBjbGFzc05hbWUsIGNvbmRpdGlvbikgewogICAgdmFyIGxpc3QgPSBlbC5jbGFzc0xpc3Q7CiAgICBsaXN0W2NvbmRpdGlvbiA/ICdhZGQnIDogJ3JlbW92ZSddKGNsYXNzTmFtZSk7CiAgfQoKICBmdW5jdGlvbiBkZWxheWVkQ2FsbChmY24sIGRlZmF1bHRUaW1lb3V0KSB7CiAgICB2YXIgdGltZXIsCiAgICAgICAgY2FsbGJhY2sgPSBmdW5jdGlvbiAoKSB7CiAgICAgIHRpbWVyID0gbnVsbDsKICAgICAgZmNuKCk7CiAgICB9LAogICAgICAgIF9zZWxmID0gZnVuY3Rpb24gKHRpbWVvdXQpIHsKICAgICAgaWYgKCF0aW1lcikgdGltZXIgPSBzZXRUaW1lb3V0KGNhbGxiYWNrLCB0aW1lb3V0IHx8IGRlZmF1bHRUaW1lb3V0KTsKICAgIH07CgogICAgX3NlbGYuZGVsYXkgPSBmdW5jdGlvbiAodGltZW91dCkgewogICAgICB0aW1lciAmJiBjbGVhclRpbWVvdXQodGltZXIpOwogICAgICB0aW1lciA9IHNldFRpbWVvdXQoY2FsbGJhY2ssIHRpbWVvdXQgfHwgZGVmYXVsdFRpbWVvdXQpOwogICAgfTsKCiAgICBfc2VsZi5zY2hlZHVsZSA9IF9zZWxmOwoKICAgIF9zZWxmLmNhbGwgPSBmdW5jdGlvbiAoKSB7CiAgICAgIHRoaXMuY2FuY2VsKCk7CiAgICAgIGZjbigpOwogICAgfTsKCiAgICBfc2VsZi5jYW5jZWwgPSBmdW5jdGlvbiAoKSB7CiAgICAgIHRpbWVyICYmIGNsZWFyVGltZW91dCh0aW1lcik7CiAgICAgIHRpbWVyID0gbnVsbDsKICAgIH07CgogICAgX3NlbGYuaXNQZW5kaW5nID0gZnVuY3Rpb24gKCkgewogICAgICByZXR1cm4gdGltZXI7CiAgICB9OwoKICAgIHJldHVybiBfc2VsZjsKICB9CiAgLyogaHR0cHM6Ly9naXRodWIuY29tL2NvZGVyYWlzZXIva2V5ICovCgoKICBmdW5jdGlvbiBrZXkoc3RyLCBldmVudCkgewogICAgdmFyIHJpZ2h0LAogICAgICAgIEtFWSA9IHsKICAgICAgQkFDS1NQQUNFOiA4LAogICAgICBUQUI6IDksCiAgICAgIEVOVEVSOiAxMywKICAgICAgRVNDOiAyNywKICAgICAgU1BBQ0U6IDMyLAogICAgICBQQUdFX1VQOiAzMywKICAgICAgUEFHRV9ET1dOOiAzNCwKICAgICAgRU5EOiAzNSwKICAgICAgSE9NRTogMzYsCiAgICAgIFVQOiAzOCwKICAgICAgRE9XTjogNDAsCiAgICAgIElOU0VSVDogNDUsCiAgICAgIERFTEVURTogNDYsCiAgICAgIElOU0VSVF9NQUM6IDk2LAogICAgICBBU1RFUklTSzogMTA2LAogICAgICBQTFVTOiAxMDcsCiAgICAgIE1JTlVTOiAxMDksCiAgICAgIEYxOiAxMTIsCiAgICAgIEYyOiAxMTMsCiAgICAgIEYzOiAxMTQsCiAgICAgIEY0OiAxMTUsCiAgICAgIEY1OiAxMTYsCiAgICAgIEY2OiAxMTcsCiAgICAgIEY3OiAxMTgsCiAgICAgIEY4OiAxMTksCiAgICAgIEY5OiAxMjAsCiAgICAgIEYxMDogMTIxLAogICAgICBTTEFTSDogMTkxLAogICAgICBUUkE6IDE5MiwKCiAgICAgIC8qIFR5cGV3cml0dGVuIFJldmVyc2UgQXBvc3Ryb3BoZSAoYCkgKi8KICAgICAgQkFDS1NMQVNIOiAyMjAKICAgIH07IC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11c2UtYmVmb3JlLWRlZmluZQoKICAgIGtleUNoZWNrKHN0ciwgZXZlbnQpOwogICAgcmlnaHQgPSBzdHIuc3BsaXQoJ3wnKS5zb21lKGZ1bmN0aW9uIChjb21iaW5hdGlvbikgewogICAgICB2YXIgd3Jvbmc7CiAgICAgIHdyb25nID0gY29tYmluYXRpb24uc3BsaXQoJy0nKS5zb21lKGZ1bmN0aW9uIChrZXkpIHsKICAgICAgICB2YXIgcmlnaHQ7CgogICAgICAgIHN3aXRjaCAoa2V5KSB7CiAgICAgICAgICBjYXNlICdDdHJsJzoKICAgICAgICAgICAgcmlnaHQgPSBldmVudC5jdHJsS2V5OwogICAgICAgICAgICBicmVhazsKCiAgICAgICAgICBjYXNlICdTaGlmdCc6CiAgICAgICAgICAgIHJpZ2h0ID0gZXZlbnQuc2hpZnRLZXk7CiAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgIGNhc2UgJ0FsdCc6CiAgICAgICAgICAgIHJpZ2h0ID0gZXZlbnQuYWx0S2V5OwogICAgICAgICAgICBicmVhazsKCiAgICAgICAgICBjYXNlICdDbWQnOgogICAgICAgICAgICByaWdodCA9IGV2ZW50Lm1ldGFLZXk7CiAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgIGRlZmF1bHQ6CiAgICAgICAgICAgIGlmIChrZXkubGVuZ3RoID09PSAxKSByaWdodCA9IGV2ZW50LmtleUNvZGUgPT09IGtleS5jaGFyQ29kZUF0KDApO2Vsc2UgT2JqZWN0LmtleXMoS0VZKS5zb21lKGZ1bmN0aW9uIChuYW1lKSB7CiAgICAgICAgICAgICAgdmFyIHVwID0ga2V5LnRvVXBwZXJDYXNlKCk7CiAgICAgICAgICAgICAgaWYgKHVwID09PSBuYW1lKSByaWdodCA9IGV2ZW50LmtleUNvZGUgPT09IEtFWVtuYW1lXTsKICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIGJyZWFrOwogICAgICAgIH0KCiAgICAgICAgcmV0dXJuICFyaWdodDsKICAgICAgfSk7CiAgICAgIHJldHVybiAhd3Jvbmc7CiAgICB9KTsKICAgIHJldHVybiByaWdodDsKICB9CgogIGZ1bmN0aW9uIGtleUNoZWNrKHN0ciwgZXZlbnQpIHsKICAgIGlmICh0eXBlb2Ygc3RyICE9PSAnc3RyaW5nJykgdGhyb3cgRXJyb3IoJ3N0ciBzaG91bGQgYmUgc3RyaW5nIScpOwogICAgaWYgKHR5cGVvZiBldmVudCAhPT0gJ29iamVjdCcpIHRocm93IEVycm9yKCdldmVudCBzaG91bGQgYmUgb2JqZWN0IScpOwogIH0gLy8gPT09PT09PT09PT09CgoKICBmdW5jdGlvbiBTZWFyY2hTdGF0ZSgpIHsKICAgIHRoaXMucG9zRnJvbSA9IHRoaXMucG9zVG8gPSB0aGlzLmxhc3RRdWVyeSA9IHRoaXMucXVlcnkgPSBudWxsOwogICAgdGhpcy5vdmVybGF5ID0gbnVsbDsKICB9CgogIGZ1bmN0aW9uIHF1ZXJ5Q2FzZUluc2Vuc2l0aXZlKHF1ZXJ5KSB7CiAgICByZXR1cm4gdHlwZW9mIHF1ZXJ5ID09ICdzdHJpbmcnICYmIHF1ZXJ5ID09IHF1ZXJ5LnRvTG93ZXJDYXNlKCk7CiAgfQoKICBmdW5jdGlvbiBnZXRTZWFyY2hTdGF0ZShjbSkgewogICAgcmV0dXJuIGNtLnN0YXRlLnNlYXJjaCB8fCAoY20uc3RhdGUuc2VhcmNoID0gbmV3IFNlYXJjaFN0YXRlKCkpOwogIH0KCiAgZnVuY3Rpb24gUmVnRXhwQ29tbW9uKG8sIHF1ZXJ5LCBjYXNlSW5zZW5zaXRpdmUpIHsKICAgIGxldCB2YWw7CgogICAgaWYgKG8ud2hvbGVXb3JkICYmICFvLnJlZ0V4cCkgewogICAgICB2YWwgPSAnXFxiJyArIHF1ZXJ5LnJlcGxhY2UoL1tcLVxbXF1cL1x7XH1cKFwpXCpcK1w/XC5cXFxeXCRcfF0vZywgJ1xcJCYnKSArICdcXGInOwogICAgfSBlbHNlIGlmIChvLnJlZ0V4cCkgewogICAgICAvLyBpZiAoIW8uY2FzZVNlbnNpdGl2ZSkgewogICAgICAvLyAgIHZhbCA9IHF1ZXJ5Py50b0xvd2VyQ2FzZSgpOwogICAgICAvLyB9IGVsc2UgewogICAgICB2YWwgPSBxdWVyeTsgLy8gfQogICAgICAvLyB2YWwgPSAnXFxiJyArIHZhbC5yZXBsYWNlKC9bXC1cW1xdXC9ce1x9XChcKVwqXCtcP1wuXFxcXlwkXHxdL2csICJcXCQmIikgKyAnXFxiJwogICAgfSBlbHNlIHsKICAgICAgdmFsID0gcXVlcnkucmVwbGFjZSgvW1wtXFtcXVwvXHtcfVwoXClcKlwrXD9cLlxcXF5cJFx8XS9nLCAnXFwkJicpOwogICAgfQoKICAgIHJldHVybiBuZXcgUmVnRXhwKHZhbCwgY2FzZUluc2Vuc2l0aXZlID8gJ2dpJyA6ICdnJyk7CiAgfQoKICBmdW5jdGlvbiBzZWFyY2hPdmVybGF5KHF1ZXJ5LCBjYXNlSW5zZW5zaXRpdmUsIG8pIHsKICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bnVzZWQtdmFycwogICAgbGV0IHZhbHVlID0gcXVlcnk7IC8vIGNvbnNvbGUubG9nKHF1ZXJ5LCBxdWVyeS5yZXBsYWNlKC9bXC1cW1xdXC9ce1x9XChcKVwqXCtcP1wuXFxcXlwkXHxdL2csICdcXCQmJyksICdzZWFyY2hPdmVybGF5JywgJ1xcYicgKyBxdWVyeSArICdcXGInKTsKCiAgICBpZiAodHlwZW9mIHF1ZXJ5ID09ICdzdHJpbmcnKSB7CiAgICAgIC8qIGxldCB2YWw7CiAgICAgIGlmIChvLndob2xlV29yZCAmJiAhby5yZWdFeHApIHsKICAgICAgICB2YWwgPSAnXFxiJyArIHF1ZXJ5LnJlcGxhY2UoL1tcLVxbXF1cL1x7XH1cKFwpXCpcK1w/XC5cXFxeXCRcfF0vZywgIlxcJCYiKSArICdcXGInCiAgICAgIH0gZWxzZSBpZiAoby5yZWdFeHApIHsKICAgICAgICAvLyBpZiAoIW8uY2FzZVNlbnNpdGl2ZSkgewogICAgICAgIC8vICAgdmFsID0gcXVlcnk/LnRvTG93ZXJDYXNlKCk7CiAgICAgICAgLy8gfSBlbHNlIHsKICAgICAgICAgIHZhbCA9IHF1ZXJ5OwogICAgICAgIC8vIH0KICAgICAgICAvLyB2YWwgPSAnXFxiJyArIHZhbC5yZXBsYWNlKC9bXC1cW1xdXC9ce1x9XChcKVwqXCtcP1wuXFxcXlwkXHxdL2csICJcXCQmIikgKyAnXFxiJwogICAgICB9IGVsc2UgewogICAgICAgIHZhbCA9IHF1ZXJ5LnJlcGxhY2UoL1tcLVxbXF1cL1x7XH1cKFwpXCpcK1w/XC5cXFxeXCRcfF0vZywgIlxcJCYiKTsKICAgICAgfQogICAgICBxdWVyeSA9IG5ldyBSZWdFeHAodmFsLCBjYXNlSW5zZW5zaXRpdmUgPyAiZ2kiIDogImciKTsqLwogICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbmV3LWNhcAogICAgICBxdWVyeSA9IFJlZ0V4cENvbW1vbihvLCBxdWVyeSwgY2FzZUluc2Vuc2l0aXZlKTsKICAgIH0gZWxzZSBpZiAoIXF1ZXJ5Lmdsb2JhbCkgewogICAgICBxdWVyeSA9IG5ldyBSZWdFeHAocXVlcnkuc291cmNlLCBxdWVyeS5pZ25vcmVDYXNlID8gJ2dpJyA6ICdnJyk7CiAgICB9IC8vIGNvbnNvbGUubG9nKG8sIHZhbHVlLCBxdWVyeSwgdmFsdWUubWF0Y2gocXVlcnkpLCAn5Yy56YWNJyk7CgoKICAgIHJldHVybiB7CiAgICAgIHRva2VuOiBmdW5jdGlvbiAoc3RyZWFtKSB7CiAgICAgICAgcXVlcnkubGFzdEluZGV4ID0gc3RyZWFtLnBvczsKICAgICAgICB2YXIgbWF0Y2ggPSBxdWVyeS5leGVjKHN0cmVhbS5zdHJpbmcpOyAvLyBjb25zb2xlLmxvZyhtYXRjaCxzdHJlYW0scXVlcnksJ3N0cmVhbScpCgogICAgICAgIGlmIChtYXRjaCAmJiBtYXRjaC5pbmRleCA9PSBzdHJlYW0ucG9zKSB7CiAgICAgICAgICBzdHJlYW0ucG9zICs9IG1hdGNoWzBdLmxlbmd0aCB8fCAxOwogICAgICAgICAgcmV0dXJuICdzZWFyY2hpbmcnOwogICAgICAgIH0gZWxzZSBpZiAobWF0Y2gpIHsKICAgICAgICAgIHN0cmVhbS5wb3MgPSBtYXRjaC5pbmRleDsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgc3RyZWFtLnNraXBUb0VuZCgpOwogICAgICAgIH0KICAgICAgfQogICAgfTsKICB9CgogIGZ1bmN0aW9uIGdldFNlYXJjaEN1cnNvcihjbSwgcXVlcnksIHBvcywgb3B0aW9ucykgewogICAgLy8gSGV1cmlzdGljOiBpZiB0aGUgcXVlcnkgc3RyaW5nIGlzIGFsbCBsb3dlcmNhc2UsIGRvIGEgY2FzZSBpbnNlbnNpdGl2ZSBzZWFyY2guCiAgICAvLyBjb25zb2xlLmxvZyhxdWVyeSwgcG9zLCAnZ2V0U2VhcmNoQ3Vyc29yJyk7CiAgICByZXR1cm4gY20uZ2V0U2VhcmNoQ3Vyc29yKHF1ZXJ5LCBwb3MsIG9wdGlvbnMpOwogIH0gLy8gPT09PT09PT09PT09CgoKICBmdW5jdGlvbiBTZWFyY2hCb3goY20pIHsKICAgIHZhciBzZWxmID0gdGhpczsgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVzZS1iZWZvcmUtZGVmaW5lCgogICAgaW5pdCgpOwoKICAgIGZ1bmN0aW9uIGluaXRFbGVtZW50cyhlbCkgewogICAgICBzZWxmLnNlYXJjaEJveCA9IGVsLnF1ZXJ5U2VsZWN0b3IoJy5hY2Vfc2VhcmNoX2Zvcm0nKTsKICAgICAgc2VsZi5yZXBsYWNlQm94ID0gZWwucXVlcnlTZWxlY3RvcignLmFjZV9yZXBsYWNlX2Zvcm0nKTsKICAgICAgc2VsZi5zZWFyY2hPcHRpb25zID0gZWwucXVlcnlTZWxlY3RvcignLmFjZV9zZWFyY2hfb3B0aW9ucycpOwogICAgICBzZWxmLnJlZ0V4cE9wdGlvbiA9IGVsLnF1ZXJ5U2VsZWN0b3IoJ1thY3Rpb249dG9nZ2xlUmVnZXhwTW9kZV0nKTsKICAgICAgc2VsZi5jYXNlU2Vuc2l0aXZlT3B0aW9uID0gZWwucXVlcnlTZWxlY3RvcignW2FjdGlvbj10b2dnbGVDYXNlU2Vuc2l0aXZlXScpOwogICAgICBzZWxmLndob2xlV29yZE9wdGlvbiA9IGVsLnF1ZXJ5U2VsZWN0b3IoJ1thY3Rpb249dG9nZ2xlV2hvbGVXb3Jkc10nKTsKICAgICAgc2VsZi5zZWFyY2hJbnB1dCA9IHNlbGYuc2VhcmNoQm94LnF1ZXJ5U2VsZWN0b3IoJy5hY2Vfc2VhcmNoX2ZpZWxkJyk7CiAgICAgIHNlbGYucmVwbGFjZUlucHV0ID0gc2VsZi5yZXBsYWNlQm94LnF1ZXJ5U2VsZWN0b3IoJy5hY2Vfc2VhcmNoX2ZpZWxkJyk7CiAgICB9CgogICAgZnVuY3Rpb24gaW5pdCgpIHsKICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVzZS1iZWZvcmUtZGVmaW5lCiAgICAgIHZhciBlbCA9IHNlbGYuZWxlbWVudCA9IGFkZEh0bWwoKTsgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVzZS1iZWZvcmUtZGVmaW5lCgogICAgICBhZGRTdHlsZSgpOwogICAgICBpbml0RWxlbWVudHMoZWwpOyAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdXNlLWJlZm9yZS1kZWZpbmUKCiAgICAgIGJpbmRLZXlzKCk7CiAgICAgIGVsLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsIGZ1bmN0aW9uIChlKSB7CiAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgICBzZWxmLmFjdGl2ZUlucHV0LmZvY3VzKCk7CiAgICAgICAgfSwgMCk7CiAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTsKICAgICAgfSk7CiAgICAgIGVsLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24gKGUpIHsKICAgICAgICB2YXIgdCA9IGUudGFyZ2V0IHx8IGUuc3JjRWxlbWVudDsKICAgICAgICB2YXIgYWN0aW9uID0gdC5nZXRBdHRyaWJ1dGUoJ2FjdGlvbicpOwogICAgICAgIGlmIChhY3Rpb24gJiYgc2VsZlthY3Rpb25dKSBzZWxmW2FjdGlvbl0oKTtlbHNlIGlmIChzZWxmLmNvbW1hbmRzW2FjdGlvbl0pIHNlbGYuY29tbWFuZHNbYWN0aW9uXSgpOwogICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7CiAgICAgIH0pOwogICAgICBzZWxmLnNlYXJjaElucHV0LmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0JywgZnVuY3Rpb24gKCkgewogICAgICAgIHNlbGYuJG9uQ2hhbmdlLnNjaGVkdWxlKDIwKTsKICAgICAgfSk7CiAgICAgIHNlbGYuc2VhcmNoSW5wdXQuYWRkRXZlbnRMaXN0ZW5lcignZm9jdXMnLCBmdW5jdGlvbiAoKSB7CiAgICAgICAgc2VsZi5hY3RpdmVJbnB1dCA9IHNlbGYuc2VhcmNoSW5wdXQ7CiAgICAgIH0pOwogICAgICBzZWxmLnJlcGxhY2VJbnB1dC5hZGRFdmVudExpc3RlbmVyKCdmb2N1cycsIGZ1bmN0aW9uICgpIHsKICAgICAgICBzZWxmLmFjdGl2ZUlucHV0ID0gc2VsZi5yZXBsYWNlSW5wdXQ7CiAgICAgIH0pOyAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdXNlLWJlZm9yZS1kZWZpbmUKCiAgICAgIHNlbGYuJG9uQ2hhbmdlID0gZGVsYXllZENhbGwoZnVuY3Rpb24gKCkgewogICAgICAgIHNlbGYuZmluZChmYWxzZSwgZmFsc2UpOwogICAgICB9KTsKICAgIH0KCiAgICBmdW5jdGlvbiBiaW5kS2V5cygpIHsKICAgICAgdmFyIG9iaiA9IHsKICAgICAgICAnQ3RybC1GfENtZC1GfEN0cmwtSHxDb21tYW5kLUFsdC1GJzogZnVuY3Rpb24gKCkgewogICAgICAgICAgdmFyIGlzUmVwbGFjZSA9IHNlbGYuaXNSZXBsYWNlID0gIXNlbGYuaXNSZXBsYWNlOwogICAgICAgICAgc2VsZi5yZXBsYWNlQm94LnN0eWxlLmRpc3BsYXkgPSBpc1JlcGxhY2UgPyAnJyA6ICdub25lJzsKICAgICAgICAgIHNlbGZbaXNSZXBsYWNlID8gJ3JlcGxhY2VJbnB1dCcgOiAnc2VhcmNoSW5wdXQnXS5mb2N1cygpOwogICAgICAgIH0sCiAgICAgICAgJ0N0cmwtR3xDbWQtRyc6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgIHNlbGYuZmluZE5leHQoKTsKICAgICAgICB9LAogICAgICAgICdDdHJsLVNoaWZ0LUd8Q21kLVNoaWZ0LUcnOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICBzZWxmLmZpbmRQcmV2KCk7CiAgICAgICAgfSwKICAgICAgICAnRXNjJzogZnVuY3Rpb24gKCkgewogICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIHNlbGYuaGlkZSgpOwogICAgICAgICAgfSk7CiAgICAgICAgfSwKICAgICAgICAnRW50ZXInOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICBpZiAoc2VsZi5hY3RpdmVJbnB1dCA9PT0gc2VsZi5yZXBsYWNlSW5wdXQpIHNlbGYucmVwbGFjZSgpOwogICAgICAgICAgc2VsZi5maW5kTmV4dCgpOwogICAgICAgIH0sCiAgICAgICAgJ1NoaWZ0LUVudGVyJzogZnVuY3Rpb24gKCkgewogICAgICAgICAgaWYgKHNlbGYuYWN0aXZlSW5wdXQgPT09IHNlbGYucmVwbGFjZUlucHV0KSBzZWxmLnJlcGxhY2UoKTsKICAgICAgICAgIHNlbGYuZmluZFByZXYoKTsKICAgICAgICB9LAogICAgICAgICdBbHQtRW50ZXInOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICBpZiAoc2VsZi5hY3RpdmVJbnB1dCA9PT0gc2VsZi5yZXBsYWNlSW5wdXQpIHNlbGYucmVwbGFjZUFsbCgpOwogICAgICAgICAgc2VsZi5maW5kQWxsKCk7CiAgICAgICAgfSwKICAgICAgICAnVGFiJzogZnVuY3Rpb24gKCkgewogICAgICAgICAgaWYgKHNlbGYuYWN0aXZlSW5wdXQgPT09IHNlbGYucmVwbGFjZUlucHV0KSBzZWxmLnNlYXJjaElucHV0LmZvY3VzKCk7ZWxzZSBzZWxmLnJlcGxhY2VJbnB1dC5mb2N1cygpOwogICAgICAgIH0KICAgICAgfTsKICAgICAgc2VsZi5lbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCBmdW5jdGlvbiAoZXZlbnQpIHsKICAgICAgICBPYmplY3Qua2V5cyhvYmopLnNvbWUoZnVuY3Rpb24gKG5hbWUpIHsKICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11c2UtYmVmb3JlLWRlZmluZQogICAgICAgICAgdmFyIGlzID0ga2V5KG5hbWUsIGV2ZW50KTsKCiAgICAgICAgICBpZiAoaXMpIHsKICAgICAgICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7CiAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7CiAgICAgICAgICAgIG9ialtuYW1lXShldmVudCk7CiAgICAgICAgICB9CgogICAgICAgICAgcmV0dXJuIGlzOwogICAgICAgIH0pOwogICAgICB9KTsKICAgIH0KCiAgICB0aGlzLmNvbW1hbmRzID0gewogICAgICB0b2dnbGVSZWdleHBNb2RlOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgc2VsZi5yZWdFeHBPcHRpb24uY2hlY2tlZCA9ICFzZWxmLnJlZ0V4cE9wdGlvbi5jaGVja2VkOwogICAgICAgIHNlbGYuJHN5bmNPcHRpb25zKCk7CiAgICAgIH0sCiAgICAgIHRvZ2dsZUNhc2VTZW5zaXRpdmU6IGZ1bmN0aW9uICgpIHsKICAgICAgICBzZWxmLmNhc2VTZW5zaXRpdmVPcHRpb24uY2hlY2tlZCA9ICFzZWxmLmNhc2VTZW5zaXRpdmVPcHRpb24uY2hlY2tlZDsKICAgICAgICBzZWxmLiRzeW5jT3B0aW9ucygpOwogICAgICB9LAogICAgICB0b2dnbGVXaG9sZVdvcmRzOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgc2VsZi53aG9sZVdvcmRPcHRpb24uY2hlY2tlZCA9ICFzZWxmLndob2xlV29yZE9wdGlvbi5jaGVja2VkOwogICAgICAgIHNlbGYuJHN5bmNPcHRpb25zKCk7CiAgICAgIH0KICAgIH07CgogICAgZnVuY3Rpb24gcmVzZXRDb3VudChjbSkgewogICAgICBjbS5nZXRXcmFwcGVyRWxlbWVudCgpLnBhcmVudE5vZGUucXVlcnlTZWxlY3RvcignLkNvZGVNaXJyb3Itc2VhcmNoLWNvdW50JykuaW5uZXJIVE1MID0gJyc7CiAgICB9CgogICAgZnVuY3Rpb24gdXBkYXRlQ291bnQoY20sIG8sIHF1ZXJ5LCBjYXNlSW5zZW5zaXRpdmUpIHsKICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVudXNlZC12YXJzCiAgICAgIGxldCBzdGF0ZSA9IGdldFNlYXJjaFN0YXRlKGNtKTsKICAgICAgbGV0IHZhbHVlID0gY20uZ2V0RG9jKCkuZ2V0VmFsdWUoKTsKICAgICAgbGV0IGdsb2JhbFF1ZXJ5OwogICAgICBsZXQgcXVlcnlUZXh0ID0gc2VsZi5zZWFyY2hJbnB1dC52YWx1ZTsKCiAgICAgIGlmICghcXVlcnlUZXh0IHx8IHF1ZXJ5VGV4dCA9PT0gJycpIHsKICAgICAgICByZXNldENvdW50KGNtKTsKICAgICAgICByZXR1cm47CiAgICAgIH0KICAgICAgLyogd2hpbGUgKHF1ZXJ5VGV4dC5jaGFyQXQocXVlcnlUZXh0Lmxlbmd0aCAtIDEpID09PSAnXFwnKSB7CiAgICAgICAgcXVlcnlUZXh0ID0gcXVlcnlUZXh0LnN1YnN0cmluZygwLCBxdWVyeVRleHQubGFzdEluZGV4T2YoJ1xcJykpOwogICAgICB9CiAgICAgICBpZiAodHlwZW9mIHN0YXRlLnF1ZXJ5ID09PSAnc3RyaW5nJykgewogICAgICAgIGdsb2JhbFF1ZXJ5ID0gbmV3IFJlZ0V4cChxdWVyeVRleHQsICdpZycpOwogICAgICB9IGVsc2UgewogICAgICAgIGdsb2JhbFF1ZXJ5ID0gbmV3IFJlZ0V4cChzdGF0ZS5xdWVyeS5zb3VyY2UsIHN0YXRlLnF1ZXJ5LmZsYWdzICsgJ2cnKTsKICAgICAgfSovCiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuZXctY2FwCgoKICAgICAgZ2xvYmFsUXVlcnkgPSBSZWdFeHBDb21tb24obywgcXVlcnksIGNhc2VJbnNlbnNpdGl2ZSk7CiAgICAgIGxldCBtYXRjaGVzID0gdmFsdWUubWF0Y2goZ2xvYmFsUXVlcnkpOwogICAgICBsZXQgY291bnQgPSBtYXRjaGVzID8gbWF0Y2hlcy5sZW5ndGggOiAwOwogICAgICBsZXQgY291bnRUZXh0ID0gY291bnQgPT09IDEgPyAnMSBtYXRjaCcgOiBjb3VudCArICcgbWF0Y2hlcyc7IC8vIGNvbnNvbGUubG9nKG1hdGNoZXMsIGNvdW50LCAnY291bnQnKTsKCiAgICAgIGNtLmdldFdyYXBwZXJFbGVtZW50KCkucGFyZW50Tm9kZS5xdWVyeVNlbGVjdG9yKCcuQ29kZU1pcnJvci1zZWFyY2gtY291bnQnKS5pbm5lckhUTUwgPSBjb3VudFRleHQ7CiAgICB9CgogICAgdGhpcy4kc3luY09wdGlvbnMgPSBmdW5jdGlvbiAoKSB7CiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11c2UtYmVmb3JlLWRlZmluZQogICAgICBzZXRDc3NDbGFzcyh0aGlzLnJlZ0V4cE9wdGlvbiwgJ2NoZWNrZWQnLCB0aGlzLnJlZ0V4cE9wdGlvbi5jaGVja2VkKTsKICAgICAgc2V0Q3NzQ2xhc3ModGhpcy53aG9sZVdvcmRPcHRpb24sICdjaGVja2VkJywgdGhpcy53aG9sZVdvcmRPcHRpb24uY2hlY2tlZCk7CiAgICAgIHNldENzc0NsYXNzKHRoaXMuY2FzZVNlbnNpdGl2ZU9wdGlvbiwgJ2NoZWNrZWQnLCB0aGlzLmNhc2VTZW5zaXRpdmVPcHRpb24uY2hlY2tlZCk7CiAgICAgIHRoaXMuZmluZChmYWxzZSwgZmFsc2UpOwogICAgfTsKCiAgICB0aGlzLmZpbmQgPSBmdW5jdGlvbiAoc2tpcEN1cnJlbnQsIGJhY2t3YXJkcykgewogICAgICB2YXIgdmFsdWUgPSB0aGlzLnNlYXJjaElucHV0LnZhbHVlLAogICAgICAgICAgb3B0aW9ucyA9IHsKICAgICAgICBza2lwQ3VycmVudDogc2tpcEN1cnJlbnQsCiAgICAgICAgYmFja3dhcmRzOiBiYWNrd2FyZHMsCiAgICAgICAgcmVnRXhwOiB0aGlzLnJlZ0V4cE9wdGlvbi5jaGVja2VkLAogICAgICAgIGNhc2VTZW5zaXRpdmU6IHRoaXMuY2FzZVNlbnNpdGl2ZU9wdGlvbi5jaGVja2VkLAogICAgICAgIHdob2xlV29yZDogdGhpcy53aG9sZVdvcmRPcHRpb24uY2hlY2tlZAogICAgICB9OyAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdXNlLWJlZm9yZS1kZWZpbmUKCiAgICAgIGZpbmQodmFsdWUsIG9wdGlvbnMsIGZ1bmN0aW9uIChzZWFyY2hDdXJzb3IpIHsKICAgICAgICAvLyBjb25zb2xlLmxvZyh2YWx1ZSwgJ2ZpbmQxMTEnKTsKICAgICAgICB2YXIgY3VycmVudCA9IHNlYXJjaEN1cnNvci5tYXRjaGVzKGZhbHNlLCBzZWFyY2hDdXJzb3IuZnJvbSgpKTsgLy8gY29uc29sZS5sb2codmFsdWUsIG9wdGlvbnMsY3VycmVudCxzZWFyY2hDdXJzb3IsJ2N1cnJlbnQnKQoKICAgICAgICBjbS5zZXRTZWxlY3Rpb24oY3VycmVudC5mcm9tLCBjdXJyZW50LnRvKTsKICAgICAgfSk7CiAgICB9OwoKICAgIGZ1bmN0aW9uIGZpbmQodmFsdWUsIG9wdGlvbnMsIGNhbGxiYWNrKSB7CiAgICAgIC8vIGNvbnNvbGUubG9nKCdmaW5kMjIyJyk7CiAgICAgIHZhciBkb25lLAogICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVudXNlZC12YXJzCiAgICAgIG5vTWF0Y2gsCiAgICAgICAgICBzZWFyY2hDdXJzb3IsCiAgICAgICAgICBuZXh0LAogICAgICAgICAgcHJldiwKICAgICAgICAgIG1hdGNoZXMsCiAgICAgICAgICBjdXJzb3IsCiAgICAgICAgICBwb3NpdGlvbiwKICAgICAgICAgIHZhbCA9IHZhbHVlLAogICAgICAgICAgbyA9IG9wdGlvbnMsCiAgICAgICAgICBpcyA9IHRydWUsCiAgICAgICAgICBjYXNlU2Vuc2l0aXZlID0gby5jYXNlU2Vuc2l0aXZlLAogICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVudXNlZC12YXJzCiAgICAgIHJlZ0V4cCA9IG8ucmVnRXhwLAogICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVudXNlZC12YXJzCiAgICAgIHdob2xlV29yZCA9IG8ud2hvbGVXb3JkOwogICAgICAvKiBpZiAocmVnRXhwIHx8IHdob2xlV29yZCkgewogICAgICAgIGlmIChvcHRpb25zLndob2xlV29yZCkgewogICAgICAgICAgdmFsID0gJ1xcYicgKyB2YWwgKyAnXFxiJzsKICAgICAgICB9CiAgICAgICAgdmFsID0gUmVnRXhwKHZhbCk7CiAgICAgIH0qLwoKICAgICAgLyogaWYgKHJlZ0V4cCkgewogICAgICAgIGlmICghby5jYXNlU2Vuc2l0aXZlKSB7CiAgICAgICAgICB2YWwgPSBSZWdFeHAodmFsPy50b0xvd2VyQ2FzZSgpKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgdmFsID0gUmVnRXhwKHZhbCk7CiAgICAgICAgfQogICAgICB9Ki8KICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5ldy1jYXAKCiAgICAgIHZhbCA9IFJlZ0V4cENvbW1vbihvLCB2YWx1ZSwgIWNhc2VTZW5zaXRpdmUpOwogICAgICBpZiAoby5iYWNrd2FyZHMpIHBvc2l0aW9uID0gby5za2lwQ3VycmVudCA/ICdmcm9tJyA6ICd0byc7ZWxzZSBwb3NpdGlvbiA9IG8uc2tpcEN1cnJlbnQgPyAndG8nIDogJ2Zyb20nOwogICAgICBjdXJzb3IgPSBjbS5nZXRDdXJzb3IocG9zaXRpb24pOyAvLyBzZWFyY2hDdXJzb3IgICAgPSBjbS5nZXRTZWFyY2hDdXJzb3IodmFsLCBjdXJzb3IsICFjYXNlU2Vuc2l0aXZlKTsKICAgICAgLy8gc2VhcmNoQ3Vyc29yICAgID0gY20uZ2V0U2VhcmNoQ3Vyc29yKHZhbHVlLCBjdXJzb3IsIHtjYXNlRm9sZDogcXVlcnlDYXNlSW5zZW5zaXRpdmUodmFsKSwgbXVsdGlsaW5lOiB0cnVlfSk7CgogICAgICBzZWFyY2hDdXJzb3IgPSBnZXRTZWFyY2hDdXJzb3IoY20sIHZhbCwgY3Vyc29yLCB7CiAgICAgICAgY2FzZUZvbGQ6ICFjYXNlU2Vuc2l0aXZlLAogICAgICAgIG11bHRpbGluZTogdHJ1ZQogICAgICB9KTsKICAgICAgbmV4dCA9IHNlYXJjaEN1cnNvci5maW5kTmV4dC5iaW5kKHNlYXJjaEN1cnNvciksIHByZXYgPSBzZWFyY2hDdXJzb3IuZmluZFByZXZpb3VzLmJpbmQoc2VhcmNoQ3Vyc29yKSwgbWF0Y2hlcyA9IHNlYXJjaEN1cnNvci5tYXRjaGVzLmJpbmQoc2VhcmNoQ3Vyc29yKTsgLy8gY29uc29sZS5sb2coJ2N1cnNvcicsIG8sIHZhbHVlLCB2YWwsIGN1cnNvciwgcG9zaXRpb24sIHNlYXJjaEN1cnNvcik7CiAgICAgIC8vIGNvbnNvbGUubG9nKCdvb29vbycsbyxwcmV2KCksbmV4dCgpLG8uYmFja3dhcmRzKQogICAgICAvLyBjb25zb2xlLmxvZygnbmV4dCgpJyxzZWFyY2hDdXJzb3IuZmluZE5leHQpCiAgICAgIC8vIGNvbnNvbGUubG9nKCdwcmV2KCknLHNlYXJjaEN1cnNvci5maW5kUHJldmlvdXMpOwogICAgICAvLyBjb25zb2xlLmxvZygnMTExJyxvLmJhY2t3YXJkcyAmJiAhcHJldigpKTsKICAgICAgLy8gY29uc29sZS5sb2coJzIyMicsIW8uYmFja3dhcmRzICYmICFuZXh0KCkpOwoKICAgICAgaWYgKG8uYmFja3dhcmRzICYmICFwcmV2KCkpIHsKICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgY2FsbGJhY2stcmV0dXJuCiAgICAgICAgaXMgPSBuZXh0KCk7IC8vIGNvbnNvbGUubG9nKCcxMTExMTEtLS0tLS0tJyk7CgogICAgICAgIGlmIChpcykgewogICAgICAgICAgY20uc2V0Q3Vyc29yKGNtLmRvYy5zaXplIC0gMSwgMCk7CiAgICAgICAgICBmaW5kKHZhbHVlLCBvcHRpb25zLCBjYWxsYmFjayk7CiAgICAgICAgICBkb25lID0gdHJ1ZTsgLy8gY29uc29sZS5sb2coJzIyMjIyLS0tLS0tLScpOwogICAgICAgIH0gLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGNhbGxiYWNrLXJldHVybgoKICAgICAgfSBlbHNlIGlmICghby5iYWNrd2FyZHMgJiYgIW5leHQoKSkgewogICAgICAgIGlzID0gcHJldigpOyAvLyBjb25zb2xlLmxvZygnMzMzMzMtLS0tLS0tJywgaXMpOwoKICAgICAgICBpZiAoaXMpIHsKICAgICAgICAgIC8vIGNvbnNvbGUubG9nKCc0NDQ0NC0tLS0tLS0nKTsKICAgICAgICAgIGNtLnNldEN1cnNvcigwLCAwKTsKICAgICAgICAgIGZpbmQodmFsdWUsIG9wdGlvbnMsIGNhbGxiYWNrKTsKICAgICAgICAgIGRvbmUgPSB0cnVlOwogICAgICAgIH0KICAgICAgfQoKICAgICAgbm9NYXRjaCA9ICFpcyAmJiBzZWxmLnNlYXJjaElucHV0LnZhbHVlOyAvLyBjb25zb2xlLmxvZyhzZWxmLnNlYXJjaElucHV0LCB2YWwsICdzZWxmLnNlYXJjaElucHV0LnZhbHVlJyk7CgogICAgICBzZXRDc3NDbGFzcyhzZWxmLnNlYXJjaEJveCwgJ2FjZV9ub21hdGNoJywgbm9NYXRjaCk7IC8vIGNtLnNldFNlbGVjdGlvbihzZWFyY2hDdXJzb3IuZnJvbSgpLCBzZWFyY2hDdXJzb3IudG8oKSk7CiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11c2UtYmVmb3JlLWRlZmluZQoKICAgICAgYWN0aXZlRnVuKGNtLCB2YWx1ZSwgbyk7CiAgICAgIHVwZGF0ZUNvdW50KGNtLCBvLCB2YWx1ZSwgIWNhc2VTZW5zaXRpdmUpOwoKICAgICAgaWYgKCFkb25lICYmIGlzKSB7CiAgICAgICAgLy8gY29uc29sZS5sb2coJzU1NTU1LS0tLS0tLScsIHNlYXJjaEN1cnNvci5mcm9tKCksIHNlYXJjaEN1cnNvci50bygpKTsKICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgY2FsbGJhY2stcmV0dXJuCiAgICAgICAgY2FsbGJhY2soc2VhcmNoQ3Vyc29yKTsKICAgICAgfQogICAgfQoKICAgIGZ1bmN0aW9uIGFjdGl2ZUZ1bihjbSwgdmFsdWUsIG8pIHsKICAgICAgbGV0IHN0YXRlID0gZ2V0U2VhcmNoU3RhdGUoY20pOyAvLyBjb25zb2xlLmxvZyhzdGF0ZSwgdmFsdWUsICdhY3RpdmVGdW4nKTsKCiAgICAgIGNtLnJlbW92ZU92ZXJsYXkoc3RhdGUub3ZlcmxheSwgcXVlcnlDYXNlSW5zZW5zaXRpdmUodmFsdWUpKTsKCiAgICAgIGlmICghdmFsdWUpIHsKICAgICAgICByZXR1cm47CiAgICAgIH0KCiAgICAgIHN0YXRlLm92ZXJsYXkgPSBzZWFyY2hPdmVybGF5KHZhbHVlLCAhby5jYXNlU2Vuc2l0aXZlLCBvKTsKICAgICAgY20uYWRkT3ZlcmxheShzdGF0ZS5vdmVybGF5KTsgLy8gY29uc29sZS5sb2coc3RhdGUub3ZlcmxheSwgJ3N0YXRlLm92ZXJsYXknKTsKICAgICAgLy8gaWYgKGNtLnNob3dNYXRjaGVzT25TY3JvbGxiYXIpIHsKICAgICAgLy8gICBpZiAoc3RhdGUuYW5ub3RhdGUpIHsgc3RhdGUuYW5ub3RhdGUuY2xlYXIoKTsgc3RhdGUuYW5ub3RhdGUgPSBudWxsOyB9CiAgICAgIC8vICAgc3RhdGUuYW5ub3RhdGUgPSBjbS5zaG93TWF0Y2hlc09uU2Nyb2xsYmFyKHNlYXJjaEN1cnNvciwgcXVlcnlDYXNlSW5zZW5zaXRpdmUoc2VhcmNoQ3Vyc29yKSk7CiAgICAgIC8vIH0KICAgIH0KCiAgICB0aGlzLmZpbmROZXh0ID0gZnVuY3Rpb24gKCkgewogICAgICAvLyBjb25zb2xlLmxvZygnZmluZE5leHQnKTsKICAgICAgdGhpcy5maW5kKHRydWUsIGZhbHNlKTsKICAgIH07CgogICAgdGhpcy5maW5kUHJldiA9IGZ1bmN0aW9uICgpIHsKICAgICAgdGhpcy5maW5kKHRydWUsIHRydWUpOwogICAgfTsKCiAgICB0aGlzLmZpbmRBbGwgPSBmdW5jdGlvbiAoKSB7CiAgICAgIC8qCiAgICAgIHZhciByYW5nZSA9IHRoaXMuZWRpdG9yLmZpbmRBbGwodGhpcy5zZWFyY2hJbnB1dC52YWx1ZSwgewogICAgICAgICAgcmVnRXhwOiB0aGlzLnJlZ0V4cE9wdGlvbi5jaGVja2VkLAogICAgICAgICAgY2FzZVNlbnNpdGl2ZTogdGhpcy5jYXNlU2Vuc2l0aXZlT3B0aW9uLmNoZWNrZWQsCiAgICAgICAgICB3aG9sZVdvcmQ6IHRoaXMud2hvbGVXb3JkT3B0aW9uLmNoZWNrZWQKICAgICAgfSk7CiAgICAgICovCiAgICAgIHZhciB2YWx1ZSA9IHRoaXMuc2VhcmNoSW5wdXQudmFsdWUsCiAgICAgICAgICByYW5nZSwKICAgICAgICAgIG5vTWF0Y2ggPSAhcmFuZ2UgJiYgdGhpcy5zZWFyY2hJbnB1dC52YWx1ZTsKICAgICAgc2V0Q3NzQ2xhc3ModGhpcy5zZWFyY2hCb3gsICdhY2Vfbm9tYXRjaCcsIG5vTWF0Y2gpOwogICAgICBpZiAoY20uc2hvd01hdGNoZXNPblNjcm9sbGJhcikgY20uc2hvd01hdGNoZXNPblNjcm9sbGJhcih2YWx1ZSk7CiAgICAgIHRoaXMuaGlkZSgpOwogICAgfTsKCiAgICB0aGlzLnJlcGxhY2UgPSBmdW5jdGlvbiAoKSB7CiAgICAgIHZhciByZWFkT25seSA9IGNtLmdldE9wdGlvbigncmVhZE9ubHknKSwKICAgICAgICAgIGlzU2VsZWN0aW9uID0gISFjbS5nZXRTZWxlY3Rpb24oKTsKICAgICAgaWYgKCFyZWFkT25seSAmJiBpc1NlbGVjdGlvbikgY20ucmVwbGFjZVNlbGVjdGlvbih0aGlzLnJlcGxhY2VJbnB1dC52YWx1ZSwgJ3N0YXJ0Jyk7CiAgICB9OwoKICAgIHRoaXMucmVwbGFjZUFuZEZpbmROZXh0ID0gZnVuY3Rpb24gKCkgewogICAgICB2YXIgcmVhZE9ubHkgPSBjbS5nZXRPcHRpb24oJ3JlYWRPbmx5Jyk7CgogICAgICBpZiAoIXJlYWRPbmx5KSB7CiAgICAgICAgdGhpcy5yZXBsYWNlKCk7CiAgICAgICAgdGhpcy5maW5kTmV4dCgpOwogICAgICB9CiAgICB9OwoKICAgIHRoaXMucmVwbGFjZUFsbCA9IGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIHZhbHVlLAogICAgICAgICAgY3Vyc29yLAogICAgICAgICAgZnJvbSA9IHRoaXMuc2VhcmNoSW5wdXQudmFsdWUsCiAgICAgICAgICB0byA9IHRoaXMucmVwbGFjZUlucHV0LnZhbHVlLAogICAgICAgICAgcmVnID0gUmVnRXhwKGZyb20sICdnJyk7CgogICAgICBpZiAoIWNtLmdldE9wdGlvbigncmVhZE9ubHknKSkgewogICAgICAgIGN1cnNvciA9IGNtLmdldEN1cnNvcigpOwogICAgICAgIHZhbHVlID0gY20uZ2V0VmFsdWUoKTsKICAgICAgICB2YWx1ZSA9IHZhbHVlLnJlcGxhY2UocmVnLCB0byk7CiAgICAgICAgY20uc2V0VmFsdWUodmFsdWUpOwogICAgICAgIGNtLnNldEN1cnNvcihjdXJzb3IpOwogICAgICB9CiAgICB9OwoKICAgIHRoaXMuaGlkZSA9IGZ1bmN0aW9uICgpIHsKICAgICAgdGhpcy5lbGVtZW50LnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7CiAgICAgIGNtLmZvY3VzKCk7CiAgICB9OwoKICAgIHRoaXMuaXNWaXNpYmxlID0gZnVuY3Rpb24gKCkgewogICAgICB2YXIgaXMgPSB0aGlzLmVsZW1lbnQuc3R5bGUuZGlzcGxheSA9PT0gJyc7CiAgICAgIHJldHVybiBpczsKICAgIH07CgogICAgdGhpcy5zaG93ID0gZnVuY3Rpb24gKHZhbHVlLCBpc1JlcGxhY2UpIHsKICAgICAgdGhpcy5lbGVtZW50LnN0eWxlLmRpc3BsYXkgPSAnJzsKICAgICAgdGhpcy5yZXBsYWNlQm94LnN0eWxlLmRpc3BsYXkgPSBpc1JlcGxhY2UgPyAnJyA6ICdub25lJzsKICAgICAgdGhpcy5pc1JlcGxhY2UgPSBpc1JlcGxhY2U7CiAgICAgIGlmICh2YWx1ZSkgdGhpcy5zZWFyY2hJbnB1dC52YWx1ZSA9IHZhbHVlOwogICAgICB0aGlzLnNlYXJjaElucHV0LmZvY3VzKCk7CiAgICAgIHRoaXMuc2VhcmNoSW5wdXQuc2VsZWN0KCk7CiAgICB9OwoKICAgIHRoaXMuaXNGb2N1c2VkID0gZnVuY3Rpb24gKCkgewogICAgICB2YXIgZWwgPSBkb2N1bWVudC5hY3RpdmVFbGVtZW50OwogICAgICByZXR1cm4gZWwgPT09IHRoaXMuc2VhcmNoSW5wdXQgfHwgZWwgPT09IHRoaXMucmVwbGFjZUlucHV0OwogICAgfTsKCiAgICBmdW5jdGlvbiBhZGRTdHlsZSgpIHsKICAgICAgdmFyIHN0eWxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3R5bGUnKSwKICAgICAgICAgIGNzcyA9IFsnLmFjZV9zZWFyY2ggeycsICdiYWNrZ3JvdW5kLWNvbG9yOiAjZGRkOycsICdib3JkZXI6IDFweCBzb2xpZCAjY2JjYmNiOycsICdib3JkZXItdG9wOiAwIG5vbmU7JywgJ21heC13aWR0aDogMzIwcHg7JywgJ292ZXJmbG93OiBoaWRkZW47JywgJ21hcmdpbjogMDsnLCAncGFkZGluZzogNHB4OycsICdwYWRkaW5nLXJpZ2h0OiA2cHg7JywgJ3BhZGRpbmctYm90dG9tOiAwOycsICdwb3NpdGlvbjogYWJzb2x1dGU7JywgJ3RvcDogMHB4OycsICd6LWluZGV4OiA5OTsnLCAnd2hpdGUtc3BhY2U6IG5vcm1hbDsnLCAnfScsICcuYWNlX3NlYXJjaC5sZWZ0IHsnLCAnYm9yZGVyLWxlZnQ6IDAgbm9uZTsnLCAnYm9yZGVyLXJhZGl1czogMHB4IDBweCA1cHggMHB4OycsICdsZWZ0OiAwOycsICd9JywgJy5hY2Vfc2VhcmNoLnJpZ2h0IHsnLCAnYm9yZGVyLXJhZGl1czogMHB4IDBweCAwcHggNXB4OycsICdib3JkZXItcmlnaHQ6IDAgbm9uZTsnLCAncmlnaHQ6IDA7JywgJ30nLCAnLmFjZV9zZWFyY2hfZm9ybSwgLmFjZV9yZXBsYWNlX2Zvcm0geycsICdkaXNwbGF5OiBpbmxpbmUtYmxvY2s7JywgJ3ZlcnRpY2FsLWFsaWduOiB0b3A7JywgJ2JvcmRlci1yYWRpdXM6IDNweDsnLCAnYm9yZGVyOiAxcHggc29saWQgI2NiY2JjYjsnLCAvLyAnZmxvYXQ6IGxlZnQ7JywKICAgICAgJ21hcmdpbi1ib3R0b206IDRweDsnLCAnb3ZlcmZsb3c6IGhpZGRlbjsnLCAnfScsICcuYWNlX3NlYXJjaF9mb3JtLmFjZV9ub21hdGNoIHsnLCAnb3V0bGluZTogMXB4IHNvbGlkIHJlZDsnLCAnfScsICcuYWNlX3NlYXJjaF9maWVsZCB7JywgJ2JhY2tncm91bmQtY29sb3I6IHdoaXRlOycsICdib3JkZXItcmlnaHQ6IDFweCBzb2xpZCAjY2JjYmNiOycsICdib3JkZXI6IDAgbm9uZTsnLCAnLXdlYmtpdC1ib3gtc2l6aW5nOiBib3JkZXItYm94OycsICctbW96LWJveC1zaXppbmc6IGJvcmRlci1ib3g7JywgJ2JveC1zaXppbmc6IGJvcmRlci1ib3g7JywgJ2Zsb2F0OiBsZWZ0OycsICdoZWlnaHQ6IDIycHg7JywgJ291dGxpbmU6IDA7JywgJ3BhZGRpbmc6IDAgN3B4OycsICd3aWR0aDogMjE3cHg7JywgJ21hcmdpbjogMDsnLCAnfScsIC8vICcuYWNlX3NlYXJjaF9maWVsZC5maW5kIHsnLAogICAgICAvLyAnd2lkdGg6IGNhbGMoMTAwJSAtIDYwcHgpOycsCiAgICAgIC8vICd9JywKICAgICAgJy5hY2Vfc2VhcmNoYnRuLCcsICcuYWNlX3JlcGxhY2VidG4geycsICdiYWNrZ3JvdW5kOiAjZmZmOycsICdib3JkZXI6IDAgbm9uZTsnLCAnYm9yZGVyLWxlZnQ6IDFweCBzb2xpZCAjZGNkY2RjOycsICdjdXJzb3I6IHBvaW50ZXI7JywgJ2Zsb2F0OiBsZWZ0OycsICdoZWlnaHQ6IDIycHg7JywgJ21hcmdpbjogMDsnLCAncGFkZGluZzogMDsnLCAncG9zaXRpb246IHJlbGF0aXZlOycsICd3aWR0aDogNjBweDsnLCAnfScsICcuYWNlX3NlYXJjaGJ0bjpsYXN0LWNoaWxkLCcsICcuYWNlX3JlcGxhY2VidG46bGFzdC1jaGlsZCB7JywgJ2JvcmRlci10b3AtcmlnaHQtcmFkaXVzOiAzcHg7JywgJ2JvcmRlci1ib3R0b20tcmlnaHQtcmFkaXVzOiAzcHg7JywgJ3dpZHRoOiAzMHB4OycsICd9JywgJy5hY2Vfc2VhcmNoYnRuOmRpc2FibGVkIHsnLCAnYmFja2dyb3VuZDogbm9uZTsnLCAnY3Vyc29yOiBkZWZhdWx0OycsICd9JywgJy5hY2Vfc2VhcmNoYnRuIHsnLCAnYmFja2dyb3VuZC1wb3NpdGlvbjogNTAlIDUwJTsnLCAnYmFja2dyb3VuZC1yZXBlYXQ6IG5vLXJlcGVhdDsnLCAnd2lkdGg6IDMwcHg7JywgJ30nLCAnLmFjZV9zZWFyY2hidG4ucHJldiB7JywgJ2JhY2tncm91bmQtaW1hZ2U6IHVybChkYXRhOmltYWdlL3BuZztiYXNlNjQsaVZCT1J3MEtHZ29BQUFBTlNVaEVVZ0FBQUFnQUFBQUZDQVlBQUFCNGthMVZBQUFBR1hSRldIUlRiMlowZDJGeVpRQkJaRzlpWlNCSmJXRm5aVkpsWVdSNWNjbGxQQUFBQURGSlJFRlVlTnBpU1UxTlpVQUMvNkUwSTB5QUNZc2tDcHNKaXlTS0lpWTBTVVprNDBGeVRFZ0NqR2dLd1RSQWdBRUFRSlVJUENFK3Fma0FBQUFBU1VWT1JLNUNZSUk9KTsgICAgJywgJ30nLCAnLmFjZV9zZWFyY2hidG4ubmV4dCB7JywgJ2JhY2tncm91bmQtaW1hZ2U6IHVybChkYXRhOmltYWdlL3BuZztiYXNlNjQsaVZCT1J3MEtHZ29BQUFBTlNVaEVVZ0FBQUFnQUFBQUZDQVlBQUFCNGthMVZBQUFBR1hSRldIUlRiMlowZDJGeVpRQkJaRzlpWlNCSmJXRm5aVkpsWVdSNWNjbGxQQUFBQURSSlJFRlVlTnBpVEUxTlpRQ0MvMERNeUlBS3dHSk1VQVlERW8zTS9zK0Vwdk0vbWtLd0NReFlqSWVMTWFFTG9MTUJBZ3dBVTdVSk9iVEtzdkFBQUFBQVNVVk9SSzVDWUlJPSk7ICAgICcsICd9JywgJy5hY2Vfc2VhcmNoYnRuX2Nsb3NlIHsnLCAnYmFja2dyb3VuZDogdXJsKGRhdGE6aW1hZ2UvcG5nO2Jhc2U2NCxpVkJPUncwS0dnb0FBQUFOU1VoRVVnQUFBQTRBQUFBY0NBWUFBQUJSVm81QkFBQUFaMGxFUVZSNDJ1MlNVUXJBTUFoRHZhem44T2paQmlsQ2tZVlZ4aWlzOEg0Q1QwVnJBSmI0V0hUM0M1eFUyYTJJUVpYSmppUUlSTWRrRW9KNVEyeU1xcGZESW8rWFk0azZoK1lYT3lLcVRJajVSRWF4bG9OQWQweGlLbUF0c1RIcVc4c1IyVzVmN2dDdTVuV0ZVcFZqWndBQUFBQkpSVTVFcmtKZ2dnPT0pIG5vLXJlcGVhdCA1MCUgMDsnLCAnYm9yZGVyLXJhZGl1czogNTAlOycsICdib3JkZXI6IDAgbm9uZTsnLCAnY29sb3I6ICM2NTY1NjU7JywgJ2N1cnNvcjogcG9pbnRlcjsnLCAnZmxvYXQ6IHJpZ2h0OycsICdmb250OiAxNnB4LzE2cHggQXJpYWw7JywgJ2hlaWdodDogMTRweDsnLCAnbWFyZ2luOiA1cHggMXB4IDlweCA1cHg7JywgJ3BhZGRpbmc6IDA7JywgJ3RleHQtYWxpZ246IGNlbnRlcjsnLCAnd2lkdGg6IDE0cHg7JywgJ30nLCAnLmFjZV9zZWFyY2hidG5fY2xvc2U6aG92ZXIgeycsICdiYWNrZ3JvdW5kLWNvbG9yOiAjNjU2NTY1OycsICdiYWNrZ3JvdW5kLXBvc2l0aW9uOiA1MCUgMTAwJTsnLCAnY29sb3I6IHdoaXRlOycsICd9JywgJy5hY2VfcmVwbGFjZWJ0bi5wcmV2IHsnLCAnd2lkdGg6IDU0cHgnLCAnfScsICcuYWNlX3JlcGxhY2VidG4ubmV4dCB7JywgJ3dpZHRoOiAyN3B4JywgJ30nLCAnLmFjZV9idXR0b24geycsICdtYXJnaW4tbGVmdDogMnB4OycsICdjdXJzb3I6IHBvaW50ZXI7JywgJy13ZWJraXQtdXNlci1zZWxlY3Q6IG5vbmU7JywgJy1tb3otdXNlci1zZWxlY3Q6IG5vbmU7JywgJy1vLXVzZXItc2VsZWN0OiBub25lOycsICctbXMtdXNlci1zZWxlY3Q6IG5vbmU7JywgJ3VzZXItc2VsZWN0OiBub25lOycsICdvdmVyZmxvdzogaGlkZGVuOycsICdvcGFjaXR5OiAwLjc7JywgJ2JvcmRlcjogMXB4IHNvbGlkIHJnYmEoMTAwLDEwMCwxMDAsMC4yMyk7JywgJ3BhZGRpbmc6IDFweDsnLCAnLW1vei1ib3gtc2l6aW5nOiBib3JkZXItYm94OycsICdib3gtc2l6aW5nOiAgICBib3JkZXItYm94OycsICdjb2xvcjogYmxhY2s7JywgJ30nLCAnLmFjZV9idXR0b246aG92ZXIgeycsICdiYWNrZ3JvdW5kLWNvbG9yOiAjZWVlOycsICdvcGFjaXR5OjE7JywgJ30nLCAnLmFjZV9idXR0b246YWN0aXZlIHsnLCAnYmFja2dyb3VuZC1jb2xvcjogI2RkZDsnLCAnfScsICcuYWNlX2J1dHRvbi5jaGVja2VkIHsnLCAnYm9yZGVyLWNvbG9yOiAjMzM5OWZmOycsICdvcGFjaXR5OjE7JywgJ30nLCAnLmFjZV9zZWFyY2hfb3B0aW9uc3snLCAnbWFyZ2luLWJvdHRvbTogM3B4OycsICd0ZXh0LWFsaWduOiByaWdodDsnLCAnLXdlYmtpdC11c2VyLXNlbGVjdDogbm9uZTsnLCAnLW1vei11c2VyLXNlbGVjdDogbm9uZTsnLCAnLW8tdXNlci1zZWxlY3Q6IG5vbmU7JywgJy1tcy11c2VyLXNlbGVjdDogbm9uZTsnLCAndXNlci1zZWxlY3Q6IG5vbmU7JywgJ30nXS5qb2luKCcnKTsKICAgICAgc3R5bGUuc2V0QXR0cmlidXRlKCdkYXRhLW5hbWUnLCAnanMtc2VhcmNoYm94Jyk7CiAgICAgIHN0eWxlLnRleHRDb250ZW50ID0gY3NzOwogICAgICBkb2N1bWVudC5oZWFkLmFwcGVuZENoaWxkKHN0eWxlKTsKICAgIH0KCiAgICBmdW5jdGlvbiBhZGRIdG1sKCkgewogICAgICB2YXIgZWxTZWFyY2gsCiAgICAgICAgICAvLyBlbCAgICAgID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLkNvZGVNaXJyb3InKSwKICAgICAgZWwgPSBjbS5nZXRXcmFwcGVyRWxlbWVudCgpLAogICAgICAgICAgZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2JyksCiAgICAgICAgICBodG1sID0gWyc8ZGl2IGNsYXNzPSJhY2Vfc2VhcmNoIHJpZ2h0Ij4nLCAnPGJ1dHRvbiB0eXBlPSJidXR0b24iIGFjdGlvbj0iaGlkZSIgY2xhc3M9ImFjZV9zZWFyY2hidG5fY2xvc2UiPjwvYnV0dG9uPicsICc8ZGl2IGNsYXNzPSJhY2Vfc2VhcmNoX2Zvcm0iPicsICc8aW5wdXQgY2xhc3M9ImFjZV9zZWFyY2hfZmllbGQgZmluZCIgcGxhY2Vob2xkZXI9IlNlYXJjaCBmb3IiIHNwZWxsY2hlY2s9ImZhbHNlIj48L2lucHV0PicsICc8YnV0dG9uIHR5cGU9ImJ1dHRvbiIgYWN0aW9uPSJmaW5kTmV4dCIgY2xhc3M9ImFjZV9zZWFyY2hidG4gbmV4dCI+PC9idXR0b24+JywgJzxidXR0b24gdHlwZT0iYnV0dG9uIiBhY3Rpb249ImZpbmRQcmV2IiBjbGFzcz0iYWNlX3NlYXJjaGJ0biBwcmV2Ij48L2J1dHRvbj4nLCAvLyAnPGJ1dHRvbiB0eXBlPSJidXR0b24iIGFjdGlvbj0iZmluZEFsbCIgY2xhc3M9ImFjZV9zZWFyY2hidG4iIHRpdGxlPSJBbHQtRW50ZXIiPkFsbDwvYnV0dG9uPicsCiAgICAgICc8L2Rpdj4nLCAnPGRpdiBjbGFzcz0iYWNlX3JlcGxhY2VfZm9ybSI+JywgJzxpbnB1dCBjbGFzcz0iYWNlX3NlYXJjaF9maWVsZCIgcGxhY2Vob2xkZXI9IlJlcGxhY2Ugd2l0aCIgc3BlbGxjaGVjaz0iZmFsc2UiPjwvaW5wdXQ+JywgJzxidXR0b24gdHlwZT0iYnV0dG9uIiBhY3Rpb249InJlcGxhY2VBbmRGaW5kTmV4dCIgY2xhc3M9ImFjZV9yZXBsYWNlYnRuIj5SZXBsYWNlPC9idXR0b24+JywgJzxidXR0b24gdHlwZT0iYnV0dG9uIiBhY3Rpb249InJlcGxhY2VBbGwiIGNsYXNzPSJhY2VfcmVwbGFjZWJ0biI+QWxsPC9idXR0b24+JywgJzwvZGl2PicsICc8ZGl2IGNsYXNzPSJhY2Vfc2VhcmNoX29wdGlvbnMiPicsICc8c3BhbiBjbGFzcz0iQ29kZU1pcnJvci1zZWFyY2gtY291bnQiPjwvc3Bhbj4nLCAnPHNwYW4gYWN0aW9uPSJ0b2dnbGVSZWdleHBNb2RlIiBjbGFzcz0iYWNlX2J1dHRvbiIgdGl0bGU9IlJlZ0V4cCBTZWFyY2giPi4qPC9zcGFuPicsICc8c3BhbiBhY3Rpb249InRvZ2dsZUNhc2VTZW5zaXRpdmUiIGNsYXNzPSJhY2VfYnV0dG9uIiB0aXRsZT0iQ2FzZVNlbnNpdGl2ZSBTZWFyY2giPkFhPC9zcGFuPicsICc8c3BhbiBhY3Rpb249InRvZ2dsZVdob2xlV29yZHMiIGNsYXNzPSJhY2VfYnV0dG9uIiB0aXRsZT0iV2hvbGUgV29yZCBTZWFyY2giPlxcYjwvc3Bhbj4nLCAnPC9kaXY+JywgJzwvZGl2PiddLmpvaW4oJycpOyAvLyBjb25zb2xlLmxvZyhlbCwgJ2VsJyk7CgogICAgICBkaXYuaW5uZXJIVE1MID0gaHRtbDsKICAgICAgZWxTZWFyY2ggPSBkaXYuZmlyc3RDaGlsZDsgLy8gZWwucGFyZW50RWxlbWVudC5hcHBlbmRDaGlsZChlbFNlYXJjaCk7CgogICAgICBlbC5hcHBlbmRDaGlsZChlbFNlYXJjaCk7CiAgICAgIHJldHVybiBlbFNlYXJjaDsKICAgIH0KICB9Cn0pOw=="},{"version":3,"names":["mod","exports","module","require","define","amd","CodeMirror","defineOption","cm","Search","addKeyMap","SearchBox","show","isVisible","Pass","hide","event","stopPropagation","setCssClass","el","className","condition","list","classList","delayedCall","fcn","defaultTimeout","timer","callback","_self","timeout","setTimeout","delay","clearTimeout","schedule","call","cancel","isPending","key","str","right","KEY","BACKSPACE","TAB","ENTER","ESC","SPACE","PAGE_UP","PAGE_DOWN","END","HOME","UP","DOWN","INSERT","DELETE","INSERT_MAC","ASTERISK","PLUS","MINUS","F1","F2","F3","F4","F5","F6","F7","F8","F9","F10","SLASH","TRA","BACKSLASH","keyCheck","split","some","combination","wrong","ctrlKey","shiftKey","altKey","metaKey","length","keyCode","charCodeAt","Object","keys","name","up","toUpperCase","Error","SearchState","posFrom","posTo","lastQuery","query","overlay","queryCaseInsensitive","toLowerCase","getSearchState","state","search","RegExpCommon","o","caseInsensitive","val","wholeWord","regExp","replace","RegExp","searchOverlay","value","global","source","ignoreCase","token","stream","lastIndex","pos","match","exec","string","index","skipToEnd","getSearchCursor","options","self","init","initElements","searchBox","querySelector","replaceBox","searchOptions","regExpOption","caseSensitiveOption","wholeWordOption","searchInput","replaceInput","element","addHtml","addStyle","bindKeys","addEventListener","e","activeInput","focus","t","target","srcElement","action","getAttribute","commands","$onChange","find","obj","isReplace","style","display","findNext","findPrev","replaceAll","findAll","is","preventDefault","toggleRegexpMode","checked","$syncOptions","toggleCaseSensitive","toggleWholeWords","resetCount","getWrapperElement","parentNode","innerHTML","updateCount","getDoc","getValue","globalQuery","queryText","matches","count","countText","skipCurrent","backwards","caseSensitive","searchCursor","current","from","setSelection","to","done","noMatch","next","prev","cursor","position","getCursor","caseFold","multiline","bind","findPrevious","setCursor","doc","size","activeFun","removeOverlay","addOverlay","range","showMatchesOnScrollbar","readOnly","getOption","isSelection","getSelection","replaceSelection","replaceAndFindNext","reg","setValue","select","isFocused","document","activeElement","createElement","css","join","setAttribute","textContent","head","appendChild","elSearch","div","html","firstChild"],"sources":["/Users/wangjunxia/work-github/dj-design/packages/json/src/search.js"],"sourcesContent":["/* global CodeMirror */\n/* global define */\n\n(function(mod) {\n\n\n  if (typeof exports === 'object' && typeof module === 'object') // CommonJS\n    mod(require('codemirror'));\n  else if (typeof define === 'function' && define.amd) // AMD\n    define(['codemirror'], mod);\n  else\n    mod(CodeMirror);\n})(function(CodeMirror) {\n\n\n  CodeMirror.defineOption('searchbox', false, function(cm) {\n    var Search;\n    // console.log('Search', Search);\n    // console.log(cm, cm.getWrapperElement(), 'cm');\n    cm.addKeyMap({\n      'Cmd-Alt-F': function() {\n        if (!Search) {\n          // eslint-disable-next-line no-use-before-define\n          Search = new SearchBox(cm);\n        }\n        Search.show(null, true);\n      },\n      'Ctrl-F': function() {\n        // if (!Search)\n        // eslint-disable-next-line no-use-before-define\n        Search = new SearchBox(cm);\n\n        Search.show();\n      },\n\n      'Esc': function() {\n        if (!Search || !Search.isVisible())\n          return CodeMirror.Pass;\n\n        Search.hide();\n\n        if (typeof event !== 'undefined')\n          event.stopPropagation();\n      },\n\n      'Cmd-F': function() {\n        if (!Search)\n          // eslint-disable-next-line no-use-before-define\n          Search = new SearchBox(cm);\n\n        Search.show();\n      }\n    });\n  });\n\n  function setCssClass(el, className, condition) {\n    var list = el.classList;\n\n    list[condition ? 'add' : 'remove'](className);\n  }\n\n  function delayedCall(fcn, defaultTimeout) {\n    var timer,\n      callback = function() {\n        timer = null;\n        fcn();\n      },\n\n      _self = function(timeout) {\n        if (!timer)\n          timer = setTimeout(callback, timeout || defaultTimeout);\n      };\n\n    _self.delay = function(timeout) {\n      timer && clearTimeout(timer);\n      timer = setTimeout(callback, timeout || defaultTimeout);\n    };\n    _self.schedule = _self;\n\n    _self.call = function() {\n      this.cancel();\n      fcn();\n    };\n\n    _self.cancel = function() {\n      timer && clearTimeout(timer);\n      timer = null;\n    };\n\n    _self.isPending = function() {\n      return timer;\n    };\n\n    return _self;\n  }\n\n  /* https://github.com/coderaiser/key */\n  function key(str, event) {\n    var right,\n      KEY = {\n        BACKSPACE: 8,\n        TAB: 9,\n        ENTER: 13,\n        ESC: 27,\n\n        SPACE: 32,\n        PAGE_UP: 33,\n        PAGE_DOWN: 34,\n        END: 35,\n        HOME: 36,\n        UP: 38,\n        DOWN: 40,\n\n        INSERT: 45,\n        DELETE: 46,\n\n        INSERT_MAC: 96,\n\n        ASTERISK: 106,\n        PLUS: 107,\n        MINUS: 109,\n\n        F1: 112,\n        F2: 113,\n        F3: 114,\n        F4: 115,\n        F5: 116,\n        F6: 117,\n        F7: 118,\n        F8: 119,\n        F9: 120,\n        F10: 121,\n\n        SLASH: 191,\n        TRA: 192, /* Typewritten Reverse Apostrophe (`) */\n        BACKSLASH: 220\n      };\n\n    // eslint-disable-next-line no-use-before-define\n    keyCheck(str, event);\n\n    right = str.split('|').some(function(combination) {\n      var wrong;\n\n      wrong = combination.split('-').some(function(key) {\n        var right;\n\n        switch (key) {\n          case 'Ctrl':\n            right = event.ctrlKey;\n            break;\n\n          case 'Shift':\n            right = event.shiftKey;\n            break;\n\n          case 'Alt':\n            right = event.altKey;\n            break;\n\n          case 'Cmd':\n            right = event.metaKey;\n            break;\n\n          default:\n            if (key.length === 1)\n              right = event.keyCode === key.charCodeAt(0);\n            else\n              Object.keys(KEY).some(function(name) {\n                var up = key.toUpperCase();\n\n                if (up === name)\n                  right = event.keyCode === KEY[name];\n              });\n            break;\n        }\n\n        return !right;\n      });\n\n      return !wrong;\n    });\n\n    return right;\n  }\n\n  function keyCheck(str, event) {\n    if (typeof str !== 'string')\n      throw Error('str should be string!');\n\n    if (typeof event !== 'object')\n      throw Error('event should be object!');\n  }\n  // ============\n\n  function SearchState() {\n    this.posFrom = this.posTo = this.lastQuery = this.query = null;\n    this.overlay = null;\n  }\n\n  function queryCaseInsensitive(query) {\n    return typeof query == 'string' && query == query.toLowerCase();\n  }\n\n  function getSearchState(cm) {\n    return cm.state.search || (cm.state.search = new SearchState());\n  }\n\n  function RegExpCommon(o, query, caseInsensitive) {\n    let val;\n    if (o.wholeWord && !o.regExp) {\n      val = '\\\\b' + query.replace(/[\\-\\[\\]\\/\\{\\}\\(\\)\\*\\+\\?\\.\\\\\\^\\$\\|]/g, '\\\\$&') + '\\\\b';\n    } else if (o.regExp) {\n      // if (!o.caseSensitive) {\n      //   val = query?.toLowerCase();\n      // } else {\n      val = query;\n      // }\n      // val = '\\\\b' + val.replace(/[\\-\\[\\]\\/\\{\\}\\(\\)\\*\\+\\?\\.\\\\\\^\\$\\|]/g, \"\\\\$&\") + '\\\\b'\n    } else {\n      val = query.replace(/[\\-\\[\\]\\/\\{\\}\\(\\)\\*\\+\\?\\.\\\\\\^\\$\\|]/g, '\\\\$&');\n    }\n    return new RegExp(val, caseInsensitive ? 'gi' : 'g');\n  }\n\n  function searchOverlay(query, caseInsensitive, o) {\n    // eslint-disable-next-line no-unused-vars\n    let value = query;\n    // console.log(query, query.replace(/[\\-\\[\\]\\/\\{\\}\\(\\)\\*\\+\\?\\.\\\\\\^\\$\\|]/g, '\\\\$&'), 'searchOverlay', '\\\\b' + query + '\\\\b');\n    if (typeof query == 'string') {\n      /* let val;\n      if (o.wholeWord && !o.regExp) {\n        val = '\\\\b' + query.replace(/[\\-\\[\\]\\/\\{\\}\\(\\)\\*\\+\\?\\.\\\\\\^\\$\\|]/g, \"\\\\$&\") + '\\\\b'\n      } else if (o.regExp) {\n        // if (!o.caseSensitive) {\n        //   val = query?.toLowerCase();\n        // } else {\n          val = query;\n        // }\n        // val = '\\\\b' + val.replace(/[\\-\\[\\]\\/\\{\\}\\(\\)\\*\\+\\?\\.\\\\\\^\\$\\|]/g, \"\\\\$&\") + '\\\\b'\n      } else {\n        val = query.replace(/[\\-\\[\\]\\/\\{\\}\\(\\)\\*\\+\\?\\.\\\\\\^\\$\\|]/g, \"\\\\$&\");\n      }\n      query = new RegExp(val, caseInsensitive ? \"gi\" : \"g\");*/\n      // eslint-disable-next-line new-cap\n      query = RegExpCommon(o, query, caseInsensitive);\n    } else if (!query.global) {\n      query = new RegExp(query.source, query.ignoreCase ? 'gi' : 'g');\n    }\n    // console.log(o, value, query, value.match(query), '匹配');\n    return {\n      token: function(stream) {\n        query.lastIndex = stream.pos;\n        var match = query.exec(stream.string);\n        // console.log(match,stream,query,'stream')\n        if (match && match.index == stream.pos) {\n          stream.pos += match[0].length || 1;\n          return 'searching';\n        } else if (match) {\n          stream.pos = match.index;\n        } else {\n          stream.skipToEnd();\n        }\n      }\n    };\n  }\n\n  function getSearchCursor(cm, query, pos, options) {\n    // Heuristic: if the query string is all lowercase, do a case insensitive search.\n    // console.log(query, pos, 'getSearchCursor');\n    return cm.getSearchCursor(query, pos, options);\n  }\n\n  // ============\n  function SearchBox(cm) {\n    var self = this;\n\n    // eslint-disable-next-line no-use-before-define\n    init();\n\n    function initElements(el) {\n      self.searchBox = el.querySelector('.ace_search_form');\n      self.replaceBox = el.querySelector('.ace_replace_form');\n      self.searchOptions = el.querySelector('.ace_search_options');\n\n      self.regExpOption = el.querySelector('[action=toggleRegexpMode]');\n      self.caseSensitiveOption = el.querySelector('[action=toggleCaseSensitive]');\n      self.wholeWordOption = el.querySelector('[action=toggleWholeWords]');\n\n      self.searchInput = self.searchBox.querySelector('.ace_search_field');\n      self.replaceInput = self.replaceBox.querySelector('.ace_search_field');\n    }\n\n    function init() {\n      // eslint-disable-next-line no-use-before-define\n      var el = self.element = addHtml();\n      // eslint-disable-next-line no-use-before-define\n      addStyle();\n      initElements(el);\n      // eslint-disable-next-line no-use-before-define\n      bindKeys();\n\n      el.addEventListener('mousedown', function(e) {\n        setTimeout(function() {\n          self.activeInput.focus();\n        }, 0);\n\n        e.stopPropagation();\n      });\n\n      el.addEventListener('click', function(e) {\n        var t = e.target || e.srcElement;\n        var action = t.getAttribute('action');\n        if (action && self[action])\n          self[action]();\n        else if (self.commands[action])\n          self.commands[action]();\n\n        e.stopPropagation();\n      });\n\n      self.searchInput.addEventListener('input', function() {\n        self.$onChange.schedule(20);\n      });\n\n      self.searchInput.addEventListener('focus', function() {\n        self.activeInput = self.searchInput;\n      });\n\n      self.replaceInput.addEventListener('focus', function() {\n        self.activeInput = self.replaceInput;\n      });\n\n      // eslint-disable-next-line no-use-before-define\n      self.$onChange = delayedCall(function() {\n        self.find(false, false);\n      });\n    }\n\n    function bindKeys() {\n      var obj = {\n        'Ctrl-F|Cmd-F|Ctrl-H|Command-Alt-F': function() {\n          var isReplace = self.isReplace = !self.isReplace;\n          self.replaceBox.style.display = isReplace ? '' : 'none';\n          self[isReplace ? 'replaceInput' : 'searchInput'].focus();\n        },\n        'Ctrl-G|Cmd-G': function() {\n          self.findNext();\n        },\n        'Ctrl-Shift-G|Cmd-Shift-G': function() {\n          self.findPrev();\n        },\n        'Esc': function() {\n          setTimeout(function() {\n            self.hide();\n          });\n        },\n        'Enter': function() {\n          if (self.activeInput === self.replaceInput)\n            self.replace();\n          self.findNext();\n        },\n        'Shift-Enter': function() {\n          if (self.activeInput === self.replaceInput)\n            self.replace();\n          self.findPrev();\n        },\n        'Alt-Enter': function() {\n          if (self.activeInput === self.replaceInput)\n            self.replaceAll();\n          self.findAll();\n        },\n        'Tab': function() {\n          if (self.activeInput === self.replaceInput)\n            self.searchInput.focus();\n          else\n            self.replaceInput.focus();\n        }\n      };\n\n      self.element.addEventListener('keydown', function(event) {\n        Object.keys(obj).some(function(name) {\n          // eslint-disable-next-line no-use-before-define\n          var is = key(name, event);\n\n          if (is) {\n            event.stopPropagation();\n            event.preventDefault();\n            obj[name](event);\n          }\n\n          return is;\n        });\n      });\n    }\n\n    this.commands = {\n      toggleRegexpMode: function() {\n        self.regExpOption.checked = !self.regExpOption.checked;\n        self.$syncOptions();\n      },\n\n      toggleCaseSensitive: function() {\n        self.caseSensitiveOption.checked = !self.caseSensitiveOption.checked;\n        self.$syncOptions();\n      },\n\n      toggleWholeWords: function() {\n        self.wholeWordOption.checked = !self.wholeWordOption.checked;\n        self.$syncOptions();\n      }\n    };\n\n    function resetCount(cm) {\n      cm.getWrapperElement().parentNode.querySelector('.CodeMirror-search-count').innerHTML = '';\n    }\n\n    function updateCount(cm, o, query, caseInsensitive) {\n      // eslint-disable-next-line no-unused-vars\n      let state = getSearchState(cm);\n      let value = cm.getDoc().getValue();\n      let globalQuery;\n      let queryText = self.searchInput.value;\n      if (!queryText || queryText === '') {\n        resetCount(cm);\n        return;\n      }\n      /* while (queryText.charAt(queryText.length - 1) === '\\\\') {\n        queryText = queryText.substring(0, queryText.lastIndexOf('\\\\'));\n      }\n\n      if (typeof state.query === 'string') {\n        globalQuery = new RegExp(queryText, 'ig');\n      } else {\n        globalQuery = new RegExp(state.query.source, state.query.flags + 'g');\n      }*/\n      // eslint-disable-next-line new-cap\n      globalQuery = RegExpCommon(o, query, caseInsensitive);\n      let matches = value.match(globalQuery);\n      let count = matches ? matches.length : 0;\n\n      let countText = count === 1 ? '1 match' : count + ' matches';\n      // console.log(matches, count, 'count');\n      cm.getWrapperElement().parentNode.querySelector('.CodeMirror-search-count').innerHTML = countText;\n    }\n\n    this.$syncOptions = function() {\n      // eslint-disable-next-line no-use-before-define\n      setCssClass(this.regExpOption, 'checked', this.regExpOption.checked);\n      setCssClass(this.wholeWordOption, 'checked', this.wholeWordOption.checked);\n      setCssClass(this.caseSensitiveOption, 'checked', this.caseSensitiveOption.checked);\n\n      this.find(false, false);\n    };\n\n    this.find = function(skipCurrent, backwards) {\n      var value = this.searchInput.value,\n        options = {\n          skipCurrent: skipCurrent,\n          backwards: backwards,\n          regExp: this.regExpOption.checked,\n          caseSensitive: this.caseSensitiveOption.checked,\n          wholeWord: this.wholeWordOption.checked\n        };\n\n      // eslint-disable-next-line no-use-before-define\n      find(value, options, function(searchCursor) {\n        // console.log(value, 'find111');\n        var current = searchCursor.matches(false, searchCursor.from());\n        // console.log(value, options,current,searchCursor,'current')\n        cm.setSelection(current.from, current.to);\n      });\n    };\n\n    function find(value, options, callback) {\n      // console.log('find222');\n      var done,\n        // eslint-disable-next-line no-unused-vars\n        noMatch, searchCursor, next, prev, matches, cursor,\n        position,\n        val = value,\n        o = options,\n        is = true,\n        caseSensitive = o.caseSensitive,\n        // eslint-disable-next-line no-unused-vars\n        regExp = o.regExp,\n        // eslint-disable-next-line no-unused-vars\n        wholeWord = o.wholeWord;\n\n      /* if (regExp || wholeWord) {\n        if (options.wholeWord) {\n          val = '\\\\b' + val + '\\\\b';\n        }\n        val = RegExp(val);\n      }*/\n      /* if (regExp) {\n        if (!o.caseSensitive) {\n          val = RegExp(val?.toLowerCase());\n        } else {\n          val = RegExp(val);\n        }\n      }*/\n\n      // eslint-disable-next-line new-cap\n      val = RegExpCommon(o, value, !caseSensitive);\n\n      if (o.backwards)\n        position = o.skipCurrent ? 'from' : 'to';\n      else\n        position = o.skipCurrent ? 'to' : 'from';\n\n      cursor = cm.getCursor(position);\n      // searchCursor    = cm.getSearchCursor(val, cursor, !caseSensitive);\n      // searchCursor    = cm.getSearchCursor(value, cursor, {caseFold: queryCaseInsensitive(val), multiline: true});\n      searchCursor = getSearchCursor(cm, val, cursor, {caseFold: !caseSensitive, multiline: true});\n\n      next = searchCursor.findNext.bind(searchCursor),\n      prev = searchCursor.findPrevious.bind(searchCursor),\n      matches = searchCursor.matches.bind(searchCursor);\n\n      // console.log('cursor', o, value, val, cursor, position, searchCursor);\n      // console.log('ooooo',o,prev(),next(),o.backwards)\n      // console.log('next()',searchCursor.findNext)\n      // console.log('prev()',searchCursor.findPrevious);\n      // console.log('111',o.backwards && !prev());\n      // console.log('222',!o.backwards && !next());\n\n      if (o.backwards && !prev()) {\n        // eslint-disable-next-line callback-return\n        is = next();\n        // console.log('111111-------');\n        if (is) {\n          cm.setCursor(cm.doc.size - 1, 0);\n          find(value, options, callback);\n          done = true;\n          // console.log('22222-------');\n        }\n      // eslint-disable-next-line callback-return\n      } else if (!o.backwards && !next()) {\n        is = prev();\n        // console.log('33333-------', is);\n        if (is) {\n          // console.log('44444-------');\n          cm.setCursor(0, 0);\n          find(value, options, callback);\n          done = true;\n        }\n      }\n\n      noMatch = !is && self.searchInput.value;\n      // console.log(self.searchInput, val, 'self.searchInput.value');\n      setCssClass(self.searchBox, 'ace_nomatch', noMatch);\n      // cm.setSelection(searchCursor.from(), searchCursor.to());\n      // eslint-disable-next-line no-use-before-define\n      activeFun(cm, value, o);\n      updateCount(cm, o, value, !caseSensitive);\n\n      if (!done && is) {\n        // console.log('55555-------', searchCursor.from(), searchCursor.to());\n        // eslint-disable-next-line callback-return\n        callback(searchCursor);\n\n      }\n    }\n\n    function activeFun(cm, value, o) {\n      let state = getSearchState(cm);\n      // console.log(state, value, 'activeFun');\n      cm.removeOverlay(state.overlay, queryCaseInsensitive(value));\n      if (!value) {\n        return;\n      }\n      state.overlay = searchOverlay(value, !o.caseSensitive, o);\n      cm.addOverlay(state.overlay);\n      // console.log(state.overlay, 'state.overlay');\n      // if (cm.showMatchesOnScrollbar) {\n      //   if (state.annotate) { state.annotate.clear(); state.annotate = null; }\n      //   state.annotate = cm.showMatchesOnScrollbar(searchCursor, queryCaseInsensitive(searchCursor));\n      // }\n    }\n\n    this.findNext = function() {\n      // console.log('findNext');\n      this.find(true, false);\n    };\n\n    this.findPrev = function() {\n      this.find(true, true);\n    };\n\n    this.findAll = function() {\n      /*\n      var range = this.editor.findAll(this.searchInput.value, {\n          regExp: this.regExpOption.checked,\n          caseSensitive: this.caseSensitiveOption.checked,\n          wholeWord: this.wholeWordOption.checked\n      });\n      */\n\n      var value = this.searchInput.value,\n        range,\n        noMatch = !range && this.searchInput.value;\n\n      setCssClass(this.searchBox, 'ace_nomatch', noMatch);\n\n      if (cm.showMatchesOnScrollbar)\n        cm.showMatchesOnScrollbar(value);\n\n      this.hide();\n    };\n\n    this.replace = function() {\n      var readOnly = cm.getOption('readOnly'),\n        isSelection = !!cm.getSelection();\n\n      if (!readOnly && isSelection)\n        cm.replaceSelection(this.replaceInput.value, 'start');\n    };\n\n    this.replaceAndFindNext = function() {\n      var readOnly = cm.getOption('readOnly');\n\n      if (!readOnly) {\n        this.replace();\n        this.findNext();\n      }\n    };\n\n    this.replaceAll = function() {\n      var value,\n        cursor,\n        from = this.searchInput.value,\n        to = this.replaceInput.value,\n        reg = RegExp(from, 'g');\n\n      if (!cm.getOption('readOnly')) {\n        cursor = cm.getCursor();\n        value = cm.getValue();\n        value = value.replace(reg, to);\n\n        cm.setValue(value);\n        cm.setCursor(cursor);\n      }\n    };\n\n    this.hide = function() {\n      this.element.style.display = 'none';\n      cm.focus();\n    };\n\n    this.isVisible = function() {\n      var is = this.element.style.display === '';\n\n      return is;\n    };\n\n    this.show = function(value, isReplace) {\n      this.element.style.display = '';\n      this.replaceBox.style.display = isReplace ? '' : 'none';\n\n      this.isReplace = isReplace;\n\n      if (value)\n        this.searchInput.value = value;\n\n      this.searchInput.focus();\n      this.searchInput.select();\n    };\n\n    this.isFocused = function() {\n      var el = document.activeElement;\n      return el === this.searchInput || el === this.replaceInput;\n    };\n\n    function addStyle() {\n      var style = document.createElement('style'),\n        css = [\n          '.ace_search {',\n          'background-color: #ddd;',\n          'border: 1px solid #cbcbcb;',\n          'border-top: 0 none;',\n          'max-width: 320px;',\n          'overflow: hidden;',\n          'margin: 0;',\n          'padding: 4px;',\n          'padding-right: 6px;',\n          'padding-bottom: 0;',\n          'position: absolute;',\n          'top: 0px;',\n          'z-index: 99;',\n          'white-space: normal;',\n          '}',\n          '.ace_search.left {',\n          'border-left: 0 none;',\n          'border-radius: 0px 0px 5px 0px;',\n          'left: 0;',\n          '}',\n          '.ace_search.right {',\n          'border-radius: 0px 0px 0px 5px;',\n          'border-right: 0 none;',\n          'right: 0;',\n          '}',\n          '.ace_search_form, .ace_replace_form {',\n          'display: inline-block;',\n          'vertical-align: top;',\n          'border-radius: 3px;',\n          'border: 1px solid #cbcbcb;',\n          // 'float: left;',\n          'margin-bottom: 4px;',\n          'overflow: hidden;',\n          '}',\n          '.ace_search_form.ace_nomatch {',\n          'outline: 1px solid red;',\n          '}',\n          '.ace_search_field {',\n          'background-color: white;',\n          'border-right: 1px solid #cbcbcb;',\n          'border: 0 none;',\n          '-webkit-box-sizing: border-box;',\n          '-moz-box-sizing: border-box;',\n          'box-sizing: border-box;',\n          'float: left;',\n          'height: 22px;',\n          'outline: 0;',\n          'padding: 0 7px;',\n          'width: 217px;',\n          'margin: 0;',\n          '}',\n          // '.ace_search_field.find {',\n          // 'width: calc(100% - 60px);',\n          // '}',\n          '.ace_searchbtn,',\n          '.ace_replacebtn {',\n          'background: #fff;',\n          'border: 0 none;',\n          'border-left: 1px solid #dcdcdc;',\n          'cursor: pointer;',\n          'float: left;',\n          'height: 22px;',\n          'margin: 0;',\n          'padding: 0;',\n          'position: relative;',\n          'width: 60px;',\n          '}',\n          '.ace_searchbtn:last-child,',\n          '.ace_replacebtn:last-child {',\n          'border-top-right-radius: 3px;',\n          'border-bottom-right-radius: 3px;',\n          'width: 30px;',\n          '}',\n          '.ace_searchbtn:disabled {',\n          'background: none;',\n          'cursor: default;',\n          '}',\n          '.ace_searchbtn {',\n          'background-position: 50% 50%;',\n          'background-repeat: no-repeat;',\n          'width: 30px;',\n          '}',\n          '.ace_searchbtn.prev {',\n          'background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAFCAYAAAB4ka1VAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAADFJREFUeNpiSU1NZUAC/6E0I0yACYskCpsJiySKIiY0SUZk40FyTEgCjGgKwTRAgAEAQJUIPCE+qfkAAAAASUVORK5CYII=);    ',\n          '}',\n          '.ace_searchbtn.next {',\n          'background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAFCAYAAAB4ka1VAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAADRJREFUeNpiTE1NZQCC/0DMyIAKwGJMUAYDEo3M/s+EpvM/mkKwCQxYjIeLMaELoLMBAgwAU7UJObTKsvAAAAAASUVORK5CYII=);    ',\n          '}',\n          '.ace_searchbtn_close {',\n          'background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA4AAAAcCAYAAABRVo5BAAAAZ0lEQVR42u2SUQrAMAhDvazn8OjZBilCkYVVxiis8H4CT0VrAJb4WHT3C5xU2a2IQZXJjiQIRMdkEoJ5Q2yMqpfDIo+XY4k6h+YXOyKqTIj5REaxloNAd0xiKmAtsTHqW8sR2W5f7gCu5nWFUpVjZwAAAABJRU5ErkJggg==) no-repeat 50% 0;',\n          'border-radius: 50%;',\n          'border: 0 none;',\n          'color: #656565;',\n          'cursor: pointer;',\n          'float: right;',\n          'font: 16px/16px Arial;',\n          'height: 14px;',\n          'margin: 5px 1px 9px 5px;',\n          'padding: 0;',\n          'text-align: center;',\n          'width: 14px;',\n          '}',\n          '.ace_searchbtn_close:hover {',\n          'background-color: #656565;',\n          'background-position: 50% 100%;',\n          'color: white;',\n          '}',\n          '.ace_replacebtn.prev {',\n          'width: 54px',\n          '}',\n          '.ace_replacebtn.next {',\n          'width: 27px',\n          '}',\n          '.ace_button {',\n          'margin-left: 2px;',\n          'cursor: pointer;',\n          '-webkit-user-select: none;',\n          '-moz-user-select: none;',\n          '-o-user-select: none;',\n          '-ms-user-select: none;',\n          'user-select: none;',\n          'overflow: hidden;',\n          'opacity: 0.7;',\n          'border: 1px solid rgba(100,100,100,0.23);',\n          'padding: 1px;',\n          '-moz-box-sizing: border-box;',\n          'box-sizing:    border-box;',\n          'color: black;',\n          '}',\n          '.ace_button:hover {',\n          'background-color: #eee;',\n          'opacity:1;',\n          '}',\n          '.ace_button:active {',\n          'background-color: #ddd;',\n          '}',\n          '.ace_button.checked {',\n          'border-color: #3399ff;',\n          'opacity:1;',\n          '}',\n          '.ace_search_options{',\n          'margin-bottom: 3px;',\n          'text-align: right;',\n          '-webkit-user-select: none;',\n          '-moz-user-select: none;',\n          '-o-user-select: none;',\n          '-ms-user-select: none;',\n          'user-select: none;',\n          '}'\n        ].join('');\n\n      style.setAttribute('data-name', 'js-searchbox');\n\n      style.textContent = css;\n\n      document.head.appendChild(style);\n    }\n\n    function addHtml() {\n      var elSearch,\n        // el      = document.querySelector('.CodeMirror'),\n        el = cm.getWrapperElement(),\n        div = document.createElement('div'),\n        html = [\n          '<div class=\"ace_search right\">',\n          '<button type=\"button\" action=\"hide\" class=\"ace_searchbtn_close\"></button>',\n          '<div class=\"ace_search_form\">',\n          '<input class=\"ace_search_field find\" placeholder=\"Search for\" spellcheck=\"false\"></input>',\n          '<button type=\"button\" action=\"findNext\" class=\"ace_searchbtn next\"></button>',\n          '<button type=\"button\" action=\"findPrev\" class=\"ace_searchbtn prev\"></button>',\n          // '<button type=\"button\" action=\"findAll\" class=\"ace_searchbtn\" title=\"Alt-Enter\">All</button>',\n          '</div>',\n          '<div class=\"ace_replace_form\">',\n          '<input class=\"ace_search_field\" placeholder=\"Replace with\" spellcheck=\"false\"></input>',\n          '<button type=\"button\" action=\"replaceAndFindNext\" class=\"ace_replacebtn\">Replace</button>',\n          '<button type=\"button\" action=\"replaceAll\" class=\"ace_replacebtn\">All</button>',\n          '</div>',\n          '<div class=\"ace_search_options\">',\n          '<span class=\"CodeMirror-search-count\"></span>',\n          '<span action=\"toggleRegexpMode\" class=\"ace_button\" title=\"RegExp Search\">.*</span>',\n          '<span action=\"toggleCaseSensitive\" class=\"ace_button\" title=\"CaseSensitive Search\">Aa</span>',\n          '<span action=\"toggleWholeWords\" class=\"ace_button\" title=\"Whole Word Search\">\\\\b</span>',\n          '</div>',\n          '</div>'\n        ].join('');\n\n      // console.log(el, 'el');\n      div.innerHTML = html;\n\n      elSearch = div.firstChild;\n\n      // el.parentElement.appendChild(elSearch);\n      el.appendChild(elSearch);\n\n      return elSearch;\n    }\n  }\n\n\n});\n"],"mappings":"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"}]}