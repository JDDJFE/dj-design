{"remainingRequest":"/Users/wangjunxia/work-github/dj-design/node_modules/babel-loader/lib/index.js!/Users/wangjunxia/work-github/dj-design/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/wangjunxia/work-github/dj-design/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/wangjunxia/work-github/dj-design/packages/checkbox/src/checkbox.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/wangjunxia/work-github/dj-design/packages/checkbox/src/checkbox.vue","mtime":1673509764304},{"path":"/Users/wangjunxia/work-github/dj-design/babel.config.js","mtime":1660011372032},{"path":"/Users/wangjunxia/work-github/dj-design/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/wangjunxia/work-github/dj-design/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/wangjunxia/work-github/dj-design/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/wangjunxia/work-github/dj-design/node_modules/vue-loader/lib/index.js","mtime":1655715099000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkucmVkdWNlLmpzIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IEVtaXR0ZXIgZnJvbSAnQC9taXhpbnMvZW1pdHRlcic7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnZGpDaGVja2JveCcsCiAgY29tcG9uZW50TmFtZTogJ2RqQ2hlY2tib3gnLAogIHByb3BzOiB7CiAgICBidXR0b246IHsKICAgICAgdHlwZTogQm9vbGVhbiwKICAgICAgZGVmYXVsdDogZmFsc2UKICAgIH0sCiAgICBidXR0b25TdHlsZTogewogICAgICB0eXBlOiBTdHJpbmcsCiAgICAgIGRlZmF1bHQ6ICdzb2xpZCcKICAgIH0sCiAgICB2YWx1ZToge30sCiAgICBjb2RlOiB7fSwKICAgIGluZGV0ZXJtaW5hdGU6IEJvb2xlYW4sCiAgICBkaXNhYmxlZDogQm9vbGVhbiwKICAgIGNoZWNrZWQ6IFtCb29sZWFuXSwKICAgIG5hbWU6IFN0cmluZywKICAgIGJvcmRlcjogewogICAgICB0eXBlOiBCb29sZWFuLAogICAgICBkZWZhdWx0OiBmYWxzZQogICAgfSwKICAgIHNpemU6IHsKICAgICAgdHlwZTogU3RyaW5nCiAgICB9CiAgfSwKICBtaXhpbnM6IFtFbWl0dGVyXSwKCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHNlbGZNb2RlbDogZmFsc2UsCiAgICAgIGNvZGVzOiBbXQogICAgfTsKICB9LAoKICBjb21wdXRlZDogewogICAgcmFkaW9TaXplKCkgewogICAgICByZXR1cm4gdGhpcy4kcGFyZW50LnNpemUgfHwgdGhpcy5zaXplOwogICAgfSwKCiAgICBtb2RlbDogewogICAgICBnZXQoKSB7CiAgICAgICAgcmV0dXJuIHRoaXMuaXNHcm91cCA/IHRoaXMuaXNHcm91cC52YWx1ZSA6IHRoaXMudmFsdWUgIT09IHZvaWQgMCA/IHRoaXMudmFsdWUgOiB0aGlzLnNlbGZNb2RlbDsKICAgICAgfSwKCiAgICAgIHNldCh2YWwpIHsKICAgICAgICBpZiAodGhpcy5pc0dyb3VwKSB7CiAgICAgICAgICB0aGlzLmRpc3BhdGNoKCdkakNoZWNrYm94R3JvdXAnLCAnaW5wdXQnLCBbdmFsXSk7CiAgICAgICAgICB0aGlzLmNvZGVzID0gdGhpcy5pc0dyb3VwLiRjaGlsZHJlbi5yZWR1Y2UoKHIsIGUsIGkpID0+IHsKICAgICAgICAgICAgaWYgKHZhbC5pbmNsdWRlcyhlLmNvZGUpICYmIGUuJHNsb3RzLmRlZmF1bHQpIHsKICAgICAgICAgICAgICByLnB1c2goZS4kc2xvdHMuZGVmYXVsdFswXS50ZXh0KTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgcmV0dXJuIHI7CiAgICAgICAgICB9LCBbXSk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHRoaXMuJGVtaXQoJ2lucHV0JywgdmFsKTsKICAgICAgICAgIHRoaXMuc2VsZk1vZGVsID0gdmFsOwogICAgICAgIH0KICAgICAgfQoKICAgIH0sCgogICAgaXNDaGVja2VkKCkgewogICAgICBpZiAoe30udG9TdHJpbmcuY2FsbCh0aGlzLm1vZGVsKSA9PT0gJ1tvYmplY3QgQm9vbGVhbl0nKSB7CiAgICAgICAgcmV0dXJuIHRoaXMubW9kZWw7CiAgICAgIH0gZWxzZSBpZiAoQXJyYXkuaXNBcnJheSh0aGlzLm1vZGVsKSkgewogICAgICAgIHJldHVybiB0aGlzLm1vZGVsLmluZGV4T2YodGhpcy5jb2RlKSA+IC0xOwogICAgICB9CgogICAgICByZXR1cm4gZmFsc2U7CiAgICB9LAoKICAgIGlzQm9yZGVyKCkgewogICAgICBpZiAodGhpcy5pc0dyb3VwKSB7CiAgICAgICAgcmV0dXJuIHRoaXMuJHBhcmVudC5ib3JkZXIgfHwgdGhpcy5ib3JkZXI7CiAgICAgIH0KCiAgICAgIHJldHVybiB0aGlzLmJvcmRlcjsKICAgIH0sCgogICAgaXNCdXR0b24oKSB7CiAgICAgIHJldHVybiB0aGlzLiRwYXJlbnQuYnV0dG9uIHx8IHRoaXMuYnV0dG9uOwogICAgfSwKCiAgICBidXR0b25TdHlsZVN0cigpIHsKICAgICAgcmV0dXJuIHRoaXMuaXNHcm91cCA/IHRoaXMuJHBhcmVudC5idXR0b25TdHlsZSB8fCB0aGlzLmJ1dHRvblN0eWxlIDogdGhpcy5idXR0b25TdHlsZTsKICAgIH0sCgogICAgaXNHcm91cCgpIHsKICAgICAgbGV0IHBhcmVudCA9IHRoaXMuJHBhcmVudDsKCiAgICAgIHdoaWxlIChwYXJlbnQpIHsKICAgICAgICBpZiAocGFyZW50LiRvcHRpb25zLmNvbXBvbmVudE5hbWUgIT09ICdkakNoZWNrYm94R3JvdXAnKSB7CiAgICAgICAgICBwYXJlbnQgPSBwYXJlbnQuJHBhcmVudDsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgcmV0dXJuIHBhcmVudDsKICAgICAgICB9CiAgICAgIH0KCiAgICAgIHJldHVybiBmYWxzZTsKICAgIH0sCgogICAgaXNMaW1pdERpc2FibGVkKCkgewogICAgICBjb25zdCB7CiAgICAgICAgbWF4bGltaXQsCiAgICAgICAgbWF4TGltaXQKICAgICAgfSA9IHRoaXMuJHBhcmVudDsKICAgICAgY29uc3QgbGltaXQgPSBtYXhMaW1pdCB8fCBtYXhsaW1pdDsKICAgICAgcmV0dXJuICEhbGltaXQgJiYgdGhpcy5tb2RlbC5sZW5ndGggPj0gbGltaXQgJiYgIXRoaXMuaXNDaGVja2VkOwogICAgfSwKCiAgICBpc01pbkxpbWl0KCkgewogICAgICBjb25zdCB7CiAgICAgICAgbWlubGltaXQsCiAgICAgICAgbWluTGltaXQKICAgICAgfSA9IHRoaXMuJHBhcmVudDsKICAgICAgY29uc3QgbGltaXQgPSBtaW5MaW1pdCB8fCBtaW5saW1pdDsKICAgICAgcmV0dXJuICEhbGltaXQgJiYgdGhpcy5tb2RlbC5sZW5ndGggPD0gbGltaXQgJiYgdGhpcy5pc0NoZWNrZWQ7CiAgICB9LAoKICAgIGlzRGlzYWJsZWQoKSB7CiAgICAgIHJldHVybiB0aGlzLmRpc2FibGVkIHx8IHRoaXMuaXNMaW1pdERpc2FibGVkIHx8IHRoaXMuJHBhcmVudC5kaXNhYmxlZDsKICAgIH0KCiAgfSwKCiAgY3JlYXRlZCgpIHt9LAoKICBtZXRob2RzOiB7CiAgICBoYW5kbGVDaGFuZ2UoZXYpIHsKICAgICAgbGV0IHZhbHVlID0gZXYudGFyZ2V0LmNoZWNrZWQ7CiAgICAgIGxldCBscyA9IHRoaXMuJHNsb3RzLmRlZmF1bHQgJiYgdGhpcy4kc2xvdHMuZGVmYXVsdFswXS50ZXh0OwogICAgICB0aGlzLiRlbWl0KCdjaGFuZ2UnLCB2YWx1ZSwgbHMpOwogICAgICB0aGlzLiRuZXh0VGljaygoKSA9PiB7CiAgICAgICAgaWYgKHRoaXMuaXNHcm91cCkgewogICAgICAgICAgdGhpcy5kaXNwYXRjaCgnZGpDaGVja2JveEdyb3VwJywgJ2NoYW5nZScsIFt0aGlzLmlzR3JvdXAudmFsdWUsIHRoaXMuY29kZXNdKTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfQoKICB9LAogIHdhdGNoOiB7CiAgICBjaGVja2VkOiB7CiAgICAgIGhhbmRsZXI6IGZ1bmN0aW9uIChuLCBvKSB7CiAgICAgICAgaWYgKG4gfHwgbyAhPT0gdm9pZCAwICYmIG4gIT09IG8pIHsKICAgICAgICAgIHRoaXMubW9kZWwgPSBuOwogICAgICAgIH0KICAgICAgfSwKICAgICAgaW1tZWRpYXRlOiB0cnVlCiAgICB9CiAgfQp9Ow=="},{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4BA;AACA;EACAA,kBADA;EAEAC,2BAFA;EAGAC;IACAC;MACAC,aADA;MAEAC;IAFA,CADA;IAKAC;MACAF,YADA;MAEAC;IAFA,CALA;IASAE,SATA;IAUAC,QAVA;IAWAC,sBAXA;IAYAC,iBAZA;IAaAC,kBAbA;IAcAX,YAdA;IAeAY;MACAR,aADA;MAEAC;IAFA,CAfA;IAmBAQ;MACAT;IADA;EAnBA,CAHA;EA0BAU,iBA1BA;;EA2BAC;IACA;MACAC,gBADA;MAEAC;IAFA;EAIA,CAhCA;;EAiCAC;IACAC;MACA;IACA,CAHA;;IAIAC;MACAC;QACA,sBACA,kBADA,GACA,wBACA,UADA,GACA,cAFA;MAGA,CALA;;MAMAC;QACA;UACA;UACA;YACA;cACAC;YACA;;YACA;UACA,CALA,EAKA,EALA;QAMA,CARA,MAQA;UACA;UACA;QACA;MACA;;IAnBA,CAJA;;IAyBAC;MACA;QACA;MACA,CAFA,MAEA;QACA;MACA;;MACA;IACA,CAhCA;;IAiCAC;MACA;QACA;MACA;;MACA;IACA,CAtCA;;IAuCAC;MACA;IACA,CAzCA;;IA0CAC;MACA;IACA,CA5CA;;IA6CAC;MACA;;MACA;QACA;UACAC;QACA,CAFA,MAEA;UACA;QACA;MACA;;MACA;IACA,CAvDA;;IAwDAC;MACA;QAAAC;QAAAC;MAAA;MACA;MACA;IACA,CA5DA;;IA6DAC;MACA;QAAAC;QAAAC;MAAA;MACA;MACA;IACA,CAjEA;;IAkEAC;MACA;IACA;;EApEA,CAjCA;;EAuGAC,WACA,CAxGA;;EAyGAC;IACAC;MACA;MACA;MACA;MACA;QACA;UACA;QACA;MACA,CAJA;IAKA;;EAVA,CAzGA;EAqHAC;IACA7B;MACA8B;QACA;UACA;QACA;MACA,CALA;MAMAC;IANA;EADA;AArHA","names":["name","componentName","props","button","type","default","buttonStyle","value","code","indeterminate","disabled","checked","border","size","mixins","data","selfModel","codes","computed","radioSize","model","get","set","r","isChecked","isBorder","isButton","buttonStyleStr","isGroup","parent","isLimitDisabled","maxlimit","maxLimit","isMinLimit","minlimit","minLimit","isDisabled","created","methods","handleChange","watch","handler","immediate"],"sourceRoot":"packages/checkbox/src","sources":["checkbox.vue"],"sourcesContent":["<template>\n  <label\n    class=\"dj-checkbox\"\n    :class=\"[\n      radioSize && `is-size-${radioSize}`,\n      { 'is-indeterminate': indeterminate },\n      { 'is-disabled': isDisabled },\n      { 'is-bordered': isBorder },\n      { 'is-checked': isChecked },\n      { 'is-button': isButton },\n      isButton && `is-button-${buttonStyleStr}`\n    ]\">\n    <span class=\"dj-checkbox-icon\" v-if=\"!isButton\"></span>\n    <input\n      class=\"dj-checkbox-original\"\n      type=\"checkbox\"\n      :disabled=\"isDisabled\"\n      :value=\"code\"\n      :name='name'\n      v-model=\"model\"\n      @change=\"handleChange\">\n      {{$parent.length}}\n    <span class=\"dj-checkbox-label\" v-if=\"$slots.default\">\n      <slot></slot>\n    </span>\n  </label>\n</template>\n<script>\nimport Emitter from '@/mixins/emitter';\nexport default {\n  name: 'djCheckbox',\n  componentName: 'djCheckbox',\n  props: {\n    button: {\n      type: Boolean,\n      default: false\n    },\n    buttonStyle: {\n      type: String,\n      default: 'solid'\n    },\n    value: {},\n    code: {},\n    indeterminate: Boolean,\n    disabled: Boolean,\n    checked: [Boolean],\n    name: String,\n    border: {\n      type: Boolean,\n      default: false\n    },\n    size: {\n      type: String\n    }\n  },\n  mixins: [Emitter],\n  data() {\n    return {\n      selfModel: false,\n      codes: []\n    };\n  },\n  computed: {\n    radioSize(){\n      return this.$parent.size || this.size;\n    },\n    model: {\n      get() {\n        return this.isGroup ?\n          this.isGroup.value : this.value !== void 0 ?\n            this.value : this.selfModel;\n      },\n      set(val) {\n        if (this.isGroup) {\n          this.dispatch('djCheckboxGroup', 'input', [val]);\n          this.codes = this.isGroup.$children.reduce((r, e, i) => {\n            if (val.includes(e.code) && e.$slots.default){\n              r.push(e.$slots.default[0].text);\n            }\n            return r;\n          }, []);\n        } else {\n          this.$emit('input', val);\n          this.selfModel = val;\n        }\n      }\n    },\n    isChecked() {\n      if ({}.toString.call(this.model) === '[object Boolean]') {\n        return this.model;\n      } else if (Array.isArray(this.model)) {\n        return this.model.indexOf(this.code) > -1;\n      }\n      return false;\n    },\n    isBorder() {\n      if (this.isGroup) {\n        return this.$parent.border || this.border;\n      }\n      return this.border;\n    },\n    isButton() {\n      return this.$parent.button || this.button;\n    },\n    buttonStyleStr() {\n      return this.isGroup ? this.$parent.buttonStyle || this.buttonStyle : this.buttonStyle;\n    },\n    isGroup() {\n      let parent = this.$parent;\n      while (parent) {\n        if (parent.$options.componentName !== 'djCheckboxGroup') {\n          parent = parent.$parent;\n        } else {\n          return parent;\n        }\n      }\n      return false;\n    },\n    isLimitDisabled() {\n      const { maxlimit, maxLimit } = this.$parent;\n      const limit = maxLimit || maxlimit;\n      return !!limit &&(this.model.length >= limit && !this.isChecked);\n    },\n    isMinLimit() {\n      const { minlimit, minLimit } = this.$parent;\n      const limit = minLimit || minlimit;\n      return !!limit && (this.model.length <= limit && this.isChecked);\n    },\n    isDisabled() {\n      return this.disabled || this.isLimitDisabled || this.$parent.disabled;\n    }\n  },\n  created() {\n  },\n  methods: {\n    handleChange(ev) {\n      let value = ev.target.checked;\n      let ls = this.$slots.default && this.$slots.default[0].text;\n      this.$emit('change', value, ls);\n      this.$nextTick(() => {\n        if (this.isGroup) {\n          this.dispatch('djCheckboxGroup', 'change', [this.isGroup.value, this.codes]);\n        }\n      });\n    }\n  },\n  watch: {\n    checked: {\n      handler: function(n, o) {\n        if (n || o !== void 0 && n !== o) {\n          this.model = n;\n        }\n      },\n      immediate: true\n    }\n  }\n};\n</script>\n"]}]}