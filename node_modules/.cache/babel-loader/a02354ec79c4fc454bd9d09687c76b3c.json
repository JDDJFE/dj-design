{"remainingRequest":"/Users/wangjunxia/work-github/dj-design/node_modules/babel-loader/lib/index.js!/Users/wangjunxia/work-github/dj-design/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/wangjunxia/work-github/dj-design/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/wangjunxia/work-github/dj-design/packages/form/src/form.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/wangjunxia/work-github/dj-design/packages/form/src/form.vue","mtime":1676257891917},{"path":"/Users/wangjunxia/work-github/dj-design/babel.config.js","mtime":1660011372032},{"path":"/Users/wangjunxia/work-github/dj-design/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/wangjunxia/work-github/dj-design/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/wangjunxia/work-github/dj-design/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/wangjunxia/work-github/dj-design/node_modules/vue-loader/lib/index.js","mtime":1655715099000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdkakZvcm0nLAogIHByb3BzOiB7CiAgICB2YWx1ZTogewogICAgICB0eXBlOiBPYmplY3QsCiAgICAgIGRlZmF1bHQ6ICgpID0+IHt9CiAgICB9LAogICAgbmFtZTogU3RyaW5nLAogICAgdHlwZTogewogICAgICAvLyBlZGl044CBaW5mbwogICAgICB0eXBlOiBTdHJpbmcsCiAgICAgIGRlZmF1bHQ6ICdlZGl0JwogICAgfSwKICAgIGZpZWxkczogewogICAgICB0eXBlOiBBcnJheSwKICAgICAgZGVmYXVsdDogKCkgPT4gW10KICAgIH0sCiAgICBydWxlczogewogICAgICB0eXBlOiBPYmplY3QsCiAgICAgIGRlZmF1bHQ6ICgpID0+IHsKICAgICAgICByZXR1cm4ge307CiAgICAgIH0KICAgIH0sCiAgICBkaXNhYmxlZDogewogICAgICB0eXBlOiBCb29sZWFuLAogICAgICBkZWZhdWx0OiBmYWxzZQogICAgfSwKICAgIGF1dG9mb2N1czogewogICAgICB0eXBlOiBCb29sZWFuLAogICAgICBkZWZhdWx0OiBmYWxzZQogICAgfSwKICAgIGxhYmVsd2lkdGg6IHsKICAgICAgdHlwZTogU3RyaW5nLAogICAgICBkZWZhdWx0OiAnMTEwcHgnCiAgICB9LAogICAgc2hvd0Vycm9yTXNnOiB7CiAgICAgIHR5cGU6IEJvb2xlYW4sCiAgICAgIGRlZmF1bHQ6IHRydWUKICAgIH0sCiAgICBjaGVja1BvcG92ZXI6IHsKICAgICAgdHlwZTogQm9vbGVhbiwKICAgICAgZGVmYXVsdDogdHJ1ZQogICAgfSwKICAgIGVycm9yTXNnUG9zaXRpb246IHsKICAgICAgdHlwZTogU3RyaW5nLAogICAgICBkZWZhdWx0OiAncmlnaHQnCiAgICB9LAogICAgbGFiZWxUb3A6IHsKICAgICAgdHlwZTogQm9vbGVhbiwKICAgICAgZGVmYXVsdDogZmFsc2UKICAgIH0sCiAgICBpbmxpbmU6IHsKICAgICAgdHlwZTogQm9vbGVhbiwKICAgICAgZGVmYXVsdDogZmFsc2UKICAgIH0sCiAgICBmb3Jtd2lkdGg6IHsKICAgICAgdHlwZTogU3RyaW5nCiAgICB9CiAgfSwKCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIC8vIG9sZERhdGE6IHRoaXMuJGNvcHkodGhpcy52YWx1ZSksCiAgICAgIGRhdGE6IHRoaXMudmFsdWUsCiAgICAgIGV4cG9ydEVycm9yTXNnOiBbXQogICAgfTsKICB9LAoKICBjb21wdXRlZDoge30sCiAgd2F0Y2g6IHsKICAgIHZhbHVlOiB7CiAgICAgIGhhbmRsZXI6IGZ1bmN0aW9uIChuLCBvKSB7CiAgICAgICAgaWYgKHRoaXMudmFsdWUgIT0gdGhpcy5kYXRhICYmIEpTT04uc3RyaW5naWZ5KHRoaXMuZGF0YSkgIT0gSlNPTi5zdHJpbmdpZnkodGhpcy52YWx1ZSkpIHsKICAgICAgICAgIHRoaXMuZGF0YSA9IHRoaXMudmFsdWU7CiAgICAgICAgfQogICAgICB9LAogICAgICBkZWVwOiB0cnVlCiAgICB9LAogICAgZGF0YTogZnVuY3Rpb24gKG4sIG8pIHsKICAgICAgdGhpcy4kZW1pdCgnaW5wdXQnLCB0aGlzLmRhdGEpOwogICAgfSwKICAgIGRpc2FibGVkOiBmdW5jdGlvbiAoKSB7CiAgICAgIHRoaXMuJG5leHRUaWNrKCgpID0+IHsKICAgICAgICB0aGlzLnNldERpc2FibGVkKCk7CiAgICAgIH0pOwogICAgfQogIH0sCgogIGNyZWF0ZWQoKSB7CiAgICB0aGlzLmluaXQoKTsKICB9LAoKICBtb3VudGVkKCkgewogICAgdGhpcy5zZXREaXNhYmxlZCgpOwogIH0sCgogIG1ldGhvZHM6IHsKICAgIGluaXQoKSB7CiAgICAgIC8vIGxldCB2Tm9kZXMgPSBbXTsKICAgICAgLy8gLy8g6L+H5ruk6Z2eZGotZm9ybS1pdGVt55qE6IqC54K5CiAgICAgIC8vIHRoaXMuJHNsb3RzLmRlZmF1bHQgJiYgdGhpcy4kc2xvdHMuZGVmYXVsdC5mb3JFYWNoKCh2Tm9kZSwgaW5kZXgpID0+IHsKICAgICAgLy8gICBpZiAodk5vZGUuY29tcG9uZW50T3B0aW9ucyAmJiB2Tm9kZS5jb21wb25lbnRPcHRpb25zLnRhZyA9PSAnZGotZm9ybS1pdGVtJykgewogICAgICAvLyAgICAgdk5vZGVzLnB1c2godk5vZGUpOwogICAgICAvLyAgIH0KICAgICAgLy8gfSk7CiAgICAgIC8vIHRoaXMuX2NoaWxkcmVuID0gdk5vZGVzOwogICAgICAvLyB0aGlzLiRzbG90cy5kZWZhdWx0ID0gdk5vZGVzOwogICAgICB0aGlzLmZpZWxkcy5mb3JFYWNoKChmaWVsZCwgaW5kZXgpID0+IHsKICAgICAgICBmaWVsZC5jb250ZW50cy5mb3JFYWNoKGNvbnRlbnQgPT4gewogICAgICAgICAgY29udGVudC5ldmVudCA9IGNvbnRlbnQuZXZlbnQgfHwge307CiAgICAgICAgICBjb25zdCBjaGFuZ2UgPSBjb250ZW50LmV2ZW50LmNoYW5nZTsKCiAgICAgICAgICBjb250ZW50LmV2ZW50LmNoYW5nZSA9ICgpID0+IHsKICAgICAgICAgICAgdGhpcy4kY2hpbGRyZW5baW5kZXhdLnZhbGlkYXRlKCk7CiAgICAgICAgICAgIGNoYW5nZSAmJiBjaGFuZ2UoKTsKICAgICAgICAgIH07CiAgICAgICAgfSk7CiAgICAgIH0pOwogICAgfSwKCiAgICByZXNldCgpIHsKICAgICAgLy8gdGhpcy5kYXRhID0gdGhpcy4kY29weSh0aGlzLm9sZERhdGEpOwogICAgICBpZiAodGhpcy4kY2hpbGRyZW4ubGVuZ3RoKSB7CiAgICAgICAgdGhpcy4kY2hpbGRyZW4uZm9yRWFjaChpdGVtID0+IHsKICAgICAgICAgIGl0ZW0ucmVzZXQoKTsKICAgICAgICB9KTsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLmZpZWxkcy5mb3JFYWNoKChmaWVsZCwgaW5kZXgpID0+IHsKICAgICAgICAgIHRoaXMuJHJlZnNbYGZvcm1JdGVtJHtpbmRleH1gXVswXS5yZXNldCgpOwogICAgICAgIH0pOwogICAgICB9CiAgICB9LAoKICAgIHJlc2V0VmFsaWRhdGUoKSB7CiAgICAgIGlmICh0aGlzLiRjaGlsZHJlbi5sZW5ndGgpIHsKICAgICAgICB0aGlzLiRjaGlsZHJlbi5mb3JFYWNoKGl0ZW0gPT4gewogICAgICAgICAgaXRlbS5yZXNldFZhbGlkYXRlKCk7CiAgICAgICAgfSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5maWVsZHMuZm9yRWFjaCgoZmllbGQsIGluZGV4KSA9PiB7CiAgICAgICAgICB0aGlzLiRyZWZzW2Bmb3JtSXRlbSR7aW5kZXh9YF1bMF0ucmVzZXRWYWxpZGF0ZSgpOwogICAgICAgIH0pOwogICAgICB9CiAgICB9LAoKICAgIHZhbGlkYXRlKCkgewogICAgICBsZXQgY2hlY2tlZCA9IHRydWU7CiAgICAgIHRoaXMuZXhwb3J0RXJyb3JNc2cgPSBbXTsKCiAgICAgIGlmICh0aGlzLiRjaGlsZHJlbi5sZW5ndGgpIHsKICAgICAgICB2YXIgX2RvbXMkJGVsJHNjcm9sbEludG9WLCBfZG9tcyQkZWw7CgogICAgICAgIHRoaXMuJGNoaWxkcmVuLmZvckVhY2goaXRlbSA9PiB7CiAgICAgICAgICBpZiAoIWl0ZW0udmFsaWRhdGUoKSkgewogICAgICAgICAgICB0aGlzLmV4cG9ydEVycm9yTXNnLnB1c2goaXRlbS5lcnJvck1zZyk7CiAgICAgICAgICAgIGNoZWNrZWQgPSBmYWxzZTsKICAgICAgICAgIH0KICAgICAgICB9KTsgLy8g6Ieq5Yqo5a6a5L2N5pyA5byA5aeL6ZSZ6K+v5Yy65Z+fCgogICAgICAgIGxldCBkb21zID0gdGhpcy4kY2hpbGRyZW4uZmluZChpdGVtID0+IGl0ZW0uZXJyb3JNc2cpOwogICAgICAgIGRvbXMgPT09IG51bGwgfHwgZG9tcyA9PT0gdm9pZCAwID8gdm9pZCAwIDogKF9kb21zJCRlbCRzY3JvbGxJbnRvViA9IChfZG9tcyQkZWwgPSBkb21zLiRlbCkuc2Nyb2xsSW50b1ZpZXcpID09PSBudWxsIHx8IF9kb21zJCRlbCRzY3JvbGxJbnRvViA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2RvbXMkJGVsJHNjcm9sbEludG9WLmNhbGwoX2RvbXMkJGVsLCB7CiAgICAgICAgICBiZWhhdmlvcjogJ3Ntb290aCcsCiAgICAgICAgICBibG9jazogJ2NlbnRlcicKICAgICAgICB9KTsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLmZpZWxkcy5mb3JFYWNoKChmaWVsZCwgaW5kZXgpID0+IHsKICAgICAgICAgIGlmICghdGhpcy4kcmVmc1tgZm9ybUl0ZW0ke2luZGV4fWBdWzBdLnZhbGlkYXRlKCkpIHsKICAgICAgICAgICAgY2hlY2tlZCA9IGZhbHNlOwogICAgICAgICAgfQogICAgICAgIH0pOwogICAgICB9CgogICAgICByZXR1cm4gY2hlY2tlZDsKICAgIH0sCgogICAgc2V0RGlzYWJsZWQoKSB7CiAgICAgIGlmICh0aGlzLiRjaGlsZHJlbi5sZW5ndGgpIHsKICAgICAgICB0aGlzLiRjaGlsZHJlbi5mb3JFYWNoKGl0ZW0gPT4gewogICAgICAgICAgaXRlbS5zZXREaXNhYmxlZCh0aGlzLmRpc2FibGVkKTsKICAgICAgICB9KTsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLmZpZWxkcy5mb3JFYWNoKChmaWVsZCwgaW5kZXgpID0+IHsKICAgICAgICAgIHRoaXMuJHJlZnNbYGZvcm1JdGVtJHtpbmRleH1gXVswXS5zZXREaXNhYmxlZCh0aGlzLmRpc2FibGVkKTsKICAgICAgICB9KTsKICAgICAgfQogICAgfSwKCiAgICBnZXRFcnJvck1zZygpIHsKICAgICAgbGV0IG1zZ0xpc3QgPSBbXTsKICAgICAgbGV0IG1zZyA9ICcnOwoKICAgICAgaWYgKHRoaXMuJGNoaWxkcmVuLmxlbmd0aCkgewogICAgICAgIHRoaXMuJGNoaWxkcmVuLmZvckVhY2goaXRlbSA9PiB7CiAgICAgICAgICBtc2cgPSBpdGVtLmdldEVycm9yTXNnKCk7CgogICAgICAgICAgaWYgKG1zZykgewogICAgICAgICAgICBtc2dMaXN0LnB1c2gobXNnKTsKICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLmZpZWxkcy5mb3JFYWNoKChmaWVsZCwgaW5kZXgpID0+IHsKICAgICAgICAgIG1zZyA9IHRoaXMuJHJlZnNbYGZvcm1JdGVtJHtpbmRleH1gXVswXS5nZXRFcnJvck1zZygpOwoKICAgICAgICAgIGlmIChtc2cpIHsKICAgICAgICAgICAgbXNnTGlzdC5wdXNoKG1zZyk7CiAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgIH0KCiAgICAgIHJldHVybiBtc2dMaXN0OwogICAgfQoKICB9Cn07"},{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiIA;EACAA,cADA;EAEAC;IACAC;MACAC,YADA;MAEAC;IAFA,CADA;IAKAJ,YALA;IAMAG;MACA;MACAA,YAFA;MAGAC;IAHA,CANA;IAWAC;MACAF,WADA;MAEAC;IAFA,CAXA;IAeAE;MACAH,YADA;MAEAC;QACA;MACA;IAJA,CAfA;IAqBAG;MACAJ,aADA;MAEAC;IAFA,CArBA;IAyBAI;MACAL,aADA;MAEAC;IAFA,CAzBA;IA6BAK;MACAN,YADA;MAEAC;IAFA,CA7BA;IAiCAM;MACAP,aADA;MAEAC;IAFA,CAjCA;IAqCAO;MACAR,aADA;MAEAC;IAFA,CArCA;IAyCAQ;MACAT,YADA;MAEAC;IAFA,CAzCA;IA6CAS;MACAV,aADA;MAEAC;IAFA,CA7CA;IAiDAU;MACAX,aADA;MAEAC;IAFA,CAjDA;IAqDAW;MACAZ;IADA;EArDA,CAFA;;EA2DAa;IACA;MACA;MACAA,gBAFA;MAGAC;IAHA;EAKA,CAjEA;;EAkEAC,YAlEA;EAmEAC;IACAjB;MACAkB;QACA,IACA,2BACAC,uDAFA,EAGA;UACA;QACA;MACA,CARA;MASAC;IATA,CADA;IAYAN;MACA;IACA,CAdA;IAeAT;MACA;QACA;MACA,CAFA;IAGA;EAnBA,CAnEA;;EAwFAgB;IACA;EACA,CA1FA;;EA2FAC;IACA;EACA,CA7FA;;EA8FAC;IACAC;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;QACAC;UACAC;UACA;;UACAA;YACA;YACAC;UACA,CAHA;QAIA,CAPA;MAQA,CATA;IAUA,CArBA;;IAsBAC;MACA;MACA;QACA;UACAC;QACA,CAFA;MAGA,CAJA,MAIA;QACA;UACA;QACA,CAFA;MAGA;IACA,CAjCA;;IAkCAC;MACA;QACA;UACAD;QACA,CAFA;MAGA,CAJA,MAIA;QACA;UACA;QACA,CAFA;MAGA;IACA,CA5CA;;IA6CAE;MACA;MACA;;MACA;QAAA;;QACA;UACA;YACA;YACAC;UACA;QACA,CALA,EADA,CAOA;;QACA;QACAC;UACAC,kBADA;UAEAC;QAFA;MAIA,CAbA,MAaA;QACA;UACA;YACAH;UACA;QACA,CAJA;MAKA;;MACA;IACA,CArEA;;IAsEAI;MACA;QACA;UACAP;QACA,CAFA;MAGA,CAJA,MAIA;QACA;UACA;QACA,CAFA;MAGA;IACA,CAhFA;;IAiFAQ;MACA;MACA;;MACA;QACA;UACAC;;UACA;YACAC;UACA;QACA,CALA;MAMA,CAPA,MAOA;QACA;UACAD;;UACA;YACAC;UACA;QACA,CALA;MAMA;;MACA;IACA;;EApGA;AA9FA","names":["name","props","value","type","default","fields","rules","disabled","autofocus","labelwidth","showErrorMsg","checkPopover","errorMsgPosition","labelTop","inline","formwidth","data","exportErrorMsg","computed","watch","handler","JSON","deep","created","mounted","methods","init","field","content","change","reset","item","resetValidate","validate","checked","doms","behavior","block","setDisabled","getErrorMsg","msg","msgList"],"sourceRoot":"packages/form/src","sources":["form.vue"],"sourcesContent":["<template>\n  <form\n    :name=\"name\"\n    class=\"dj-form\"\n    :class=\"{ 'dj-form-inline': inline, 'dj-form-column': labelTop }\"\n    :style=\"formwidth && !inline && `width: ${formwidth};`\"\n  >\n    <slot>\n      <dj-form-item\n        v-for=\"(field, index) in fields\"\n        :ref=\"`formItem${index}`\"\n        v-bind=\"field.props\"\n        :key=\"index\"\n        class=\"dj-from-item\"\n      >\n        <template v-for=\"(content, key) in field.contents\">\n          <template v-if=\"content.type == 'input'\">\n            <dj-input\n              v-model=\"data[field.props.field]\"\n              v-bind=\"content.props\"\n              @change=\"content.event.change\"\n              :key=\"key\"\n            />\n          </template>\n          <template v-else-if=\"content.type == 'select'\">\n            <dj-select\n              v-model=\"data[field.props.field]\"\n              v-bind=\"content.props\"\n              @change=\"content.event.change\"\n              :key=\"key\"\n            >\n              <dj-option\n                v-for=\"(item, i) in content.items\"\n                :key=\"i\"\n                :value=\"item.value\"\n                :label=\"item.label\"\n              />\n            </dj-select>\n          </template>\n          <template v-else-if=\"content.type == 'radio'\">\n            <dj-radio\n              v-for=\"(item, i) in content.items\"\n              :key=\"key + '-' + i\"\n              v-bind=\"content.props\"\n              @change=\"content.event.change\"\n              v-model=\"data[field.props.field]\"\n              :code=\"item.value\"\n              >{{ item.label }}</dj-radio\n            >\n          </template>\n          <template v-else-if=\"content.type == 'switch'\">\n            <dj-switch\n              v-model=\"data[field.props.field]\"\n              v-bind=\"content.props\"\n              @change=\"content.event.change\"\n              :key=\"key\"\n            />\n          </template>\n          <template v-else-if=\"content.type == 'checkbox'\">\n            <dj-checkbox-group\n              v-model=\"data[field.props.field]\"\n              :key=\"key\"\n              @change=\"content.event.change\"\n            >\n              <dj-checkbox\n                v-for=\"(item, i) in content.items\"\n                :key=\"i\"\n                v-bind=\"content.props\"\n                :code=\"item.value\"\n                >{{ item.label }}</dj-checkbox\n              >\n            </dj-checkbox-group>\n          </template>\n          <template v-else-if=\"content.type == 'color'\">\n            <dj-color-picker\n              v-model=\"data[field.props.field]\"\n              v-bind=\"content.props\"\n              @change=\"content.event.change\"\n              :key=\"key\"\n            />\n          </template>\n          <template v-else-if=\"content.type == 'textarea'\">\n            <dj-textarea\n              v-model=\"data[field.props.field]\"\n              @change=\"content.event.change\"\n              :key=\"key\"\n            />\n          </template>\n          <template v-else-if=\"content.type == 'button'\">\n            <dj-button\n              v-bind=\"content.props\"\n              :key=\"key\"\n              @click=\"content.event.click()\"\n              >{{ content.text }}</dj-button\n            >\n          </template>\n          <template v-else-if=\"content.type == 'upload'\">\n            <dj-upload\n              v-model=\"data[field.props.field]\"\n              v-bind=\"content.props\"\n              :key=\"key\"\n              :type=\"content.uploadtype\"\n            ></dj-upload>\n          </template>\n          <template v-else-if=\"content.type == 'editor'\">\n            <dj-editor\n              v-model=\"data[field.props.field]\"\n              v-bind=\"content.props\"\n              :key=\"key\"\n            ></dj-editor>\n          </template>\n          <template v-else-if=\"content.type == 'spacing'\">\n            <div class=\"spacing\" :key=\"key\"></div>\n          </template>\n          <template v-else-if=\"content.type == 'div'\">\n            <div v-bind=\"content.props\" :key=\"key\">\n              {{ content.props.class }}\n            </div>\n          </template>\n          <template v-else-if=\"content.type == 'text'\">\n            <span v-bind=\"content.props\" :key=\"key\">{{ content.text }}</span>\n          </template>\n        </template>\n      </dj-form-item>\n    </slot>\n  </form>\n</template>\n\n<script>\nexport default {\n  name: 'djForm',\n  props: {\n    value: {\n      type: Object,\n      default: () => {}\n    },\n    name: String,\n    type: {\n      // edit、info\n      type: String,\n      default: 'edit'\n    },\n    fields: {\n      type: Array,\n      default: () => []\n    },\n    rules: {\n      type: Object,\n      default: () => {\n        return {};\n      }\n    },\n    disabled: {\n      type: Boolean,\n      default: false\n    },\n    autofocus: {\n      type: Boolean,\n      default: false\n    },\n    labelwidth: {\n      type: String,\n      default: '110px'\n    },\n    showErrorMsg: {\n      type: Boolean,\n      default: true\n    },\n    checkPopover: {\n      type: Boolean,\n      default: true\n    },\n    errorMsgPosition: {\n      type: String,\n      default: 'right'\n    },\n    labelTop: {\n      type: Boolean,\n      default: false\n    },\n    inline: {\n      type: Boolean,\n      default: false\n    },\n    formwidth: {\n      type: String\n    }\n  },\n  data() {\n    return {\n      // oldData: this.$copy(this.value),\n      data: this.value,\n      exportErrorMsg: []\n    };\n  },\n  computed: {},\n  watch: {\n    value: {\n      handler: function(n, o) {\n        if (\n          this.value != this.data &&\n          JSON.stringify(this.data) != JSON.stringify(this.value)\n        ) {\n          this.data = this.value;\n        }\n      },\n      deep: true\n    },\n    data: function(n, o) {\n      this.$emit('input', this.data);\n    },\n    disabled: function() {\n      this.$nextTick(() => {\n        this.setDisabled();\n      });\n    }\n  },\n  created() {\n    this.init();\n  },\n  mounted() {\n    this.setDisabled();\n  },\n  methods: {\n    init() {\n      // let vNodes = [];\n      // // 过滤非dj-form-item的节点\n      // this.$slots.default && this.$slots.default.forEach((vNode, index) => {\n      //   if (vNode.componentOptions && vNode.componentOptions.tag == 'dj-form-item') {\n      //     vNodes.push(vNode);\n      //   }\n      // });\n      // this._children = vNodes;\n      // this.$slots.default = vNodes;\n      this.fields.forEach((field, index) => {\n        field.contents.forEach((content) => {\n          content.event = content.event || {};\n          const change = content.event.change;\n          content.event.change = () => {\n            this.$children[index].validate();\n            change && change();\n          };\n        });\n      });\n    },\n    reset() {\n      // this.data = this.$copy(this.oldData);\n      if (this.$children.length) {\n        this.$children.forEach((item) => {\n          item.reset();\n        });\n      } else {\n        this.fields.forEach((field, index) => {\n          this.$refs[`formItem${index}`][0].reset();\n        });\n      }\n    },\n    resetValidate() {\n      if (this.$children.length) {\n        this.$children.forEach((item) => {\n          item.resetValidate();\n        });\n      } else {\n        this.fields.forEach((field, index) => {\n          this.$refs[`formItem${index}`][0].resetValidate();\n        });\n      }\n    },\n    validate() {\n      let checked = true;\n      this.exportErrorMsg = [];\n      if (this.$children.length) {\n        this.$children.forEach((item) => {\n          if (!item.validate()) {\n            this.exportErrorMsg.push(item.errorMsg);\n            checked = false;\n          }\n        });\n        // 自动定位最开始错误区域\n        let doms = this.$children.find((item) => item.errorMsg);\n        doms?.$el.scrollIntoView?.({\n          behavior: 'smooth',\n          block: 'center'\n        });\n      } else {\n        this.fields.forEach((field, index) => {\n          if (!this.$refs[`formItem${index}`][0].validate()) {\n            checked = false;\n          }\n        });\n      }\n      return checked;\n    },\n    setDisabled() {\n      if (this.$children.length) {\n        this.$children.forEach((item) => {\n          item.setDisabled(this.disabled);\n        });\n      } else {\n        this.fields.forEach((field, index) => {\n          this.$refs[`formItem${index}`][0].setDisabled(this.disabled);\n        });\n      }\n    },\n    getErrorMsg() {\n      let msgList = [];\n      let msg = '';\n      if (this.$children.length) {\n        this.$children.forEach((item) => {\n          msg = item.getErrorMsg();\n          if (msg) {\n            msgList.push(msg);\n          }\n        });\n      } else {\n        this.fields.forEach((field, index) => {\n          msg = this.$refs[`formItem${index}`][0].getErrorMsg();\n          if (msg) {\n            msgList.push(msg);\n          }\n        });\n      }\n      return msgList;\n    }\n  }\n};\n</script>\n\n<style lang=\"less\" scoped></style>\n"]}]}