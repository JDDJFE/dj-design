{"remainingRequest":"/Users/wangjunxia/work-github/dj-design/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/wangjunxia/work-github/dj-design/packages/cascader/src/cascader.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/wangjunxia/work-github/dj-design/packages/cascader/src/cascader.vue","mtime":1676539455975},{"path":"/Users/wangjunxia/work-github/dj-design/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/wangjunxia/work-github/dj-design/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/wangjunxia/work-github/dj-design/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/wangjunxia/work-github/dj-design/node_modules/vue-loader/lib/index.js","mtime":1655715099000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBNYWluIGZyb20gJy4vbWFpbi52dWUnOwppbXBvcnQgZGVlcENsb25lIGZyb20gJ0AvdXRpbHMvZGVlcENsb25lJzsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdkai1jYXNjYWRlcicsCiAgY29tcG9uZW50czogeyBNYWluIH0sCiAgcHJvcHM6IHsKICAgIHZhbHVlOiB7CiAgICAgIGRlZmF1bHQ6ICgpID0+IFtdCiAgICB9LAogICAgb3B0aW9uczogewogICAgICB0eXBlOiBBcnJheSwKICAgICAgZGVmYXVsdDogKCkgPT4gW10KICAgIH0sCiAgICBwbGFjZWhvbGRlcjogewogICAgICB0eXBlOiBTdHJpbmcsCiAgICAgIGRlZmF1bHQ6ICfor7fpgInmi6knCiAgICB9LAogICAgY2xlYXJhYmxlOiB7CiAgICAgIHR5cGU6IEJvb2xlYW4sCiAgICAgIGRlZmF1bHQ6IGZhbHNlCiAgICB9LAogICAgY29uZmlnOiB7CiAgICAgIHR5cGU6IE9iamVjdCwKICAgICAgZGVmYXVsdDogKCkgPT4gKHsKICAgICAgICBsYWJlbEtleTogJ2xhYmVsJywKICAgICAgICB2YWx1ZUtleTogJ3ZhbHVlJywKICAgICAgICBjaGlsZHJlbktleTogJ2NoaWxkcmVuJwogICAgICB9KQogICAgfSwKICAgIC8vIOWPr+aQnOe0ogogICAgc2VhcmNoYWJsZTogewogICAgICB0eXBlOiBCb29sZWFuLAogICAgICBkZWZhdWx0OiBmYWxzZQogICAgfSwKICAgIC8vIOaQnOe0ouahhuWuveW6pgogICAgd2lkdGg6IHsKICAgICAgdHlwZTogU3RyaW5nLAogICAgICBkZWZhdWx0OiAnNDAwcHgnCiAgICB9LAogICAgZGlzYWJsZWQ6IHsKICAgICAgdHlwZTogQm9vbGVhbiwKICAgICAgZGVmYXVsdDogZmFsc2UKICAgIH0sCiAgICByYWRpbzogewogICAgICB0eXBlOiBCb29sZWFuLAogICAgICBkZWZhdWx0OiBmYWxzZQogICAgfSwKICAgIHNlcGFyYXRvcjogewogICAgICB0eXBlOiBTdHJpbmcsCiAgICAgIGRlZmF1bHQ6ICcvJwogICAgfQogIH0sCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHRleHQ6ICcnLAogICAgICB2aXNpYmxlOiBmYWxzZSwKICAgICAgY2hlY2tMaXN0OiBbXSwKICAgICAgcmVuZGVyTGlzdDogW10sCiAgICAgIGNoZWNrTGlzdENvcHk6IFtdLAogICAgICBtT3B0aW9uczogW10sCiAgICAgIGZsYXR0ZW5MaXN0OiBbXSwKICAgICAgaXNTZWFyY2g6IGZhbHNlLAogICAgICBsb2FkaW5nOiBmYWxzZSwKICAgICAgaXNDbGVhcjogZmFsc2UsCiAgICAgIHJhZGlvVmFsdWU6ICcnLAogICAgICBvbGRWYWx1ZTogW10sCiAgICAgIGFjdGl2ZUZsYWc6IDEsCiAgICAgIGlzSW5uZXJDaGFuZ2U6IGZhbHNlCiAgICB9OwogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIHZhbHVlS2V5KCkgewogICAgICByZXR1cm4gdGhpcy5jb25maWcudmFsdWVLZXkgfHwgJ3ZhbHVlJzsKICAgIH0sCiAgICBsYWJlbEtleSgpIHsKICAgICAgcmV0dXJuIHRoaXMuY29uZmlnLmxhYmVsS2V5IHx8ICdsYWJlbCc7CiAgICB9LAogICAgY2hpbGRyZW5LZXkoKSB7CiAgICAgIHJldHVybiB0aGlzLmNvbmZpZy5jaGlsZHJlbktleSB8fCAnY2hpbGRyZW4nOwogICAgfQogIH0sCiAgd2F0Y2g6IHsKICAgIG9wdGlvbnM6IHsKICAgICAgaGFuZGxlcigpIHsKICAgICAgICB0aGlzLmluaXREYXRhcygpOwogICAgICAgIHRoaXMudk1vZGVsVmFsdWUoKTsKICAgICAgfSwKICAgICAgZGVlcDogdHJ1ZQogICAgfSwKICAgIHZpc2libGU6IHsKICAgICAgaGFuZGxlcih2KSB7CiAgICAgICAgaWYgKCF2KSB7CiAgICAgICAgICB0aGlzLiRyZWZzLm1haW4uaXNBY3RpdmUgPSBmYWxzZTsKICAgICAgICB9CiAgICAgIH0KICAgIH0sCiAgICB0ZXh0OiB7CiAgICAgIGhhbmRsZXIodikgewogICAgICAgIGlmICh2ID09PSAnJykgewogICAgICAgICAgdGhpcy5jaGVja0xpc3QgPSBbXTsKICAgICAgICAgIHRoaXMucmVuZGVyTGlzdC5zcGxpY2UoMSk7CiAgICAgICAgfQogICAgICAgIHRoaXMuaXNTZWFyY2ggPSBmYWxzZTsKICAgICAgICBjb25zdCBtb2RlbFZhbHVlID0gdGhpcy5jaGVja0xpc3QubWFwKChpdGVtKSA9PiBpdGVtW3RoaXMudmFsdWVLZXldKTsKICAgICAgICB0aGlzLnJhZGlvVmFsdWUgPSBtb2RlbFZhbHVlW21vZGVsVmFsdWUubGVuZ3RoIC0gMV07CgogICAgICAgIGlmIChKU09OLnN0cmluZ2lmeShtb2RlbFZhbHVlKSAhPT0gSlNPTi5zdHJpbmdpZnkodGhpcy52YWx1ZSkpIHsKICAgICAgICAgIHRoaXMuJGVtaXQoJ2lucHV0JywgbW9kZWxWYWx1ZSk7CiAgICAgICAgICB0aGlzLmlzSW5uZXJDaGFuZ2UgPSB0cnVlOwogICAgICAgIH0KICAgICAgICB0aGlzLiRlbWl0KCdjaGFuZ2UnLCBtb2RlbFZhbHVlKTsKICAgICAgfSwKICAgICAgZGVlcDogdHJ1ZQogICAgfSwKICAgIHJlbmRlckxpc3Q6IHsKICAgICAgaGFuZGxlcih2KSB7CiAgICAgICAgaWYgKHRoaXMuc2VhcmNoYWJsZSAmJiB0aGlzLmNvbmZpZy5sYXp5KSB7CiAgICAgICAgICB0aGlzLnNlYXJjaExpc3QgPSB0aGlzLmNvbWJpbmF0aW9uU2VhcmNoKGRlZXBDbG9uZSh2KSk7CiAgICAgICAgfQogICAgICAgIHRoaXMuJHJlZnMucG9wb3Zlckl0ZW0/LmNvbXB1dGVQb3NpdGlvbigpOwogICAgICB9LAogICAgICBkZWVwOiB0cnVlCiAgICB9LAogICAgdmFsdWU6IHsKICAgICAgaGFuZGxlcih2LCBvVikgewogICAgICAgIHRoaXMub2xkVmFsdWUgPSBvVjsKICAgICAgICBpZiAoIXYgfHwgIXY/Lmxlbmd0aCkgewogICAgICAgICAgdGhpcy50ZXh0ID0gJyc7CiAgICAgICAgICByZXR1cm47CiAgICAgICAgfQogICAgICAgIHRoaXMudGV4dCA9IHRoaXMudGV4dC5zcGxpdCh0aGlzLnNlcGFyYXRvcikuc3BsaWNlKDAsIHYubGVuZ3RoKS5qb2luKHRoaXMuc2VwYXJhdG9yKTsKICAgICAgICBpZiAoIXRoaXMuaXNJbm5lckNoYW5nZSkgewogICAgICAgICAgdGhpcy52TW9kZWwoKTsKICAgICAgICB9CiAgICAgICAgdGhpcy5pc0lubmVyQ2hhbmdlID0gdHJ1ZTsKICAgICAgfSwKICAgICAgZGVlcDogdHJ1ZQogICAgfSwKICAgIGNoZWNrTGlzdDogewogICAgICBoYW5kbGVyKHYpIHsKICAgICAgICB0aGlzLnRleHQgPSB2LnJlZHVjZSgocHJldiwgaXRlbSwgaW5kZXgpID0+IHsKICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1yZXR1cm4tYXNzaWduCiAgICAgICAgICByZXR1cm4gcHJldiArPSAoaW5kZXggPT09IDAgPyAnJyA6IHRoaXMuc2VwYXJhdG9yKSArIGl0ZW1bdGhpcy5sYWJlbEtleV07CiAgICAgICAgfSwgJycpOwogICAgICB9CiAgICB9CiAgfSwKICBjcmVhdGVkKCkge30sCiAgbW91bnRlZCgpIHsKICAgIGlmICh0aGlzLmNvbmZpZy5sYXp5KSB7CiAgICAgIHRoaXMuY29uZmlnLmxhenlMb2FkKHsgbGV2ZWw6IDAgfSwgKG5vZGVzKSA9PiB7CiAgICAgICAgdGhpcy5yZW5kZXJMaXN0ID0gW3RoaXMuYWRkTGV2ZWwobm9kZXMsIHRoaXMuY2hpbGRyZW5LZXkpXTsKICAgICAgfSk7CiAgICB9IGVsc2UgewogICAgICB0aGlzLmluaXREYXRhcygpOwogICAgfQogICAgdGhpcy52TW9kZWwoKTsKICB9LAogIG1ldGhvZHM6IHsKICAgIGluaXREYXRhcygpIHsKICAgICAgdGhpcy5tT3B0aW9ucyA9IHRoaXMuYWRkTGV2ZWwoZGVlcENsb25lKHRoaXMub3B0aW9ucyksIHRoaXMuY29uZmlnLmNoaWxkcmVuS2V5IHx8ICdjaGlsZHJlbicpOwogICAgICB0aGlzLmZsYXR0ZW5MaXN0ID0gdGhpcy5mbGF0dGVuKGRlZXBDbG9uZSh0aGlzLm1PcHRpb25zKSwgewogICAgICAgIG9wdGlvbnM6IHRoaXMub3B0aW9ucywKICAgICAgICB2YWx1ZUtleTogdGhpcy52YWx1ZUtleSwKICAgICAgICBsYWJlbEtleTogdGhpcy5sYWJlbEtleSwKICAgICAgICBjaGlsZHJlbktleTogdGhpcy5jaGlsZHJlbktleQogICAgICB9KTsKICAgICAgdGhpcy5yZW5kZXJMaXN0WzBdID0gdGhpcy5tT3B0aW9uczsKICAgICAgdGhpcy5zZWFyY2hMaXN0ID0gdGhpcy5jb21iaW5hdGlvbihkZWVwQ2xvbmUodGhpcy5tT3B0aW9ucykpOwogICAgfSwKICAgIGFkZExldmVsKGFyciwgY2hpbGRyZW5LZXksIGluZGV4ID0gMCkgewogICAgICBhcnIuZm9yRWFjaCgoaXRlbSkgPT4gewogICAgICAgIGl0ZW0ub3JpZ2luID0gZGVlcENsb25lKGl0ZW0pOwogICAgICAgIGl0ZW0ubGV2ZWwgPSBpbmRleCArIDE7CiAgICAgICAgaWYgKGl0ZW1bY2hpbGRyZW5LZXldKSB7CiAgICAgICAgICB0aGlzLmFkZExldmVsKGl0ZW1bY2hpbGRyZW5LZXldLCBjaGlsZHJlbktleSwgaW5kZXggKyAxKTsKICAgICAgICB9CiAgICAgIH0pOwogICAgICByZXR1cm4gYXJyOwogICAgfSwKICAgIGZsYXR0ZW4oYXJyLCBkYXRhcykgewogICAgICBjb25zdCByZXN1bHQgPSBbXTsKICAgICAgYXJyLmZvckVhY2goKGl0ZW0pID0+IHsKICAgICAgICByZXN1bHQucHVzaChpdGVtKTsKICAgICAgICBpZiAoaXRlbVtkYXRhcy5jaGlsZHJlbktleV0pIHsKICAgICAgICAgIGl0ZW1bZGF0YXMuY2hpbGRyZW5LZXldLmZvckVhY2goKGNoaWxkKSA9PiB7CiAgICAgICAgICAgIGNoaWxkLnBJZCA9IGl0ZW1bZGF0YXMudmFsdWVLZXldOwogICAgICAgICAgfSk7CiAgICAgICAgICBjb25zdCBjaGlsZHJlbiA9IGRlZXBDbG9uZShpdGVtW2RhdGFzLmNoaWxkcmVuS2V5XSk7CiAgICAgICAgICByZXN1bHQucHVzaCguLi50aGlzLmZsYXR0ZW4oY2hpbGRyZW4sIGRhdGFzKSk7CiAgICAgICAgfQogICAgICB9KTsKICAgICAgcmV0dXJuIHJlc3VsdDsKICAgIH0sCiAgICBjb21iaW5hdGlvbihhcnIpIHsKICAgICAgY29uc3QgcmVzdWx0ID0gW107CgogICAgICAvKioKICAgICAgICogQGRlc2Mg5qC85byP5YyW5Ye95pWwCiAgICAgICAqIEBwYXJhbSB7QXJyYXl9IGFyciDmlbDnu4QKICAgICAgICogQHBhcmFtIHtBcnJheX0gcGFyZW50IOeItue6p+aVsOe7hAogICAgICAgKiBAcmV0dXJuIHtBcnJheX0g5qC85byP5YyW5ZCO55qE5pWw57uECiAgICAgICAqLwogICAgICBjb25zdCBsYWJlbEtleSA9IHRoaXMubGFiZWxLZXk7CiAgICAgIGNvbnN0IHZhbHVlS2V5ID0gdGhpcy52YWx1ZUtleTsKICAgICAgY29uc3QgY2hpbGRyZW5LZXkgPSB0aGlzLmNoaWxkcmVuS2V5OwogICAgICBjb25zdCBzZXBhcmF0b3IgPSB0aGlzLnNlcGFyYXRvcjsKICAgICAgZnVuY3Rpb24gZm9ybWF0KGFyciwgcGFyZW50KSB7CiAgICAgICAgYXJyLmZvckVhY2goKGl0ZW0pID0+IHsKICAgICAgICAgIGNvbnN0IHsgbGV2ZWwgfSA9IGl0ZW07CiAgICAgICAgICBpZiAobGV2ZWwgPT0gMSkgewogICAgICAgICAgICBwYXJlbnQgPSB7CiAgICAgICAgICAgICAgW2xhYmVsS2V5XTogaXRlbVtsYWJlbEtleV0sCiAgICAgICAgICAgICAgW3ZhbHVlS2V5XTogW2l0ZW1bdmFsdWVLZXldXQogICAgICAgICAgICB9OwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgY29uc3QgcGFyZW50QmFja3VwID0gZGVlcENsb25lKHBhcmVudCk7CiAgICAgICAgICAgIHBhcmVudCA9IHsKICAgICAgICAgICAgICBbbGFiZWxLZXldOgogICAgICAgICAgICAgICAgcGFyZW50QmFja3VwW2xhYmVsS2V5XQogICAgICAgICAgICAgICAgICAuc3BsaXQoc2VwYXJhdG9yKQogICAgICAgICAgICAgICAgICAuc3BsaWNlKDAsIGxldmVsIC0gMSkKICAgICAgICAgICAgICAgICAgLmpvaW4oc2VwYXJhdG9yKSArCiAgICAgICAgICAgICAgICBzZXBhcmF0b3IgKwogICAgICAgICAgICAgICAgaXRlbVtsYWJlbEtleV0sCiAgICAgICAgICAgICAgW3ZhbHVlS2V5XTogWy4uLnBhcmVudEJhY2t1cFt2YWx1ZUtleV0uc3BsaWNlKDAsIGxldmVsIC0gMSksIGl0ZW1bdmFsdWVLZXldXQogICAgICAgICAgICB9OwogICAgICAgICAgfQogICAgICAgICAgaWYgKGl0ZW1bY2hpbGRyZW5LZXldICYmIGl0ZW1bY2hpbGRyZW5LZXldLmxlbmd0aCkgewogICAgICAgICAgICBmb3JtYXQoaXRlbVtjaGlsZHJlbktleV0sIHBhcmVudCk7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICByZXN1bHQucHVzaChwYXJlbnQpOwogICAgICAgICAgfQogICAgICAgIH0pOwogICAgICB9CgogICAgICBmb3JtYXQoYXJyKTsKCiAgICAgIHJldHVybiByZXN1bHQ7CiAgICB9LAogICAgY29tYmluYXRpb25TZWFyY2goYXJyKSB7CiAgICAgIGNvbnN0IHJlc3VsdCA9IFtdOwoKICAgICAgY29uc3QgbGFiZWxLZXkgPSB0aGlzLmxhYmVsS2V5OwogICAgICBjb25zdCB2YWx1ZUtleSA9IHRoaXMudmFsdWVLZXk7CiAgICAgIGNvbnN0IHNlcGFyYXRvciA9IHRoaXMuc2VwYXJhdG9yOwogICAgICBmdW5jdGlvbiBmb3JtYXQoYXJyKSB7CiAgICAgICAgYXJyLmZvckVhY2goKGl0ZW1BcnIsIGluZGV4KSA9PiB7CiAgICAgICAgICBpdGVtQXJyLmZvckVhY2goKGl0ZW0pID0+IHsKICAgICAgICAgICAgaWYgKGluZGV4ID09PSAwKSB7CiAgICAgICAgICAgICAgcmVzdWx0LnB1c2goewogICAgICAgICAgICAgICAgLi4uaXRlbSwKICAgICAgICAgICAgICAgIFt2YWx1ZUtleV06IFtpdGVtW3ZhbHVlS2V5XV0KICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICBjb25zdCBwYXJlbnQgPSByZXN1bHQuZmluZCgocCkgPT4gcFt2YWx1ZUtleV0uaW5jbHVkZXMoaXRlbS5wSWQpKTsKICAgICAgICAgICAgICBpZiAoIXBhcmVudCkgcmV0dXJuOwogICAgICAgICAgICAgIHJlc3VsdC5wdXNoKHsKICAgICAgICAgICAgICAgIC4uLml0ZW0sCiAgICAgICAgICAgICAgICBbdmFsdWVLZXldOiBbLi4ucGFyZW50W3ZhbHVlS2V5XSwgaXRlbVt2YWx1ZUtleV1dLAogICAgICAgICAgICAgICAgW2xhYmVsS2V5XTogcGFyZW50W2xhYmVsS2V5XSArIHNlcGFyYXRvciArIGl0ZW1bbGFiZWxLZXldCiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0pOwogICAgICAgIH0pOwogICAgICB9CgogICAgICBmb3JtYXQoYXJyKTsKCiAgICAgIHJldHVybiByZXN1bHQ7CiAgICB9LAogICAgaGFuZGxlQ2hlY2soaXRlbSwgaW5kZXgsIGhhc0NoaWxkcmVuLCBpc0xhenlTZWFyY2gsIGlzUmFkaW8pIHsKICAgICAgaWYgKAogICAgICAgIEpTT04uc3RyaW5naWZ5KGl0ZW0pID09PSBKU09OLnN0cmluZ2lmeSh0aGlzLmNoZWNrTGlzdFtpdGVtLmxldmVsIC0gMV0pICYmCiAgICAgICAgaXRlbS5sZXZlbCA9PSB0aGlzLmNoZWNrTGlzdC5sZW5ndGgKICAgICAgKSB7CiAgICAgICAgaWYgKCF0aGlzLnJhZGlvIHx8IGlzUmFkaW8pIHsKICAgICAgICAgIHJldHVybjsKICAgICAgICB9CiAgICAgIH0KICAgICAgY29uc3QgY2hlY2tMaXN0ID0gZGVlcENsb25lKHRoaXMuY2hlY2tMaXN0KTsKICAgICAgdGhpcy5jaGVja0xpc3RbaXRlbS5sZXZlbCAtIDFdID0gaXRlbTsKICAgICAgdGhpcy5jaGVja0xpc3QgPSB0aGlzLmNoZWNrTGlzdC5maWx0ZXIoKF8sIGkpID0+IGkgPD0gaW5kZXgpOwoKICAgICAgbGV0IGNoZWNrU3RyaWN0bHkgPSB0aGlzLmNvbmZpZy5jaGVja1N0cmljdGx5OwogICAgICBpZiAodGhpcy5jb25maWcubGF6eSAmJiB0aGlzLnNlYXJjaGFibGUpIHsKICAgICAgICBjaGVja1N0cmljdGx5ID0gdHJ1ZTsKICAgICAgfQoKICAgICAgLy8g5aaC5p6c5byA5ZCv5LqG6YCJ5Lit5Lu75oSP6aG577yM5YiZ5omn6KGM6K+l6YC76L6RCiAgICAgIGlmICgKICAgICAgICBjaGVja1N0cmljdGx5ICYmICFpc1JhZGlvIHx8CiAgICAgICAgaXRlbS5sZWFmIHx8CiAgICAgICAgIWhhc0NoaWxkcmVuICYmIGl0ZW0ubGVhZiAhPT0gZmFsc2UgfHwKICAgICAgICB0aGlzLnJhZGlvICYmICFpc1JhZGlvCiAgICAgICkgewogICAgICAgIGlmICh0aGlzLnJhZGlvICYmIGlzUmFkaW8gJiYgKGl0ZW0ubGVhZiB8fCAhaGFzQ2hpbGRyZW4gJiYgaXRlbS5sZWFmICE9PSBmYWxzZSkpIHsKICAgICAgICAgIC8vCiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHRoaXMudGV4dCA9IHRoaXMuY2hlY2tMaXN0LnJlZHVjZSgocHJldiwgaXRlbSwgaW5kZXgpID0+IHsKICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXJldHVybi1hc3NpZ24KICAgICAgICAgICAgcmV0dXJuIHByZXYgKz0gKGluZGV4ID09PSAwID8gJycgOiB0aGlzLnNlcGFyYXRvcikgKyBpdGVtW3RoaXMubGFiZWxLZXldOwogICAgICAgICAgfSwgJycpOwogICAgICAgIH0KICAgICAgfQoKICAgICAgLy8g5aaC5p6c6YeN5aSN6YCJ5oup5LqG5YmN6Z2i6YCJ5Lit6L+H55qE6aG577yM5YiZ5riy5p+T5YiX6KGo5LuF5bGV56S65LiL5LiA57qn5a2Q6ZuGCiAgICAgIGlmIChjaGVja0xpc3QuZmluZCgoaSkgPT4gaVt0aGlzLnZhbHVlS2V5XSA9PT0gaXRlbVt0aGlzLnZhbHVlS2V5XSAmJiBpLmxldmVsID09PSBpdGVtLmxldmVsKSkgewogICAgICAgIHRoaXMucmVuZGVyTGlzdC5zcGxpY2UoaW5kZXggKyAyKTsKICAgICAgICBpZiAoIXRoaXMuY29uZmlnLmxhenkgfHwgIXRoaXMuc2VhcmNoYWJsZSkgewogICAgICAgICAgLy8gcmV0dXJuOwogICAgICAgIH0KICAgICAgfQogICAgICAvLyDlpoLmnpzkuIvkuIDnuqfmuLLmn5PnmoTliJfooajmmK/lvZPliY3pgInkuK3nmoTpobnnmoTlrZDpobnvvIzliJnkuI3pnIDopoHph43mlrDmuLLmn5MKICAgICAgaWYgKGl0ZW1bdGhpcy52YWx1ZUtleV0gPT09ICh0aGlzLnJlbmRlckxpc3RbaW5kZXggKyAxXSB8fCBbXSlbMF0/LnBJZCkgewogICAgICAgIHJldHVybjsKICAgICAgfQogICAgICBpZiAodGhpcy5jb25maWcubGF6eSkgewogICAgICAgIGlmICghaXRlbS5sZWFmKSB7CiAgICAgICAgICBpdGVtLmxvYWRpbmcgPSB0cnVlOwogICAgICAgICAgdGhpcy5sb2FkaW5nID0gdHJ1ZTsKICAgICAgICAgIC8vIOa4heepuuWtkOmbhua4suafk+WIl+ihqAogICAgICAgICAgdGhpcy5yZW5kZXJMaXN0LnNwbGljZShpbmRleCArIDEpOwogICAgICAgICAgdGhpcy5jb25maWcubGF6eUxvYWQoaXRlbSwgKG5vZGVzKSA9PiB7CiAgICAgICAgICAgIHRoaXMucmVuZGVyTGlzdFtpbmRleCArIDFdID0gdGhpcy5hZGRMZXZlbChub2RlcywgdGhpcy5jaGlsZHJlbktleSwgaXRlbS5sZXZlbCkubWFwKChpKSA9PiB7CiAgICAgICAgICAgICAgaS5wSWQgPSBpdGVtW3RoaXMudmFsdWVLZXldOwogICAgICAgICAgICAgIHJldHVybiBpOwogICAgICAgICAgICB9KTsKICAgICAgICAgICAgdGhpcy5yZW5kZXJMaXN0ID0gdGhpcy5yZW5kZXJMaXN0LmZpbHRlcigoaXRlbSwgaSkgPT4gaSA8PSBpbmRleCArIDEpOwogICAgICAgICAgICBpZiAoIXRoaXMucmVuZGVyTGlzdFt0aGlzLnJlbmRlckxpc3QubGVuZ3RoIC0gMV0ubGVuZ3RoKSB7CiAgICAgICAgICAgICAgdGhpcy5yZW5kZXJMaXN0LnBvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGl0ZW0ubG9hZGluZyA9IGZhbHNlOwogICAgICAgICAgICB0aGlzLmxvYWRpbmcgPSBmYWxzZTsKICAgICAgICAgIH0pOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAvLyDpgInkuK3mnIDlkI7kuIDnuqflhbPpl63msJTms6EKICAgICAgICAgICFpc0xhenlTZWFyY2ggJiYgKHRoaXMudmlzaWJsZSA9IGZhbHNlKTsKICAgICAgICB9CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5yZW5kZXJMaXN0W2luZGV4ICsgMV0gPSB0aGlzLmZsYXR0ZW5MaXN0LmZpbHRlcigKICAgICAgICAgIChpKSA9PiBpLmxldmVsID09PSBpbmRleCArIDIgJiYgaXRlbVt0aGlzLnZhbHVlS2V5XSA9PT0gaS5wSWQKICAgICAgICApOwogICAgICAgIHRoaXMucmVuZGVyTGlzdCA9IHRoaXMucmVuZGVyTGlzdC5maWx0ZXIoKGl0ZW0sIGkpID0+IGkgPD0gaW5kZXggKyAxKTsKICAgICAgICBpZiAoIXRoaXMucmVuZGVyTGlzdFt0aGlzLnJlbmRlckxpc3QubGVuZ3RoIC0gMV0ubGVuZ3RoKSB7CiAgICAgICAgICB0aGlzLnJlbmRlckxpc3QucG9wKCk7CiAgICAgICAgfQoKICAgICAgICBpZiAoIWhhc0NoaWxkcmVuICYmICF0aGlzLnJhZGlvKSB7CiAgICAgICAgICAvLyDpgInkuK3mnIDlkI7kuIDnuqflhbPpl63msJTms6EKICAgICAgICAgIHRoaXMudmlzaWJsZSA9IGZhbHNlOwogICAgICAgIH0KICAgICAgfQogICAgICB0aGlzLiRlbWl0KCdjaGFuZ2UnLCBpdGVtKTsKICAgIH0sCiAgICBoYW5kbGVTZWFyY2goa2V5d29yZCkgewogICAgICB0aGlzLmlzU2VhcmNoID0gZmFsc2U7CiAgICAgIGlmIChrZXl3b3JkID09PSB0aGlzLnRleHQpIHsKICAgICAgICByZXR1cm47CiAgICAgIH0KICAgICAgaWYgKCFrZXl3b3JkKSB7CiAgICAgICAgdGhpcy5zZWFyY2hSZW5kZXJMaXN0ID0gW107CiAgICAgICAgcmV0dXJuOwogICAgICB9CiAgICAgIHRoaXMuaXNTZWFyY2ggPSB0cnVlOwogICAgICAvLyDmoLnmja5sYWJlbOi/m+ihjOaooeeziuWMuemFje+8jOi/lOWbnmxpc3QKICAgICAgdGhpcy5zZWFyY2hSZW5kZXJMaXN0ID0gdGhpcy5zZWFyY2hMaXN0LmZpbHRlcigoaSkgPT4gaVt0aGlzLmxhYmVsS2V5XT8uaW5jbHVkZXMoa2V5d29yZCkpOwogICAgfSwKICAgIGhhbmRsZUNoZWNrU2VhcmNoKGl0ZW0sIGlzUmFkaW8pIHsKICAgICAgaWYgKGl0ZW1bdGhpcy5sYWJlbEtleV0gPT09IHRoaXMudGV4dCkgewogICAgICAgIHRoaXMudmlzaWJsZSA9IGZhbHNlOwogICAgICAgIHJldHVybjsKICAgICAgfQogICAgICAvLyDnu5nmkJzntKLmoYblsZXnpLrnmoTmlofmnKzotYvlgLwKICAgICAgdGhpcy50ZXh0ID0gaXRlbVt0aGlzLmxhYmVsS2V5XTsKCiAgICAgIGNvbnN0IHsgbGFiZWxLZXksIHZhbHVlS2V5IH0gPSB0aGlzOwogICAgICBjb25zdCBfdGhpcyA9IHRoaXM7CiAgICAgIGZ1bmN0aW9uIHNlYXJjaEZvcm1hdENoZWNrTGlzdChmbGF0dGVuTGlzdCkgewogICAgICAgIC8vIOagvOW8j+WMlmNoZWNrTGlzdAogICAgICAgIF90aGlzLmNoZWNrTGlzdCA9IGl0ZW1bdmFsdWVLZXldLm1hcCgoaSkgPT4gewogICAgICAgICAgY29uc3QgZGV0YWlsID0gZmxhdHRlbkxpc3QuZmluZCgoaikgPT4galt2YWx1ZUtleV0gPT09IGkpOwogICAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgW3ZhbHVlS2V5XTogaSwKICAgICAgICAgICAgW2xhYmVsS2V5XTogZGV0YWlsPy5bbGFiZWxLZXldLAogICAgICAgICAgICBsZXZlbDogZGV0YWlsLmxldmVsCiAgICAgICAgICB9OwogICAgICAgIH0pOwoKICAgICAgICAvLyDliqDovb3muLLmn5PliJfooagKICAgICAgICBfdGhpcy5jaGVja0xpc3QucmVkdWNlKChwcmV2LCBpdGVtLCBpbmRleCkgPT4gewogICAgICAgICAgaWYgKGluZGV4ID09PSAwKSB7CiAgICAgICAgICAgIF90aGlzLnJlbmRlckxpc3RbMF0gPSBfdGhpcy5tT3B0aW9uczsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIF90aGlzLnJlbmRlckxpc3RbaW5kZXhdID0gZmxhdHRlbkxpc3QuZmlsdGVyKChpKSA9PiBpLmxldmVsID09PSBpbmRleCArIDEgJiYgcHJldlt2YWx1ZUtleV0gPT09IGkucElkKTsKICAgICAgICAgIH0KICAgICAgICAgIHJldHVybiBpdGVtOwogICAgICAgIH0pOwogICAgICB9CgogICAgICBpZiAodGhpcy5jb25maWcubGF6eSAmJiB0aGlzLnNlYXJjaGFibGUpIHsKICAgICAgICBjb25zdCBmbGF0TGlzdCA9IHRoaXMucmVuZGVyTGlzdC5mbGF0KDIpOwogICAgICAgIHNlYXJjaEZvcm1hdENoZWNrTGlzdChmbGF0TGlzdCk7CiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7CiAgICAgICAgICBjb25zdCB2YWx1ZUxlbmd0aCA9IGl0ZW1bdGhpcy52YWx1ZUtleV0ubGVuZ3RoOwogICAgICAgICAgY29uc3QgbGFiZWxMaXN0ID0gaXRlbVt0aGlzLmxhYmVsS2V5XS5zcGxpdCh0aGlzLnNlcGFyYXRvcik7CiAgICAgICAgICBjb25zdCBkYXRhID0gewogICAgICAgICAgICAuLi5pdGVtLAogICAgICAgICAgICBbdGhpcy52YWx1ZUtleV06IGl0ZW1bdGhpcy52YWx1ZUtleV1bdmFsdWVMZW5ndGggLSAxXSwKICAgICAgICAgICAgW3RoaXMubGFiZWxLZXldOiBsYWJlbExpc3RbbGFiZWxMaXN0Lmxlbmd0aCAtIDFdCiAgICAgICAgICB9OwogICAgICAgICAgdGhpcy5oYW5kbGVDaGVjayhkYXRhLCBpdGVtLmxldmVsIC0gMSwgZmFsc2UsIHRydWUsIGlzUmFkaW8pOwogICAgICAgIH0pOwogICAgICB9IGVsc2UgewogICAgICAgIHNlYXJjaEZvcm1hdENoZWNrTGlzdCh0aGlzLmZsYXR0ZW5MaXN0KTsKICAgICAgfQogICAgfSwKICAgIC8vIOWbnuaYvuWPjOWQkee7keWumgogICAgdk1vZGVsVmFsdWUoKSB7CiAgICAgIGNvbnN0IGNoZWNrTGlzdCA9IFtdOwogICAgICBjb25zdCByZW5kZXJMaXN0ID0gW107CiAgICAgIHRoaXMudmFsdWUuZm9yRWFjaCgoaXRlbSwgaW5kZXgpID0+IHsKICAgICAgICBpZiAoaW5kZXggPT09IDApIHsKICAgICAgICAgIHJlbmRlckxpc3RbaW5kZXhdID0gdGhpcy5mbGF0dGVuTGlzdC5maWx0ZXIoKGYpID0+IGYubGV2ZWwgPT09IDEpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICByZW5kZXJMaXN0W2luZGV4XSA9IHRoaXMuZmxhdHRlbkxpc3QuZmlsdGVyKChmKSA9PiBmLnBJZCA9PT0gdGhpcy52YWx1ZVtpbmRleCAtIDFdKTsKICAgICAgICB9CiAgICAgICAgY29uc3QgY2hlY2tJdGVtID0gdGhpcy5mbGF0dGVuTGlzdC5maW5kKChmKSA9PiBmW3RoaXMudmFsdWVLZXldID09PSBpdGVtKTsKICAgICAgICBjaGVja0l0ZW0gJiYgKGNoZWNrTGlzdFtpbmRleF0gPSBjaGVja0l0ZW0pOwogICAgICB9KTsKICAgICAgaWYgKEpTT04uc3RyaW5naWZ5KGNoZWNrTGlzdCkgPT09IEpTT04uc3RyaW5naWZ5KHRoaXMuY2hlY2tMaXN0KSkgcmV0dXJuOwogICAgICB0aGlzLnJlbmRlckxpc3QgPSByZW5kZXJMaXN0OwogICAgICB0aGlzLmNoZWNrTGlzdCA9IGNoZWNrTGlzdDsKICAgICAgdGhpcy50ZXh0ID0gdGhpcy5jaGVja0xpc3QKICAgICAgICAuZmlsdGVyKChpdGVtKSA9PiBpdGVtKQogICAgICAgIC5yZWR1Y2UoKHByZXYsIGl0ZW0sIGluZGV4KSA9PiBgJHtwcmV2fSR7aW5kZXggPyB0aGlzLnNlcGFyYXRvciA6ICcnfSR7aXRlbVt0aGlzLmxhYmVsS2V5XX1gLCAnJyk7CiAgICAgIHRoaXMucmFkaW9WYWx1ZSA9IHRoaXMudmFsdWVbdGhpcy52YWx1ZS5sZW5ndGggLSAxXTsKICAgIH0sCiAgICAvLyDliqjmgIHlm57mmL7lj4zlkJHnu5HlrpoKICAgIGFjdGl2ZVZtb2RlbFZhbHVlKCkgewogICAgICB0aGlzLmFjdGl2ZUZsYWcgPSAxOwogICAgICAodGhpcy52YWx1ZSB8fCBbXSkuZm9yRWFjaCgoaXRlbSwgaW5kZXgpID0+IHsKICAgICAgICBpZiAoaXRlbSAhPT0gdGhpcy5vbGRWYWx1ZVtpbmRleF0pIHsKICAgICAgICAgIHRoaXMuY29uZmlnLmxhenlMb2FkKHsgbGV2ZWw6IGluZGV4ICsgMSB9LCAobm9kZXMpID0+IHsKICAgICAgICAgICAgdGhpcy5hY3RpdmVGbGFnID0gdGhpcy5hY3RpdmVGbGFnICsgMTsKICAgICAgICAgICAgY29uc3QgY2hlY2tMaXN0ID0gW107CiAgICAgICAgICAgIGlmICh0aGlzLmFjdGl2ZUZsYWcgPiB0aGlzLnZhbHVlLmxlbmd0aCkgewogICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgfQogICAgICAgICAgICB0aGlzLnJlbmRlckxpc3RbaW5kZXggKyAxXSA9IHRoaXMuYWRkTGV2ZWwobm9kZXMsIHRoaXMuY2hpbGRyZW5LZXksIGluZGV4ICsgMSkubWFwKChpKSA9PiB7CiAgICAgICAgICAgICAgaS5wSWQgPSBpdGVtW3RoaXMudmFsdWVLZXldOwogICAgICAgICAgICAgIHJldHVybiBpOwogICAgICAgICAgICB9KTsKICAgICAgICAgICAgaWYgKHRoaXMuYWN0aXZlRmxhZyA9PT0gdGhpcy52YWx1ZS5sZW5ndGgpIHsKICAgICAgICAgICAgICB0aGlzLnZhbHVlLmZvckVhY2goKGl0ZW0sIGluZGV4KSA9PiB7CiAgICAgICAgICAgICAgICBjaGVja0xpc3RbaW5kZXhdID0gdGhpcy5yZW5kZXJMaXN0W2luZGV4XS5maW5kKChpKSA9PiBpW3RoaXMudmFsdWVLZXldID09PSBpdGVtKTsKICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICBpZiAoSlNPTi5zdHJpbmdpZnkoY2hlY2tMaXN0KSA9PT0gSlNPTi5zdHJpbmdpZnkodGhpcy5jaGVja0xpc3QpKSByZXR1cm47CiAgICAgICAgICAgICAgdGhpcy5jaGVja0xpc3QgPSBjaGVja0xpc3Q7CiAgICAgICAgICAgICAgdGhpcy50ZXh0ID0gdGhpcy5jaGVja0xpc3QKICAgICAgICAgICAgICAgIC5maWx0ZXIoKGl0ZW0pID0+IGl0ZW0pCiAgICAgICAgICAgICAgICAucmVkdWNlKChwcmV2LCBpdGVtLCBpbmRleCkgPT4gYCR7cHJldn0ke2luZGV4ID8gdGhpcy5zZXBhcmF0b3IgOiAnJ30ke2l0ZW1bdGhpcy5sYWJlbEtleV19YCwgJycpOwogICAgICAgICAgICAgIHRoaXMucmFkaW9WYWx1ZSA9IHRoaXMudmFsdWVbdGhpcy52YWx1ZS5sZW5ndGggLSAxXTsKICAgICAgICAgICAgICBpZiAodGhpcy5yZW5kZXJMaXN0W2luZGV4XS5maW5kKChub2RlKSA9PiBub2RlW3RoaXMudmFsdWVLZXldID09PSBpdGVtKT8ubGVhZikgewogICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgICAvLyBpZiAoIXRoaXMucmVuZGVyTGlzdFtpbmRleCArIDFdKSB7CiAgICAgICAgICAgIC8vICAgdGhpcy5yZW5kZXJMaXN0W2luZGV4ICsgMV0gPSB0aGlzLmFkZExldmVsKG5vZGVzLCB0aGlzLmNoaWxkcmVuS2V5LCBpbmRleCArIDEpLm1hcCgoaSkgPT4gewogICAgICAgICAgICAvLyAgICAgaS5wSWQgPSBpdGVtW3RoaXMudmFsdWVLZXldOwogICAgICAgICAgICAvLyAgICAgcmV0dXJuIGk7CiAgICAgICAgICAgIC8vICAgfSk7CiAgICAgICAgICAgIC8vIH0KICAgICAgICAgICAgLy8gdGhpcy5yZW5kZXJMaXN0ID0gdGhpcy5yZW5kZXJMaXN0LmZpbHRlcigKICAgICAgICAgICAgLy8gICAoaXRlbSwgaSkgPT4gaSA8PSBpbmRleCArIDEKICAgICAgICAgICAgLy8gKTsKICAgICAgICAgICAgaWYgKCF0aGlzLnJlbmRlckxpc3RbdGhpcy5yZW5kZXJMaXN0Lmxlbmd0aCAtIDFdLmxlbmd0aCkgewogICAgICAgICAgICAgIHRoaXMucmVuZGVyTGlzdC5wb3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfSk7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgICB2TW9kZWwoKSB7CiAgICAgIGlmICghdGhpcy5jb25maWcubGF6eSAmJiB0aGlzLnZhbHVlPy5sZW5ndGgpIHsKICAgICAgICB0aGlzLnZNb2RlbFZhbHVlKCk7CiAgICAgIH0gZWxzZSBpZiAodGhpcy5jb25maWcubGF6eSkgewogICAgICAgIHRoaXMuYWN0aXZlVm1vZGVsVmFsdWUoKTsKICAgICAgfQogICAgfQogIH0KfTsK"},{"version":3,"sources":["cascader.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"cascader.vue","sourceRoot":"packages/cascader/src","sourcesContent":["<template>\n  <div class=\"dj-cascader\" :style=\"{ width }\">\n    <dj-popover\n      :visible.sync=\"visible\"\n      placement=\"bottomLeft\"\n      trigger=\"click\"\n      :disabled=\"disabled\"\n      appendToBody\n      className=\"dj-cascader-popover\"\n      ref=\"popoverItem\"\n      style=\"width: 100%\"\n    >\n      <template #content>\n        <div v-if=\"isSearch\" class=\"dj-cascader-inner\">\n          <div class=\"dj-cascader-col\" v-if=\"searchRenderList.length\">\n            <div class=\"dj-cascader-col-wrap\">\n              <div v-for=\"(o, i) in searchRenderList\" :key=\"i\" class=\"dj-cascader-item\">\n                <div\n                  @click.stop=\"handleCheckSearch(o, radio)\"\n                  class=\"dj-cascader-item-item\"\n                  :class=\"{\n                    active: text == o[labelKey],\n                    search: isSearch\n                  }\"\n                >\n                  <div class=\"dj-cascader-item-item-content\">\n                    <slot v-bind=\"{ data: o }\">\n                      <span :title=\"o[labelKey]\">{{ o[labelKey] }}</span>\n                    </slot>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n          <div v-else :style=\"{ width }\" class=\"dj-cascader-empty-panel\">无匹配数据</div>\n        </div>\n        <div v-else class=\"dj-cascader-inner\">\n          <div v-for=\"(rList, index) in renderList\" :key=\"index\" class=\"dj-cascader-col\">\n            <div class=\"dj-cascader-col-wrap\">\n              <div v-for=\"(o, i) in rList\" :key=\"i\" class=\"dj-cascader-item\">\n                <div\n                  @click.stop=\"handleCheck(o, index, !!(o[childrenKey] && o[childrenKey].length), false, radio)\"\n                  class=\"dj-cascader-item-item\"\n                  :class=\"{\n                    active: (checkList[o.level - 1] || {})[valueKey] == o[valueKey]\n                  }\"\n                >\n                  <div class=\"dj-cascader-item-item-content\">\n                    <dj-radio\n                      v-if=\"radio\"\n                      v-model=\"radioValue\"\n                      :class=\"{\n                        active:\n                          (checkList[o.level - 1] || {})[valueKey] == o[valueKey] &&\n                          (config.lazy ? o.leaf === false : o[childrenKey] && o[childrenKey].length),\n                        checked: value.includes(o[valueKey])\n                      }\"\n                      :code=\"o[valueKey]\"\n                      @change=\"handleCheck(o, index, !!(o[childrenKey] && o[childrenKey].length))\"\n                      :title=\"o[labelKey]\"\n                    >\n                      <slot v-bind=\"{ data: o }\">\n                        {{ o[labelKey] }}\n                      </slot>\n                    </dj-radio>\n                    <div v-else>\n                      <slot v-bind=\"{ data: o }\">\n                        <span :title=\"o[labelKey]\">{{ o[labelKey] }}</span>\n                      </slot>\n                    </div>\n                  </div>\n                  <dj-icon\n                    v-if=\"(o[childrenKey] && o[childrenKey].length) || (o.leaf === false && !o.loading)\"\n                    :class=\"{\n                      active: radio\n                        ? value.includes(o[valueKey])\n                        : checkList.find((item) => item[valueKey] === o[valueKey])\n                    }\"\n                    icon=\"arrow-right\"\n                    fontSize=\"20px\"\n                  ></dj-icon>\n                  <dj-icon v-if=\"o.loading && o.leaf === false\" icon=\"load\" fontSize=\"20px\"></dj-icon>\n                </div>\n              </div>\n            </div>\n          </div>\n          <div\n            v-if=\"!renderList.length || !(renderList[0] || []).length\"\n            :style=\"{ width }\"\n            class=\"dj-cascader-empty-panel\"\n          >\n            无匹配数据\n          </div>\n        </div>\n      </template>\n      <Main\n        ref=\"main\"\n        :clearable=\"clearable\"\n        :placeholder=\"placeholder\"\n        v-model=\"text\"\n        :visible.sync=\"visible\"\n        :loading=\"loading\"\n        :searchable=\"searchable\"\n        @onSearch=\"handleSearch\"\n        :delayTime=\"config.delayTime\"\n        :disabled=\"disabled\"\n      ></Main>\n    </dj-popover>\n  </div>\n</template>\n\n<script>\nimport Main from './main.vue';\nimport deepClone from '@/utils/deepClone';\nexport default {\n  name: 'dj-cascader',\n  components: { Main },\n  props: {\n    value: {\n      default: () => []\n    },\n    options: {\n      type: Array,\n      default: () => []\n    },\n    placeholder: {\n      type: String,\n      default: '请选择'\n    },\n    clearable: {\n      type: Boolean,\n      default: false\n    },\n    config: {\n      type: Object,\n      default: () => ({\n        labelKey: 'label',\n        valueKey: 'value',\n        childrenKey: 'children'\n      })\n    },\n    // 可搜索\n    searchable: {\n      type: Boolean,\n      default: false\n    },\n    // 搜索框宽度\n    width: {\n      type: String,\n      default: '400px'\n    },\n    disabled: {\n      type: Boolean,\n      default: false\n    },\n    radio: {\n      type: Boolean,\n      default: false\n    },\n    separator: {\n      type: String,\n      default: '/'\n    }\n  },\n  data() {\n    return {\n      text: '',\n      visible: false,\n      checkList: [],\n      renderList: [],\n      checkListCopy: [],\n      mOptions: [],\n      flattenList: [],\n      isSearch: false,\n      loading: false,\n      isClear: false,\n      radioValue: '',\n      oldValue: [],\n      activeFlag: 1,\n      isInnerChange: false\n    };\n  },\n  computed: {\n    valueKey() {\n      return this.config.valueKey || 'value';\n    },\n    labelKey() {\n      return this.config.labelKey || 'label';\n    },\n    childrenKey() {\n      return this.config.childrenKey || 'children';\n    }\n  },\n  watch: {\n    options: {\n      handler() {\n        this.initDatas();\n        this.vModelValue();\n      },\n      deep: true\n    },\n    visible: {\n      handler(v) {\n        if (!v) {\n          this.$refs.main.isActive = false;\n        }\n      }\n    },\n    text: {\n      handler(v) {\n        if (v === '') {\n          this.checkList = [];\n          this.renderList.splice(1);\n        }\n        this.isSearch = false;\n        const modelValue = this.checkList.map((item) => item[this.valueKey]);\n        this.radioValue = modelValue[modelValue.length - 1];\n\n        if (JSON.stringify(modelValue) !== JSON.stringify(this.value)) {\n          this.$emit('input', modelValue);\n          this.isInnerChange = true;\n        }\n        this.$emit('change', modelValue);\n      },\n      deep: true\n    },\n    renderList: {\n      handler(v) {\n        if (this.searchable && this.config.lazy) {\n          this.searchList = this.combinationSearch(deepClone(v));\n        }\n        this.$refs.popoverItem?.computePosition();\n      },\n      deep: true\n    },\n    value: {\n      handler(v, oV) {\n        this.oldValue = oV;\n        if (!v || !v?.length) {\n          this.text = '';\n          return;\n        }\n        this.text = this.text.split(this.separator).splice(0, v.length).join(this.separator);\n        if (!this.isInnerChange) {\n          this.vModel();\n        }\n        this.isInnerChange = true;\n      },\n      deep: true\n    },\n    checkList: {\n      handler(v) {\n        this.text = v.reduce((prev, item, index) => {\n          // eslint-disable-next-line no-return-assign\n          return prev += (index === 0 ? '' : this.separator) + item[this.labelKey];\n        }, '');\n      }\n    }\n  },\n  created() {},\n  mounted() {\n    if (this.config.lazy) {\n      this.config.lazyLoad({ level: 0 }, (nodes) => {\n        this.renderList = [this.addLevel(nodes, this.childrenKey)];\n      });\n    } else {\n      this.initDatas();\n    }\n    this.vModel();\n  },\n  methods: {\n    initDatas() {\n      this.mOptions = this.addLevel(deepClone(this.options), this.config.childrenKey || 'children');\n      this.flattenList = this.flatten(deepClone(this.mOptions), {\n        options: this.options,\n        valueKey: this.valueKey,\n        labelKey: this.labelKey,\n        childrenKey: this.childrenKey\n      });\n      this.renderList[0] = this.mOptions;\n      this.searchList = this.combination(deepClone(this.mOptions));\n    },\n    addLevel(arr, childrenKey, index = 0) {\n      arr.forEach((item) => {\n        item.origin = deepClone(item);\n        item.level = index + 1;\n        if (item[childrenKey]) {\n          this.addLevel(item[childrenKey], childrenKey, index + 1);\n        }\n      });\n      return arr;\n    },\n    flatten(arr, datas) {\n      const result = [];\n      arr.forEach((item) => {\n        result.push(item);\n        if (item[datas.childrenKey]) {\n          item[datas.childrenKey].forEach((child) => {\n            child.pId = item[datas.valueKey];\n          });\n          const children = deepClone(item[datas.childrenKey]);\n          result.push(...this.flatten(children, datas));\n        }\n      });\n      return result;\n    },\n    combination(arr) {\n      const result = [];\n\n      /**\n       * @desc 格式化函数\n       * @param {Array} arr 数组\n       * @param {Array} parent 父级数组\n       * @return {Array} 格式化后的数组\n       */\n      const labelKey = this.labelKey;\n      const valueKey = this.valueKey;\n      const childrenKey = this.childrenKey;\n      const separator = this.separator;\n      function format(arr, parent) {\n        arr.forEach((item) => {\n          const { level } = item;\n          if (level == 1) {\n            parent = {\n              [labelKey]: item[labelKey],\n              [valueKey]: [item[valueKey]]\n            };\n          } else {\n            const parentBackup = deepClone(parent);\n            parent = {\n              [labelKey]:\n                parentBackup[labelKey]\n                  .split(separator)\n                  .splice(0, level - 1)\n                  .join(separator) +\n                separator +\n                item[labelKey],\n              [valueKey]: [...parentBackup[valueKey].splice(0, level - 1), item[valueKey]]\n            };\n          }\n          if (item[childrenKey] && item[childrenKey].length) {\n            format(item[childrenKey], parent);\n          } else {\n            result.push(parent);\n          }\n        });\n      }\n\n      format(arr);\n\n      return result;\n    },\n    combinationSearch(arr) {\n      const result = [];\n\n      const labelKey = this.labelKey;\n      const valueKey = this.valueKey;\n      const separator = this.separator;\n      function format(arr) {\n        arr.forEach((itemArr, index) => {\n          itemArr.forEach((item) => {\n            if (index === 0) {\n              result.push({\n                ...item,\n                [valueKey]: [item[valueKey]]\n              });\n            } else {\n              const parent = result.find((p) => p[valueKey].includes(item.pId));\n              if (!parent) return;\n              result.push({\n                ...item,\n                [valueKey]: [...parent[valueKey], item[valueKey]],\n                [labelKey]: parent[labelKey] + separator + item[labelKey]\n              });\n            }\n          });\n        });\n      }\n\n      format(arr);\n\n      return result;\n    },\n    handleCheck(item, index, hasChildren, isLazySearch, isRadio) {\n      if (\n        JSON.stringify(item) === JSON.stringify(this.checkList[item.level - 1]) &&\n        item.level == this.checkList.length\n      ) {\n        if (!this.radio || isRadio) {\n          return;\n        }\n      }\n      const checkList = deepClone(this.checkList);\n      this.checkList[item.level - 1] = item;\n      this.checkList = this.checkList.filter((_, i) => i <= index);\n\n      let checkStrictly = this.config.checkStrictly;\n      if (this.config.lazy && this.searchable) {\n        checkStrictly = true;\n      }\n\n      // 如果开启了选中任意项，则执行该逻辑\n      if (\n        checkStrictly && !isRadio ||\n        item.leaf ||\n        !hasChildren && item.leaf !== false ||\n        this.radio && !isRadio\n      ) {\n        if (this.radio && isRadio && (item.leaf || !hasChildren && item.leaf !== false)) {\n          //\n        } else {\n          this.text = this.checkList.reduce((prev, item, index) => {\n            // eslint-disable-next-line no-return-assign\n            return prev += (index === 0 ? '' : this.separator) + item[this.labelKey];\n          }, '');\n        }\n      }\n\n      // 如果重复选择了前面选中过的项，则渲染列表仅展示下一级子集\n      if (checkList.find((i) => i[this.valueKey] === item[this.valueKey] && i.level === item.level)) {\n        this.renderList.splice(index + 2);\n        if (!this.config.lazy || !this.searchable) {\n          // return;\n        }\n      }\n      // 如果下一级渲染的列表是当前选中的项的子项，则不需要重新渲染\n      if (item[this.valueKey] === (this.renderList[index + 1] || [])[0]?.pId) {\n        return;\n      }\n      if (this.config.lazy) {\n        if (!item.leaf) {\n          item.loading = true;\n          this.loading = true;\n          // 清空子集渲染列表\n          this.renderList.splice(index + 1);\n          this.config.lazyLoad(item, (nodes) => {\n            this.renderList[index + 1] = this.addLevel(nodes, this.childrenKey, item.level).map((i) => {\n              i.pId = item[this.valueKey];\n              return i;\n            });\n            this.renderList = this.renderList.filter((item, i) => i <= index + 1);\n            if (!this.renderList[this.renderList.length - 1].length) {\n              this.renderList.pop();\n            }\n            item.loading = false;\n            this.loading = false;\n          });\n        } else {\n          // 选中最后一级关闭气泡\n          !isLazySearch && (this.visible = false);\n        }\n      } else {\n        this.renderList[index + 1] = this.flattenList.filter(\n          (i) => i.level === index + 2 && item[this.valueKey] === i.pId\n        );\n        this.renderList = this.renderList.filter((item, i) => i <= index + 1);\n        if (!this.renderList[this.renderList.length - 1].length) {\n          this.renderList.pop();\n        }\n\n        if (!hasChildren && !this.radio) {\n          // 选中最后一级关闭气泡\n          this.visible = false;\n        }\n      }\n      this.$emit('change', item);\n    },\n    handleSearch(keyword) {\n      this.isSearch = false;\n      if (keyword === this.text) {\n        return;\n      }\n      if (!keyword) {\n        this.searchRenderList = [];\n        return;\n      }\n      this.isSearch = true;\n      // 根据label进行模糊匹配，返回list\n      this.searchRenderList = this.searchList.filter((i) => i[this.labelKey]?.includes(keyword));\n    },\n    handleCheckSearch(item, isRadio) {\n      if (item[this.labelKey] === this.text) {\n        this.visible = false;\n        return;\n      }\n      // 给搜索框展示的文本赋值\n      this.text = item[this.labelKey];\n\n      const { labelKey, valueKey } = this;\n      const _this = this;\n      function searchFormatCheckList(flattenList) {\n        // 格式化checkList\n        _this.checkList = item[valueKey].map((i) => {\n          const detail = flattenList.find((j) => j[valueKey] === i);\n          return {\n            [valueKey]: i,\n            [labelKey]: detail?.[labelKey],\n            level: detail.level\n          };\n        });\n\n        // 加载渲染列表\n        _this.checkList.reduce((prev, item, index) => {\n          if (index === 0) {\n            _this.renderList[0] = _this.mOptions;\n          } else {\n            _this.renderList[index] = flattenList.filter((i) => i.level === index + 1 && prev[valueKey] === i.pId);\n          }\n          return item;\n        });\n      }\n\n      if (this.config.lazy && this.searchable) {\n        const flatList = this.renderList.flat(2);\n        searchFormatCheckList(flatList);\n        setTimeout(() => {\n          const valueLength = item[this.valueKey].length;\n          const labelList = item[this.labelKey].split(this.separator);\n          const data = {\n            ...item,\n            [this.valueKey]: item[this.valueKey][valueLength - 1],\n            [this.labelKey]: labelList[labelList.length - 1]\n          };\n          this.handleCheck(data, item.level - 1, false, true, isRadio);\n        });\n      } else {\n        searchFormatCheckList(this.flattenList);\n      }\n    },\n    // 回显双向绑定\n    vModelValue() {\n      const checkList = [];\n      const renderList = [];\n      this.value.forEach((item, index) => {\n        if (index === 0) {\n          renderList[index] = this.flattenList.filter((f) => f.level === 1);\n        } else {\n          renderList[index] = this.flattenList.filter((f) => f.pId === this.value[index - 1]);\n        }\n        const checkItem = this.flattenList.find((f) => f[this.valueKey] === item);\n        checkItem && (checkList[index] = checkItem);\n      });\n      if (JSON.stringify(checkList) === JSON.stringify(this.checkList)) return;\n      this.renderList = renderList;\n      this.checkList = checkList;\n      this.text = this.checkList\n        .filter((item) => item)\n        .reduce((prev, item, index) => `${prev}${index ? this.separator : ''}${item[this.labelKey]}`, '');\n      this.radioValue = this.value[this.value.length - 1];\n    },\n    // 动态回显双向绑定\n    activeVmodelValue() {\n      this.activeFlag = 1;\n      (this.value || []).forEach((item, index) => {\n        if (item !== this.oldValue[index]) {\n          this.config.lazyLoad({ level: index + 1 }, (nodes) => {\n            this.activeFlag = this.activeFlag + 1;\n            const checkList = [];\n            if (this.activeFlag > this.value.length) {\n              return;\n            }\n            this.renderList[index + 1] = this.addLevel(nodes, this.childrenKey, index + 1).map((i) => {\n              i.pId = item[this.valueKey];\n              return i;\n            });\n            if (this.activeFlag === this.value.length) {\n              this.value.forEach((item, index) => {\n                checkList[index] = this.renderList[index].find((i) => i[this.valueKey] === item);\n              });\n              if (JSON.stringify(checkList) === JSON.stringify(this.checkList)) return;\n              this.checkList = checkList;\n              this.text = this.checkList\n                .filter((item) => item)\n                .reduce((prev, item, index) => `${prev}${index ? this.separator : ''}${item[this.labelKey]}`, '');\n              this.radioValue = this.value[this.value.length - 1];\n              if (this.renderList[index].find((node) => node[this.valueKey] === item)?.leaf) {\n                return;\n              }\n            }\n            // if (!this.renderList[index + 1]) {\n            //   this.renderList[index + 1] = this.addLevel(nodes, this.childrenKey, index + 1).map((i) => {\n            //     i.pId = item[this.valueKey];\n            //     return i;\n            //   });\n            // }\n            // this.renderList = this.renderList.filter(\n            //   (item, i) => i <= index + 1\n            // );\n            if (!this.renderList[this.renderList.length - 1].length) {\n              this.renderList.pop();\n            }\n          });\n        }\n      });\n    },\n    vModel() {\n      if (!this.config.lazy && this.value?.length) {\n        this.vModelValue();\n      } else if (this.config.lazy) {\n        this.activeVmodelValue();\n      }\n    }\n  }\n};\n</script>\n"]}]}