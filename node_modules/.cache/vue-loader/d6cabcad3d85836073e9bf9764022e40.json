{"remainingRequest":"/Users/wangjunxia/work-github/dj-design/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/wangjunxia/work-github/dj-design/packages/form/src/form.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/wangjunxia/work-github/dj-design/packages/form/src/form.vue","mtime":1676257891917},{"path":"/Users/wangjunxia/work-github/dj-design/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/wangjunxia/work-github/dj-design/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/wangjunxia/work-github/dj-design/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/wangjunxia/work-github/dj-design/node_modules/vue-loader/lib/index.js","mtime":1655715099000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnZGpGb3JtJywKICBwcm9wczogewogICAgdmFsdWU6IHsKICAgICAgdHlwZTogT2JqZWN0LAogICAgICBkZWZhdWx0OiAoKSA9PiB7fQogICAgfSwKICAgIG5hbWU6IFN0cmluZywKICAgIHR5cGU6IHsKICAgICAgLy8gZWRpdOOAgWluZm8KICAgICAgdHlwZTogU3RyaW5nLAogICAgICBkZWZhdWx0OiAnZWRpdCcKICAgIH0sCiAgICBmaWVsZHM6IHsKICAgICAgdHlwZTogQXJyYXksCiAgICAgIGRlZmF1bHQ6ICgpID0+IFtdCiAgICB9LAogICAgcnVsZXM6IHsKICAgICAgdHlwZTogT2JqZWN0LAogICAgICBkZWZhdWx0OiAoKSA9PiB7CiAgICAgICAgcmV0dXJuIHt9OwogICAgICB9CiAgICB9LAogICAgZGlzYWJsZWQ6IHsKICAgICAgdHlwZTogQm9vbGVhbiwKICAgICAgZGVmYXVsdDogZmFsc2UKICAgIH0sCiAgICBhdXRvZm9jdXM6IHsKICAgICAgdHlwZTogQm9vbGVhbiwKICAgICAgZGVmYXVsdDogZmFsc2UKICAgIH0sCiAgICBsYWJlbHdpZHRoOiB7CiAgICAgIHR5cGU6IFN0cmluZywKICAgICAgZGVmYXVsdDogJzExMHB4JwogICAgfSwKICAgIHNob3dFcnJvck1zZzogewogICAgICB0eXBlOiBCb29sZWFuLAogICAgICBkZWZhdWx0OiB0cnVlCiAgICB9LAogICAgY2hlY2tQb3BvdmVyOiB7CiAgICAgIHR5cGU6IEJvb2xlYW4sCiAgICAgIGRlZmF1bHQ6IHRydWUKICAgIH0sCiAgICBlcnJvck1zZ1Bvc2l0aW9uOiB7CiAgICAgIHR5cGU6IFN0cmluZywKICAgICAgZGVmYXVsdDogJ3JpZ2h0JwogICAgfSwKICAgIGxhYmVsVG9wOiB7CiAgICAgIHR5cGU6IEJvb2xlYW4sCiAgICAgIGRlZmF1bHQ6IGZhbHNlCiAgICB9LAogICAgaW5saW5lOiB7CiAgICAgIHR5cGU6IEJvb2xlYW4sCiAgICAgIGRlZmF1bHQ6IGZhbHNlCiAgICB9LAogICAgZm9ybXdpZHRoOiB7CiAgICAgIHR5cGU6IFN0cmluZwogICAgfQogIH0sCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIC8vIG9sZERhdGE6IHRoaXMuJGNvcHkodGhpcy52YWx1ZSksCiAgICAgIGRhdGE6IHRoaXMudmFsdWUsCiAgICAgIGV4cG9ydEVycm9yTXNnOiBbXQogICAgfTsKICB9LAogIGNvbXB1dGVkOiB7fSwKICB3YXRjaDogewogICAgdmFsdWU6IHsKICAgICAgaGFuZGxlcjogZnVuY3Rpb24obiwgbykgewogICAgICAgIGlmICgKICAgICAgICAgIHRoaXMudmFsdWUgIT0gdGhpcy5kYXRhICYmCiAgICAgICAgICBKU09OLnN0cmluZ2lmeSh0aGlzLmRhdGEpICE9IEpTT04uc3RyaW5naWZ5KHRoaXMudmFsdWUpCiAgICAgICAgKSB7CiAgICAgICAgICB0aGlzLmRhdGEgPSB0aGlzLnZhbHVlOwogICAgICAgIH0KICAgICAgfSwKICAgICAgZGVlcDogdHJ1ZQogICAgfSwKICAgIGRhdGE6IGZ1bmN0aW9uKG4sIG8pIHsKICAgICAgdGhpcy4kZW1pdCgnaW5wdXQnLCB0aGlzLmRhdGEpOwogICAgfSwKICAgIGRpc2FibGVkOiBmdW5jdGlvbigpIHsKICAgICAgdGhpcy4kbmV4dFRpY2soKCkgPT4gewogICAgICAgIHRoaXMuc2V0RGlzYWJsZWQoKTsKICAgICAgfSk7CiAgICB9CiAgfSwKICBjcmVhdGVkKCkgewogICAgdGhpcy5pbml0KCk7CiAgfSwKICBtb3VudGVkKCkgewogICAgdGhpcy5zZXREaXNhYmxlZCgpOwogIH0sCiAgbWV0aG9kczogewogICAgaW5pdCgpIHsKICAgICAgLy8gbGV0IHZOb2RlcyA9IFtdOwogICAgICAvLyAvLyDov4fmu6TpnZ5kai1mb3JtLWl0ZW3nmoToioLngrkKICAgICAgLy8gdGhpcy4kc2xvdHMuZGVmYXVsdCAmJiB0aGlzLiRzbG90cy5kZWZhdWx0LmZvckVhY2goKHZOb2RlLCBpbmRleCkgPT4gewogICAgICAvLyAgIGlmICh2Tm9kZS5jb21wb25lbnRPcHRpb25zICYmIHZOb2RlLmNvbXBvbmVudE9wdGlvbnMudGFnID09ICdkai1mb3JtLWl0ZW0nKSB7CiAgICAgIC8vICAgICB2Tm9kZXMucHVzaCh2Tm9kZSk7CiAgICAgIC8vICAgfQogICAgICAvLyB9KTsKICAgICAgLy8gdGhpcy5fY2hpbGRyZW4gPSB2Tm9kZXM7CiAgICAgIC8vIHRoaXMuJHNsb3RzLmRlZmF1bHQgPSB2Tm9kZXM7CiAgICAgIHRoaXMuZmllbGRzLmZvckVhY2goKGZpZWxkLCBpbmRleCkgPT4gewogICAgICAgIGZpZWxkLmNvbnRlbnRzLmZvckVhY2goKGNvbnRlbnQpID0+IHsKICAgICAgICAgIGNvbnRlbnQuZXZlbnQgPSBjb250ZW50LmV2ZW50IHx8IHt9OwogICAgICAgICAgY29uc3QgY2hhbmdlID0gY29udGVudC5ldmVudC5jaGFuZ2U7CiAgICAgICAgICBjb250ZW50LmV2ZW50LmNoYW5nZSA9ICgpID0+IHsKICAgICAgICAgICAgdGhpcy4kY2hpbGRyZW5baW5kZXhdLnZhbGlkYXRlKCk7CiAgICAgICAgICAgIGNoYW5nZSAmJiBjaGFuZ2UoKTsKICAgICAgICAgIH07CiAgICAgICAgfSk7CiAgICAgIH0pOwogICAgfSwKICAgIHJlc2V0KCkgewogICAgICAvLyB0aGlzLmRhdGEgPSB0aGlzLiRjb3B5KHRoaXMub2xkRGF0YSk7CiAgICAgIGlmICh0aGlzLiRjaGlsZHJlbi5sZW5ndGgpIHsKICAgICAgICB0aGlzLiRjaGlsZHJlbi5mb3JFYWNoKChpdGVtKSA9PiB7CiAgICAgICAgICBpdGVtLnJlc2V0KCk7CiAgICAgICAgfSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5maWVsZHMuZm9yRWFjaCgoZmllbGQsIGluZGV4KSA9PiB7CiAgICAgICAgICB0aGlzLiRyZWZzW2Bmb3JtSXRlbSR7aW5kZXh9YF1bMF0ucmVzZXQoKTsKICAgICAgICB9KTsKICAgICAgfQogICAgfSwKICAgIHJlc2V0VmFsaWRhdGUoKSB7CiAgICAgIGlmICh0aGlzLiRjaGlsZHJlbi5sZW5ndGgpIHsKICAgICAgICB0aGlzLiRjaGlsZHJlbi5mb3JFYWNoKChpdGVtKSA9PiB7CiAgICAgICAgICBpdGVtLnJlc2V0VmFsaWRhdGUoKTsKICAgICAgICB9KTsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLmZpZWxkcy5mb3JFYWNoKChmaWVsZCwgaW5kZXgpID0+IHsKICAgICAgICAgIHRoaXMuJHJlZnNbYGZvcm1JdGVtJHtpbmRleH1gXVswXS5yZXNldFZhbGlkYXRlKCk7CiAgICAgICAgfSk7CiAgICAgIH0KICAgIH0sCiAgICB2YWxpZGF0ZSgpIHsKICAgICAgbGV0IGNoZWNrZWQgPSB0cnVlOwogICAgICB0aGlzLmV4cG9ydEVycm9yTXNnID0gW107CiAgICAgIGlmICh0aGlzLiRjaGlsZHJlbi5sZW5ndGgpIHsKICAgICAgICB0aGlzLiRjaGlsZHJlbi5mb3JFYWNoKChpdGVtKSA9PiB7CiAgICAgICAgICBpZiAoIWl0ZW0udmFsaWRhdGUoKSkgewogICAgICAgICAgICB0aGlzLmV4cG9ydEVycm9yTXNnLnB1c2goaXRlbS5lcnJvck1zZyk7CiAgICAgICAgICAgIGNoZWNrZWQgPSBmYWxzZTsKICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgICAvLyDoh6rliqjlrprkvY3mnIDlvIDlp4vplJnor6/ljLrln58KICAgICAgICBsZXQgZG9tcyA9IHRoaXMuJGNoaWxkcmVuLmZpbmQoKGl0ZW0pID0+IGl0ZW0uZXJyb3JNc2cpOwogICAgICAgIGRvbXM/LiRlbC5zY3JvbGxJbnRvVmlldz8uKHsKICAgICAgICAgIGJlaGF2aW9yOiAnc21vb3RoJywKICAgICAgICAgIGJsb2NrOiAnY2VudGVyJwogICAgICAgIH0pOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuZmllbGRzLmZvckVhY2goKGZpZWxkLCBpbmRleCkgPT4gewogICAgICAgICAgaWYgKCF0aGlzLiRyZWZzW2Bmb3JtSXRlbSR7aW5kZXh9YF1bMF0udmFsaWRhdGUoKSkgewogICAgICAgICAgICBjaGVja2VkID0gZmFsc2U7CiAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgIH0KICAgICAgcmV0dXJuIGNoZWNrZWQ7CiAgICB9LAogICAgc2V0RGlzYWJsZWQoKSB7CiAgICAgIGlmICh0aGlzLiRjaGlsZHJlbi5sZW5ndGgpIHsKICAgICAgICB0aGlzLiRjaGlsZHJlbi5mb3JFYWNoKChpdGVtKSA9PiB7CiAgICAgICAgICBpdGVtLnNldERpc2FibGVkKHRoaXMuZGlzYWJsZWQpOwogICAgICAgIH0pOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuZmllbGRzLmZvckVhY2goKGZpZWxkLCBpbmRleCkgPT4gewogICAgICAgICAgdGhpcy4kcmVmc1tgZm9ybUl0ZW0ke2luZGV4fWBdWzBdLnNldERpc2FibGVkKHRoaXMuZGlzYWJsZWQpOwogICAgICAgIH0pOwogICAgICB9CiAgICB9LAogICAgZ2V0RXJyb3JNc2coKSB7CiAgICAgIGxldCBtc2dMaXN0ID0gW107CiAgICAgIGxldCBtc2cgPSAnJzsKICAgICAgaWYgKHRoaXMuJGNoaWxkcmVuLmxlbmd0aCkgewogICAgICAgIHRoaXMuJGNoaWxkcmVuLmZvckVhY2goKGl0ZW0pID0+IHsKICAgICAgICAgIG1zZyA9IGl0ZW0uZ2V0RXJyb3JNc2coKTsKICAgICAgICAgIGlmIChtc2cpIHsKICAgICAgICAgICAgbXNnTGlzdC5wdXNoKG1zZyk7CiAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5maWVsZHMuZm9yRWFjaCgoZmllbGQsIGluZGV4KSA9PiB7CiAgICAgICAgICBtc2cgPSB0aGlzLiRyZWZzW2Bmb3JtSXRlbSR7aW5kZXh9YF1bMF0uZ2V0RXJyb3JNc2coKTsKICAgICAgICAgIGlmIChtc2cpIHsKICAgICAgICAgICAgbXNnTGlzdC5wdXNoKG1zZyk7CiAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgIH0KICAgICAgcmV0dXJuIG1zZ0xpc3Q7CiAgICB9CiAgfQp9Owo="},{"version":3,"sources":["form.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"form.vue","sourceRoot":"packages/form/src","sourcesContent":["<template>\n  <form\n    :name=\"name\"\n    class=\"dj-form\"\n    :class=\"{ 'dj-form-inline': inline, 'dj-form-column': labelTop }\"\n    :style=\"formwidth && !inline && `width: ${formwidth};`\"\n  >\n    <slot>\n      <dj-form-item\n        v-for=\"(field, index) in fields\"\n        :ref=\"`formItem${index}`\"\n        v-bind=\"field.props\"\n        :key=\"index\"\n        class=\"dj-from-item\"\n      >\n        <template v-for=\"(content, key) in field.contents\">\n          <template v-if=\"content.type == 'input'\">\n            <dj-input\n              v-model=\"data[field.props.field]\"\n              v-bind=\"content.props\"\n              @change=\"content.event.change\"\n              :key=\"key\"\n            />\n          </template>\n          <template v-else-if=\"content.type == 'select'\">\n            <dj-select\n              v-model=\"data[field.props.field]\"\n              v-bind=\"content.props\"\n              @change=\"content.event.change\"\n              :key=\"key\"\n            >\n              <dj-option\n                v-for=\"(item, i) in content.items\"\n                :key=\"i\"\n                :value=\"item.value\"\n                :label=\"item.label\"\n              />\n            </dj-select>\n          </template>\n          <template v-else-if=\"content.type == 'radio'\">\n            <dj-radio\n              v-for=\"(item, i) in content.items\"\n              :key=\"key + '-' + i\"\n              v-bind=\"content.props\"\n              @change=\"content.event.change\"\n              v-model=\"data[field.props.field]\"\n              :code=\"item.value\"\n              >{{ item.label }}</dj-radio\n            >\n          </template>\n          <template v-else-if=\"content.type == 'switch'\">\n            <dj-switch\n              v-model=\"data[field.props.field]\"\n              v-bind=\"content.props\"\n              @change=\"content.event.change\"\n              :key=\"key\"\n            />\n          </template>\n          <template v-else-if=\"content.type == 'checkbox'\">\n            <dj-checkbox-group\n              v-model=\"data[field.props.field]\"\n              :key=\"key\"\n              @change=\"content.event.change\"\n            >\n              <dj-checkbox\n                v-for=\"(item, i) in content.items\"\n                :key=\"i\"\n                v-bind=\"content.props\"\n                :code=\"item.value\"\n                >{{ item.label }}</dj-checkbox\n              >\n            </dj-checkbox-group>\n          </template>\n          <template v-else-if=\"content.type == 'color'\">\n            <dj-color-picker\n              v-model=\"data[field.props.field]\"\n              v-bind=\"content.props\"\n              @change=\"content.event.change\"\n              :key=\"key\"\n            />\n          </template>\n          <template v-else-if=\"content.type == 'textarea'\">\n            <dj-textarea\n              v-model=\"data[field.props.field]\"\n              @change=\"content.event.change\"\n              :key=\"key\"\n            />\n          </template>\n          <template v-else-if=\"content.type == 'button'\">\n            <dj-button\n              v-bind=\"content.props\"\n              :key=\"key\"\n              @click=\"content.event.click()\"\n              >{{ content.text }}</dj-button\n            >\n          </template>\n          <template v-else-if=\"content.type == 'upload'\">\n            <dj-upload\n              v-model=\"data[field.props.field]\"\n              v-bind=\"content.props\"\n              :key=\"key\"\n              :type=\"content.uploadtype\"\n            ></dj-upload>\n          </template>\n          <template v-else-if=\"content.type == 'editor'\">\n            <dj-editor\n              v-model=\"data[field.props.field]\"\n              v-bind=\"content.props\"\n              :key=\"key\"\n            ></dj-editor>\n          </template>\n          <template v-else-if=\"content.type == 'spacing'\">\n            <div class=\"spacing\" :key=\"key\"></div>\n          </template>\n          <template v-else-if=\"content.type == 'div'\">\n            <div v-bind=\"content.props\" :key=\"key\">\n              {{ content.props.class }}\n            </div>\n          </template>\n          <template v-else-if=\"content.type == 'text'\">\n            <span v-bind=\"content.props\" :key=\"key\">{{ content.text }}</span>\n          </template>\n        </template>\n      </dj-form-item>\n    </slot>\n  </form>\n</template>\n\n<script>\nexport default {\n  name: 'djForm',\n  props: {\n    value: {\n      type: Object,\n      default: () => {}\n    },\n    name: String,\n    type: {\n      // edit、info\n      type: String,\n      default: 'edit'\n    },\n    fields: {\n      type: Array,\n      default: () => []\n    },\n    rules: {\n      type: Object,\n      default: () => {\n        return {};\n      }\n    },\n    disabled: {\n      type: Boolean,\n      default: false\n    },\n    autofocus: {\n      type: Boolean,\n      default: false\n    },\n    labelwidth: {\n      type: String,\n      default: '110px'\n    },\n    showErrorMsg: {\n      type: Boolean,\n      default: true\n    },\n    checkPopover: {\n      type: Boolean,\n      default: true\n    },\n    errorMsgPosition: {\n      type: String,\n      default: 'right'\n    },\n    labelTop: {\n      type: Boolean,\n      default: false\n    },\n    inline: {\n      type: Boolean,\n      default: false\n    },\n    formwidth: {\n      type: String\n    }\n  },\n  data() {\n    return {\n      // oldData: this.$copy(this.value),\n      data: this.value,\n      exportErrorMsg: []\n    };\n  },\n  computed: {},\n  watch: {\n    value: {\n      handler: function(n, o) {\n        if (\n          this.value != this.data &&\n          JSON.stringify(this.data) != JSON.stringify(this.value)\n        ) {\n          this.data = this.value;\n        }\n      },\n      deep: true\n    },\n    data: function(n, o) {\n      this.$emit('input', this.data);\n    },\n    disabled: function() {\n      this.$nextTick(() => {\n        this.setDisabled();\n      });\n    }\n  },\n  created() {\n    this.init();\n  },\n  mounted() {\n    this.setDisabled();\n  },\n  methods: {\n    init() {\n      // let vNodes = [];\n      // // 过滤非dj-form-item的节点\n      // this.$slots.default && this.$slots.default.forEach((vNode, index) => {\n      //   if (vNode.componentOptions && vNode.componentOptions.tag == 'dj-form-item') {\n      //     vNodes.push(vNode);\n      //   }\n      // });\n      // this._children = vNodes;\n      // this.$slots.default = vNodes;\n      this.fields.forEach((field, index) => {\n        field.contents.forEach((content) => {\n          content.event = content.event || {};\n          const change = content.event.change;\n          content.event.change = () => {\n            this.$children[index].validate();\n            change && change();\n          };\n        });\n      });\n    },\n    reset() {\n      // this.data = this.$copy(this.oldData);\n      if (this.$children.length) {\n        this.$children.forEach((item) => {\n          item.reset();\n        });\n      } else {\n        this.fields.forEach((field, index) => {\n          this.$refs[`formItem${index}`][0].reset();\n        });\n      }\n    },\n    resetValidate() {\n      if (this.$children.length) {\n        this.$children.forEach((item) => {\n          item.resetValidate();\n        });\n      } else {\n        this.fields.forEach((field, index) => {\n          this.$refs[`formItem${index}`][0].resetValidate();\n        });\n      }\n    },\n    validate() {\n      let checked = true;\n      this.exportErrorMsg = [];\n      if (this.$children.length) {\n        this.$children.forEach((item) => {\n          if (!item.validate()) {\n            this.exportErrorMsg.push(item.errorMsg);\n            checked = false;\n          }\n        });\n        // 自动定位最开始错误区域\n        let doms = this.$children.find((item) => item.errorMsg);\n        doms?.$el.scrollIntoView?.({\n          behavior: 'smooth',\n          block: 'center'\n        });\n      } else {\n        this.fields.forEach((field, index) => {\n          if (!this.$refs[`formItem${index}`][0].validate()) {\n            checked = false;\n          }\n        });\n      }\n      return checked;\n    },\n    setDisabled() {\n      if (this.$children.length) {\n        this.$children.forEach((item) => {\n          item.setDisabled(this.disabled);\n        });\n      } else {\n        this.fields.forEach((field, index) => {\n          this.$refs[`formItem${index}`][0].setDisabled(this.disabled);\n        });\n      }\n    },\n    getErrorMsg() {\n      let msgList = [];\n      let msg = '';\n      if (this.$children.length) {\n        this.$children.forEach((item) => {\n          msg = item.getErrorMsg();\n          if (msg) {\n            msgList.push(msg);\n          }\n        });\n      } else {\n        this.fields.forEach((field, index) => {\n          msg = this.$refs[`formItem${index}`][0].getErrorMsg();\n          if (msg) {\n            msgList.push(msg);\n          }\n        });\n      }\n      return msgList;\n    }\n  }\n};\n</script>\n\n<style lang=\"less\" scoped></style>\n"]}]}