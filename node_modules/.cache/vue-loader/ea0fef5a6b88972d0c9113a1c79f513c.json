{"remainingRequest":"/Users/wangjunxia/work-github/dj-design/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/wangjunxia/work-github/dj-design/packages/select/src/select.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/wangjunxia/work-github/dj-design/packages/select/src/select.vue","mtime":1673509764349},{"path":"/Users/wangjunxia/work-github/dj-design/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/wangjunxia/work-github/dj-design/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/wangjunxia/work-github/dj-design/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/wangjunxia/work-github/dj-design/node_modules/vue-loader/lib/index.js","mtime":1655715099000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnZGpTZWxlY3QnLAogIHByb3ZpZGUoKSB7CiAgICByZXR1cm4gewogICAgICAnc2VsZWN0JzogdGhpcwogICAgfTsKICB9LAogIHByb3BzOiB7CiAgICB3aWR0aDogewogICAgICB0eXBlOiBTdHJpbmcKICAgIH0sCiAgICBoZWlnaHQ6IHsKICAgICAgdHlwZTogU3RyaW5nCiAgICB9LAogICAgbm9Cb3JkZXJlZDogewogICAgICB0eXBlOiBCb29sZWFuLAogICAgICBkZWZhdWx0OiBmYWxzZQogICAgfSwKICAgIHJlbW90ZU1ldGhvZDogewogICAgICB0eXBlOiBGdW5jdGlvbgogICAgfSwKICAgIGZpbHRlcmFibGU6IHsKICAgICAgdHlwZTogQm9vbGVhbiwKICAgICAgZGVmYXVsdDogZmFsc2UKICAgIH0sCiAgICBsb2FkaW5nOiB7CiAgICAgIHR5cGU6IEJvb2xlYW4sCiAgICAgIGRlZmF1bHQ6IGZhbHNlCiAgICB9LAogICAgbm9kYXRhOiB7CiAgICAgIHR5cGU6IFN0cmluZywKICAgICAgZGVmYXVsdDogJ+acquWMuemFjeWIsOaVsOaNricKICAgIH0sCiAgICBjaGVja2hpZGU6IHsKICAgICAgdHlwZTogQm9vbGVhbiwKICAgICAgZGVmYXVsdDogZmFsc2UKICAgIH0sCiAgICBzZWFyY2hhYmxlOiB7CiAgICAgIHR5cGU6IEJvb2xlYW4sCiAgICAgIGRlZmF1bHQ6IGZhbHNlCiAgICB9LAogICAgbXVsdGlwbGU6IHsKICAgICAgdHlwZTogQm9vbGVhbiwKICAgICAgZGVmYXVsdDogZmFsc2UKICAgIH0sCiAgICBtdWx0aXBsZUFsbDogewogICAgICB0eXBlOiBCb29sZWFuLAogICAgICBkZWZhdWx0OiBmYWxzZQogICAgfSwKICAgIGNvbGxhcHNlOiB7CiAgICAgIHR5cGU6IEJvb2xlYW4sCiAgICAgIGRlZmF1bHQ6IGZhbHNlCiAgICB9LAogICAgY2xlYXJhYmxlOiB7CiAgICAgIHR5cGU6IEJvb2xlYW4sCiAgICAgIGRlZmF1bHQ6IGZhbHNlCiAgICB9LAogICAgdmFsdWU6IHsKICAgICAgdHlwZTogW051bWJlcixTdHJpbmcsQXJyYXksQm9vbGVhbl0sCiAgICAgIGRlZmF1bHQ6ICcnCiAgICB9LAogICAgZGlzYWJsZWQ6IHsKICAgICAgdHlwZTogQm9vbGVhbiwKICAgICAgZGVmYXVsdDogZmFsc2UKICAgIH0sCiAgICBwbGFjZWhvbGRlcjogewogICAgICB0eXBlOiBTdHJpbmcsCiAgICAgIGRlZmF1bHQ6ICfor7fpgInmi6knCiAgICB9LAogICAgbGltaXQ6IHsKICAgICAgdHlwZTogTnVtYmVyLAogICAgICBkZWZhdWx0OiAwCiAgICB9LAogICAgc2l6ZTogewogICAgICB0eXBlOiBTdHJpbmcsCiAgICAgIGRlZmF1bHQ6ICcnCiAgICB9LAogICAgbmFtZTogewogICAgICB0eXBlOiBTdHJpbmcsCiAgICAgIGRlZmF1bHQ6ICcnCiAgICB9LAogICAgekluZGV4OiB7CiAgICAgIHR5cGU6IE51bWJlciwKICAgICAgZGVmYXVsdDogNzkKICAgIH0KICB9LAogIGRhdGEoKXsKICAgIHJldHVybiB7CiAgICAgIGlzRm9jdXM6IGZhbHNlLAogICAgICBtb2RlbDogJycsCiAgICAgIG1vZGVsUzogJycsCiAgICAgIHNlbGVjdGVkOiAnJywKICAgICAgb3B0aW9uc0NvdW50OiAwLAogICAgICBmaWx0ZXJDb3VudDogMCwKICAgICAgaW5wdXRIb3ZlcmluZzogZmFsc2UsCiAgICAgIGNoZWNrQXJyOiBbXSwKICAgICAgdmlzaWJsZTogZmFsc2UsCiAgICAgIHRyaWdnZXJFbG06IG51bGwsCiAgICAgIGNoaWxkc1NvcnQ6IFtdLAogICAgICBjaGlsZFNvcnRMZW46IFtdLAogICAgICBudW1TdGF0ZTogMCwKICAgICAgcFdpdGNoOiAyMjAgLy8g5rCU5rOh5a695bqmCiAgICB9OwogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIGlzTXVsdGlwbGUoKSB7CiAgICAgIHJldHVybiB0aGlzLm11bHRpcGxlIHx8IHRoaXMubXVsdGlwbGVBbGw7CiAgICB9LAogICAgaXNNdWx0aXBsZVRhZygpIHsKICAgICAgcmV0dXJuIHRoaXMuY2hlY2tBcnIubGVuZ3RoICYmIHRoaXMuaXNNdWx0aXBsZTsKICAgIH0sCiAgICBpc0Rpc2FibGVkKCl7CiAgICAgIHJldHVybiB0aGlzLmRpc2FibGVkOwogICAgfSwKICAgIHNob3dDbG9zZSgpIHsKICAgICAgcmV0dXJuIHRoaXMuaW5wdXRIb3ZlcmluZyAmJiB0aGlzLmNoZWNrQXJyLmxlbmd0aCAmJiB0aGlzLmNsZWFyYWJsZSAmJiAhdGhpcy5pc0Rpc2FibGVkOwogICAgfSwKICAgIGlzU2VsZWxjdCgpIHsKICAgICAgcmV0dXJuIHRoaXMuY2hlY2tBcnIubGVuZ3RoID09IHRoaXMuY2hpbGRTb3J0TGVuLmxlbmd0aCAmJiB0aGlzLmlzTXVsdGlwbGU7CiAgICB9CiAgfSwKICBtb3VudGVkKCl7CiAgICB0aGlzLiRuZXh0VGljaygoKSA9PiB7CiAgICAgIHRoaXMudHJpZ2dlckVsbSA9IHRoaXMuJGVsLnF1ZXJ5U2VsZWN0b3IoJy5kai1zZWxlY3QtYm94Jyk7CiAgICB9KTsKICAgIHRoaXMuJG9uKCdoYW5kbGVPcHRpb25DbGljaycsIHRoaXMuaGFuZGxlT3B0aW9uU2VsZWN0KTsKICB9LAogIG1ldGhvZHM6IHsKICAgIGhhbmRsZVRhZ0ZvY3VzKCkgewogICAgICB0aGlzLmlzRm9jdXMgPSB0cnVlOwogICAgfSwKICAgIGFsbHNlbGVjdEhhbmRsZSgpIHsKICAgICAgaWYgKHRoaXMuaXNTZWxlbGN0KSB7CiAgICAgICAgdGhpcy4kZW1pdCgnaW5wdXQnLCBbXSk7CiAgICAgICAgcmV0dXJuOwogICAgICB9CiAgICAgIGxldCBjYyA9IHRoaXMuY2hpbGRzU29ydEZpbHRlcignYWxsc2VsZWN0SGFuZGxlJykubWFwKGVsID0+IHsKICAgICAgICByZXR1cm4gZWwudmFsdWU7CiAgICAgIH0pOwogICAgICB0aGlzLiRlbWl0KCdpbnB1dCcsY2MpOwogICAgfSwKICAgIGNoaWxkc1NvcnRGaWx0ZXIobmFtZSkgewogICAgICAvLyBjb25zb2xlLmxvZyhuYW1lKTsKICAgICAgaWYgKCF0aGlzLiRjaGlsZHJlblswXSkgcmV0dXJuIFtdOwogICAgICBsZXQgY2hpbGRzID0gdGhpcy4kY2hpbGRyZW5bMF0uJGNoaWxkcmVuOwogICAgICBsZXQgZyA9IFtdOwogICAgICBjaGlsZHMuZm9yRWFjaChlbCA9PiB7CiAgICAgICAgZyA9IGVsLiRjaGlsZHJlbi5sZW5ndGggPyBbLi4uZywuLi5lbC4kY2hpbGRyZW5dIDogWy4uLmcsIC4uLltlbF1dOwogICAgICB9KTsKICAgICAgdGhpcy5jaGlsZFNvcnRMZW4gPSB0aGlzLmNoaWxkU29ydChnKTsKICAgICAgcmV0dXJuIHRoaXMuY2hpbGRTb3J0TGVuOwogICAgfSwKICAgIGNoaWxkU29ydCh2YWwpewogICAgICBsZXQgcyA9IFtdOwogICAgICB2YWwuZm9yRWFjaChlbCA9PiB7CiAgICAgICAgLy8g6L+H5rukdGFnL2lucHV05qCH562+CiAgICAgICAgaWYgKGVsLiR2bm9kZS5jb21wb25lbnRPcHRpb25zLnRhZyAhPSAnZGotdGFnJyAmJiBlbC4kZWw/LmNsYXNzTmFtZT8uaW5kZXhPZignZGotaW5wdXQnKSkgewogICAgICAgICAgbGV0IHN0ID0gdGhpcy52YWx1ZVMgJiYgdGhpcy52YWx1ZVMuZmluZEluZGV4KCAobik9PiBuPT1lbC52YWx1ZSApOwogICAgICAgICAgc3QgIT0gJy0xJyA/IHMuc3BsaWNlKHN0KzEsMCxlbCkgOiBzLnB1c2goZWwpOwogICAgICAgIH0KICAgICAgfSk7CiAgICAgIHJldHVybiBzOwogICAgfSwKICAgIGNsZWFyYWJsZUhhbmRsZXIoKSB7CiAgICAgIHRoaXMuaXNGb2N1cz0gZmFsc2U7CiAgICAgIHRoaXMuaGFuZGxlT3B0aW9uU2VsZWN0KFtdKTsKICAgICAgdGhpcy4kZW1pdCgnY2xlYXInKTsKICAgIH0sCiAgICBoYW5kbGVGb2N1cyh2YWwsIGJvKSB7CiAgICAgIHRoaXMubW9kZWxTID0gJyc7CiAgICAgIHRoaXMuZmlsdGVyQ291bnQgPSB0cnVlOwogICAgICB0aGlzLmNoaWxkU29ydExlbi5mb3JFYWNoKGl0ZW09PnsKICAgICAgICBpdGVtLiRlbWl0KCdxdWVyeUNoYW5nZScsIG51bGwpOwogICAgICB9KTsKICAgICAgIWJvICYmIHRoaXMuJGVtaXQoJ2ZvY3VzJywgdmFsKTsKICAgIH0sCiAgICBoYW5kbGVCbHVyKCl7CiAgICAgIHRoaXMuJGVtaXQoJ2JsdXInLCB0aGlzKTsKICAgIH0sCiAgICBkZWxldFRhZ0NoYW5nZSh2YWwpIHsKICAgICAgdGhpcy5oYW5kbGVPcHRpb25TZWxlY3QodGhpcy5jaGVja0FyciwgdmFsKTsKICAgICAgdGhpcy4kZW1pdCgnY2xvc2UnLCB2YWwsIHRoaXMuc2VsZWN0ZWQpOwogICAgICBpZiAoIXRoaXMuc2VsZWN0ZWQubGVuZ3RoKSB0aGlzLmlzRm9jdXM9IGZhbHNlOwogICAgfSwKICAgIG1hbmFnZVBsYWNlaG9sZGVyKHZhbCl7CiAgICAgIGxldCBjcyA9IHRoaXMuY2hpbGRTb3J0TGVuOwogICAgICB0aGlzLmZpbHRlckNvdW50ID0gY3MubGVuZ3RoOwogICAgICBjcy5mb3JFYWNoKGl0ZW09PnsKICAgICAgICBpdGVtLiRlbWl0KCdxdWVyeUNoYW5nZScsIHRoaXMubW9kZWxTKTsKICAgICAgfSk7CiAgICB9LAogICAgaGFuZGxlT3B0aW9uU2VsZWN0KG9wdGlvbiwgb3RoaXMsIHNvdXJjZSkgewogICAgICBpZiAodGhpcy5pc011bHRpcGxlKSB7CiAgICAgICAgaWYgKG90aGlzICYmIHRoaXMuc2VsZWN0ZWQuaW5jbHVkZXMob3RoaXMudmFsdWUpKSB7CiAgICAgICAgICB0aGlzLmNoZWNrQXJyID0gb3B0aW9uLmZpbHRlcigoZWxlKSA9PiB7CiAgICAgICAgICAgIHJldHVybiBlbGUudmFsdWUgIT0gb3RoaXMudmFsdWU7CiAgICAgICAgICB9KTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgdGhpcy5jaGVja0FyciA9IG9wdGlvbjsKICAgICAgICB9CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5jaGVja0FyciA9IG90aGlzID8gW290aGlzXSA6IG9wdGlvbjsKICAgICAgfQogICAgICBsZXQgeyB2YWx1ZSwgbGFiZWwgfSA9IHRoaXMuY2hlY2tBcnIucmVkdWNlKChyLCBlLCBpKSA9PiB7CiAgICAgICAgaWYgKGUubGFiZWwgIT09IHZvaWQgMCAmJiBlLnZhbHVlICE9PSB2b2lkIDApIHsKICAgICAgICAgIHIudmFsdWUucHVzaChlLnZhbHVlKTsKICAgICAgICAgIHIubGFiZWwucHVzaChlLmxhYmVsKTsKICAgICAgICB9CiAgICAgICAgcmV0dXJuIHI7CiAgICAgIH0sIHsKICAgICAgICB2YWx1ZTogW10sCiAgICAgICAgbGFiZWw6IFtdCiAgICAgIH0pOwogICAgICB0aGlzLnNlbGVjdGVkID12YWx1ZTsKICAgICAgdGhpcy5tb2RlbD1sYWJlbDsKICAgICAgbGV0IHZhbGIgPSB0aGlzLmlzTXVsdGlwbGUgPyB2YWx1ZSB8fCBbXSA6IHZhbHVlWzBdOwogICAgICBpZiAob3RoaXMgIT09IG51bGwgJiYgdmFsYiAhPT0gdGhpcy52YWx1ZSkgewogICAgICAgIHRoaXMuJGVtaXQoJ2lucHV0Jyx2YWxiKTsKICAgICAgICB0aGlzLiRlbWl0KCdjaGFuZ2UnLHZhbGIsIHRoaXMuaXNNdWx0aXBsZSA/IHRoaXMuY2hlY2tBcnIgOiB0aGlzLmNoZWNrQXJyWzBdICk7CiAgICAgIH0KICAgICAgdGhpcy5jaGlsZHNTb3J0RmlsdGVyKCdoYW5kbGVPcHRpb25TZWxlY3QnKS5mb3JFYWNoKGl0ZW09PnsKICAgICAgICBpdGVtLiRlbWl0KCdyZW1vdmVDbGFzcycsdmFsdWUpOwogICAgICAgIGlmICh2YWx1ZS5pbmNsdWRlcyhpdGVtLnZhbHVlKSl7CiAgICAgICAgICBpdGVtLiRlbWl0KCdjaG9vc2VPcHRpb24nLHZhbHVlKTsKICAgICAgICB9CiAgICAgIH0pOwoKICAgICAgdGhpcy4kbmV4dFRpY2soKCkgPT4gewogICAgICAgIHRoaXMucFdpdGNoID0gdGhpcy4kZWwuY2xpZW50V2lkdGg7CiAgICAgIH0pOwogICAgfSwKICAgIHNsb3RVcGRhdGVIb29rKCkgewogICAgICB0aGlzLm51bVN0YXRlID0gdGhpcy4kY2hpbGRyZW5bMF0uJGNoaWxkcmVuLmxlbmd0aDsKICAgIH0KICB9LAogIHdhdGNoOiB7CiAgICBudW1TdGF0ZShuLG8pIHsKICAgICAgdGhpcy5jaGlsZHNTb3J0ID0gW107CiAgICB9LAogICAgaXNGb2N1cyh2YWwpewogICAgICB0aGlzLiRlbWl0KHZhbCA/ICdmb2N1cy1jaGFuZ2UnIDogJ2JsdXItY2hhbmdlJyx0aGlzKTsKICAgIH0sCiAgICBjaGlsZHNTb3J0KG4sbyl7CiAgICAgIHRoaXMuY2hlY2tBcnIgPSBbXTsKICAgICAgdGhpcy5jaGlsZHNTb3J0RmlsdGVyKCdjaGlsZHNTb3J0JykuZm9yRWFjaChpdGVtPT57CiAgICAgICAgaWYgKHRoaXMudmFsdWVTPy5pbmNsdWRlcyhpdGVtLnZhbHVlKSl7CiAgICAgICAgICB0aGlzLmNoZWNrQXJyLnB1c2goaXRlbS4kb3B0aW9ucy5wcm9wc0RhdGEpOwogICAgICAgIH0KICAgICAgfSk7CiAgICAgIHRoaXMuaGFuZGxlT3B0aW9uU2VsZWN0KHRoaXMuY2hlY2tBcnIsIG51bGwsICd3YXRjaCcpOwogICAgfSwKICAgIGNoaWxkU29ydExlbihuLCBvKSB7CiAgICAgIGlmIChuICE9IG8pIHsKICAgICAgICB0aGlzLiRyZWZzLnBvcG92ZXJJdGVtPy5jb21wdXRlUG9zaXRpb24oKTsKICAgICAgfQogICAgfSwKICAgIG1vZGVsUyhuLCBvKSB7CiAgICAgIGlmIChuICE9IG8pIHsKICAgICAgICB0aGlzLiRyZWZzLnBvcG92ZXJJdGVtPy5jb21wdXRlUG9zaXRpb24oKTsKICAgICAgfQogICAgfSwKICAgIHZhbHVlOiB7CiAgICAgIGhhbmRsZXI6IGZ1bmN0aW9uKG5ld1ZhbCxvbGRWYWwpIHsKICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHsKICAgICAgICAgIHRoaXMuY2hlY2tBcnIgPSBbXTsKICAgICAgICAgIHRoaXMudmFsdWVTID0gQXJyYXkuaXNBcnJheShuZXdWYWwpID8gbmV3VmFsIDogW25ld1ZhbF07CiAgICAgICAgICB0aGlzLiRuZXh0VGljaygoKSA9PiB7CiAgICAgICAgICAgIHRoaXMuY2hpbGRzU29ydCA9IFtdOwogICAgICAgICAgICAvLyB0aGlzLmNoaWxkc1NvcnQgPSB0aGlzLmNoaWxkc1NvcnRGaWx0ZXIoJ3ZhbHVlJyk7CiAgICAgICAgICB9KTsKICAgICAgICB9KTsKICAgICAgfSwKICAgICAgZGVlcDogdHJ1ZSwKICAgICAgaW1tZWRpYXRlOiB0cnVlCiAgICB9CiAgfQp9Owo="},{"version":3,"sources":["select.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2FA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"select.vue","sourceRoot":"packages/select/src","sourcesContent":["<template>\n  <div class=\"dj-select-group\" :style=\"{width:width}\" :class=\"size ? `dj-select--${size}` : ''\" @focus=\"handleFocus\">\n    <div\n      class=\"dj-select-box\"\n      @mouseenter=\"inputHovering = true\"\n      @mouseleave=\"inputHovering = false\"\n      :class=\"[\n        {\n        'is-focus':isFocus,\n        'is-disabled':isDisabled,\n        'no-border': noBordered,\n        }\n        ]\"\n      >\n      <div class=\"dj-select-original-box\">\n        <div class=\"dj-select-original-tagin\" v-if=\"isMultipleTag\">\n          <dj-tag\n            :size=\"size || 'medium'\"\n            :closable=\"true\"\n            v-for=\"(item, i) in (collapse ? [checkArr[0]] : checkArr)\"\n            :key=\"i\"\n            :disabled=\"isDisabled\"\n            @click=\"handleTagFocus\"\n            @close=\"deletTagChange(item)\"\n          >{{item.label}}</dj-tag>\n          <dj-tag\n            :size=\"size || 'medium'\"\n            :disabled=\"isDisabled\"\n            v-if=\"checkArr.length > 1 && collapse\"\n          >+{{checkArr.length -1}}</dj-tag>\n        </div>\n        <input type=\"hidden\" :value=\"value\" :name=\"name\"/>\n        <input\n          :style=\"{height: height}\"\n          class=\"dj-select-original\"\n          type=\"text\"\n          v-model=\"model\"\n          readonly\n          :disabled=\"isDisabled\"\n          :placeholder=\"placeholder\"\n          @focus=\"handleFocus\"\n          @blur=\"handleBlur\"\n          @input=\"managePlaceholder\"\n          :class=\"{'is-disabled-options':isDisabled,'is-multiple-options': isMultipleTag}\">\n      </div>\n      <div class=\"dj-select-iconfont\">\n        <i class=\"arrow-bottom iconfont\" v-if=\"!showClose\"></i>\n        <i class=\"iconfont close-solid\" @click.stop=\"clearableHandler\" v-if=\"showClose\"></i>\n      </div>\n    </div>\n    <dj-popover\n      className=\"dj-down-popover\"\n      trigger=\"click\"\n      v-if=\"triggerElm\"\n      ref=\"popoverItem\"\n      :disabled=\"disabled\"\n      :reference=\"triggerElm\"\n      :visible.sync=\"isFocus\"\n      append-to-body\n      :width=\"pWitch || $el.clientWidth\"\n      placement=\"bottom\"\n      :zIndex=\"zIndex\"\n    >\n      <div class=\"dj-select-down-inner\"  slot=\"content\" v-if=\"$children[0]\">\n        <div v-if=\"searchable\" class=\"item-search\">\n          <dj-input\n            v-model=\"modelS\"\n            placeholder=\"可搜索\"\n            style=\"width: 100%\"\n            :size=\"size\"\n            @focus=\"handleFocus($event, true)\"\n            @input=\"managePlaceholder\"\n            icon=\"search2\"/>\n        </div>\n        <ul class=\"dj-select-down-ul\" v-show=\"$children[0].$children.length >= (searchable ? 2 : 1) && filterCount\">\n          <ul class=\"dj-select-group__wrapall\" v-if=\"multipleAll\">\n            <li\n            class=\"dj-select-down-all\"\n            :class=\"{\n              'is-select':isSelelct\n            }\"\n            @click=\"allselectHandle\">全选</li>\n          </ul>\n          <slot></slot>\n        </ul>\n        <div class=\"empty-panel\" v-if=\"$children[0].$children.length < (searchable ? 2 : 1) || !filterCount\" >{{ $children[0].$children.length < (searchable ? 2 : 1) ? '无数据' : nodata }}</div>\n      </div>\n    </dj-popover>\n  </div>\n</template>\n<script>\nexport default {\n  name: 'djSelect',\n  provide() {\n    return {\n      'select': this\n    };\n  },\n  props: {\n    width: {\n      type: String\n    },\n    height: {\n      type: String\n    },\n    noBordered: {\n      type: Boolean,\n      default: false\n    },\n    remoteMethod: {\n      type: Function\n    },\n    filterable: {\n      type: Boolean,\n      default: false\n    },\n    loading: {\n      type: Boolean,\n      default: false\n    },\n    nodata: {\n      type: String,\n      default: '未匹配到数据'\n    },\n    checkhide: {\n      type: Boolean,\n      default: false\n    },\n    searchable: {\n      type: Boolean,\n      default: false\n    },\n    multiple: {\n      type: Boolean,\n      default: false\n    },\n    multipleAll: {\n      type: Boolean,\n      default: false\n    },\n    collapse: {\n      type: Boolean,\n      default: false\n    },\n    clearable: {\n      type: Boolean,\n      default: false\n    },\n    value: {\n      type: [Number,String,Array,Boolean],\n      default: ''\n    },\n    disabled: {\n      type: Boolean,\n      default: false\n    },\n    placeholder: {\n      type: String,\n      default: '请选择'\n    },\n    limit: {\n      type: Number,\n      default: 0\n    },\n    size: {\n      type: String,\n      default: ''\n    },\n    name: {\n      type: String,\n      default: ''\n    },\n    zIndex: {\n      type: Number,\n      default: 79\n    }\n  },\n  data(){\n    return {\n      isFocus: false,\n      model: '',\n      modelS: '',\n      selected: '',\n      optionsCount: 0,\n      filterCount: 0,\n      inputHovering: false,\n      checkArr: [],\n      visible: false,\n      triggerElm: null,\n      childsSort: [],\n      childSortLen: [],\n      numState: 0,\n      pWitch: 220 // 气泡宽度\n    };\n  },\n  computed: {\n    isMultiple() {\n      return this.multiple || this.multipleAll;\n    },\n    isMultipleTag() {\n      return this.checkArr.length && this.isMultiple;\n    },\n    isDisabled(){\n      return this.disabled;\n    },\n    showClose() {\n      return this.inputHovering && this.checkArr.length && this.clearable && !this.isDisabled;\n    },\n    isSelelct() {\n      return this.checkArr.length == this.childSortLen.length && this.isMultiple;\n    }\n  },\n  mounted(){\n    this.$nextTick(() => {\n      this.triggerElm = this.$el.querySelector('.dj-select-box');\n    });\n    this.$on('handleOptionClick', this.handleOptionSelect);\n  },\n  methods: {\n    handleTagFocus() {\n      this.isFocus = true;\n    },\n    allselectHandle() {\n      if (this.isSelelct) {\n        this.$emit('input', []);\n        return;\n      }\n      let cc = this.childsSortFilter('allselectHandle').map(el => {\n        return el.value;\n      });\n      this.$emit('input',cc);\n    },\n    childsSortFilter(name) {\n      // console.log(name);\n      if (!this.$children[0]) return [];\n      let childs = this.$children[0].$children;\n      let g = [];\n      childs.forEach(el => {\n        g = el.$children.length ? [...g,...el.$children] : [...g, ...[el]];\n      });\n      this.childSortLen = this.childSort(g);\n      return this.childSortLen;\n    },\n    childSort(val){\n      let s = [];\n      val.forEach(el => {\n        // 过滤tag/input标签\n        if (el.$vnode.componentOptions.tag != 'dj-tag' && el.$el?.className?.indexOf('dj-input')) {\n          let st = this.valueS && this.valueS.findIndex( (n)=> n==el.value );\n          st != '-1' ? s.splice(st+1,0,el) : s.push(el);\n        }\n      });\n      return s;\n    },\n    clearableHandler() {\n      this.isFocus= false;\n      this.handleOptionSelect([]);\n      this.$emit('clear');\n    },\n    handleFocus(val, bo) {\n      this.modelS = '';\n      this.filterCount = true;\n      this.childSortLen.forEach(item=>{\n        item.$emit('queryChange', null);\n      });\n      !bo && this.$emit('focus', val);\n    },\n    handleBlur(){\n      this.$emit('blur', this);\n    },\n    deletTagChange(val) {\n      this.handleOptionSelect(this.checkArr, val);\n      this.$emit('close', val, this.selected);\n      if (!this.selected.length) this.isFocus= false;\n    },\n    managePlaceholder(val){\n      let cs = this.childSortLen;\n      this.filterCount = cs.length;\n      cs.forEach(item=>{\n        item.$emit('queryChange', this.modelS);\n      });\n    },\n    handleOptionSelect(option, othis, source) {\n      if (this.isMultiple) {\n        if (othis && this.selected.includes(othis.value)) {\n          this.checkArr = option.filter((ele) => {\n            return ele.value != othis.value;\n          });\n        } else {\n          this.checkArr = option;\n        }\n      } else {\n        this.checkArr = othis ? [othis] : option;\n      }\n      let { value, label } = this.checkArr.reduce((r, e, i) => {\n        if (e.label !== void 0 && e.value !== void 0) {\n          r.value.push(e.value);\n          r.label.push(e.label);\n        }\n        return r;\n      }, {\n        value: [],\n        label: []\n      });\n      this.selected =value;\n      this.model=label;\n      let valb = this.isMultiple ? value || [] : value[0];\n      if (othis !== null && valb !== this.value) {\n        this.$emit('input',valb);\n        this.$emit('change',valb, this.isMultiple ? this.checkArr : this.checkArr[0] );\n      }\n      this.childsSortFilter('handleOptionSelect').forEach(item=>{\n        item.$emit('removeClass',value);\n        if (value.includes(item.value)){\n          item.$emit('chooseOption',value);\n        }\n      });\n\n      this.$nextTick(() => {\n        this.pWitch = this.$el.clientWidth;\n      });\n    },\n    slotUpdateHook() {\n      this.numState = this.$children[0].$children.length;\n    }\n  },\n  watch: {\n    numState(n,o) {\n      this.childsSort = [];\n    },\n    isFocus(val){\n      this.$emit(val ? 'focus-change' : 'blur-change',this);\n    },\n    childsSort(n,o){\n      this.checkArr = [];\n      this.childsSortFilter('childsSort').forEach(item=>{\n        if (this.valueS?.includes(item.value)){\n          this.checkArr.push(item.$options.propsData);\n        }\n      });\n      this.handleOptionSelect(this.checkArr, null, 'watch');\n    },\n    childSortLen(n, o) {\n      if (n != o) {\n        this.$refs.popoverItem?.computePosition();\n      }\n    },\n    modelS(n, o) {\n      if (n != o) {\n        this.$refs.popoverItem?.computePosition();\n      }\n    },\n    value: {\n      handler: function(newVal,oldVal) {\n        setTimeout(() => {\n          this.checkArr = [];\n          this.valueS = Array.isArray(newVal) ? newVal : [newVal];\n          this.$nextTick(() => {\n            this.childsSort = [];\n            // this.childsSort = this.childsSortFilter('value');\n          });\n        });\n      },\n      deep: true,\n      immediate: true\n    }\n  }\n};\n</script>\n"]}]}