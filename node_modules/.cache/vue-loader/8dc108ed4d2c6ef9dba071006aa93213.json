{"remainingRequest":"/Users/wangjunxia/work-github/dj-design/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/wangjunxia/work-github/dj-design/packages/tabs/src/tab.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/wangjunxia/work-github/dj-design/packages/tabs/src/tab.vue","mtime":1673509764359},{"path":"/Users/wangjunxia/work-github/dj-design/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/wangjunxia/work-github/dj-design/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/wangjunxia/work-github/dj-design/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/wangjunxia/work-github/dj-design/node_modules/vue-loader/lib/index.js","mtime":1655715099000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnZGpUYWInLAogIHByb3BzOiB7CiAgICB2YWx1ZTogewogICAgICB0eXBlOiBbU3RyaW5nLCBOdW1iZXJdLAogICAgICByZXF1aXJlZDogdHJ1ZQogICAgfSwKICAgIHR5cGU6IHsKICAgICAgdHlwZTogW1N0cmluZ10sCiAgICAgIGRlZmF1bHQ6ICdib3JkZXInCiAgICB9LAogICAgYm9yZGVyOiB7CiAgICAgIHR5cGU6IFtCb29sZWFuXSwKICAgICAgZGVmYXVsdDogZmFsc2UKICAgIH0sCiAgICB2aXNpYmxlOiB7CiAgICAgIHR5cGU6IFtCb29sZWFuXSwKICAgICAgZGVmYXVsdDogZmFsc2UKICAgIH0sCiAgICB0YWJQb3NpdGlvbjogewogICAgICB0eXBlOiBbU3RyaW5nXSwKICAgICAgZGVmYXVsdDogJ3RvcCcKICAgIH0sCiAgICBsYXp5OiB7CiAgICAgIHR5cGU6IFtCb29sZWFuXSwKICAgICAgZGVmYXVsdDogZmFsc2UKICAgIH0KICB9LAogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBjdXJyZW50TmFtZTogdGhpcy52YWx1ZSwKICAgICAgbmF2TGlzdDogW10sCiAgICAgIHNlbGY6IG51bGwKICAgIH07CiAgfSwKICBjb21wb25lbnRzOiB7CiAgICBSZW5kZXJEb206IHsKICAgICAgcHJvcHM6IHsKICAgICAgICB2Tm9kZTogW0FycmF5LCBTdHJpbmcsIE9iamVjdCwgTnVtYmVyXQogICAgICB9LAogICAgICByZW5kZXIoaCkgewogICAgICAgIGlmICh0eXBlb2YgdGhpcy52Tm9kZSA9PT0gJ29iamVjdCcpIHsKICAgICAgICAgIHJldHVybiB0aGlzLnZOb2RlOwogICAgICAgIH0KICAgICAgICByZXR1cm4gaCgnZGl2JywgdGhpcy52Tm9kZSk7CiAgICAgIH0KICAgIH0KICB9LAogIGNvbXB1dGVkOiB7CiAgICBiYXJTdHlsZSgpewogICAgICBpZiAodGhpcy5zZWxmICYmIHRoaXMuaXNQb3NpdGlvbikgewogICAgICAgIGxldCBvZmZzZXQgPSB0aGlzLnNlbGYudGFyZ2V0OwogICAgICAgIHJldHVybiB7CiAgICAgICAgICAnaGVpZ2h0JzogYCR7b2Zmc2V0Lm9mZnNldEhlaWdodH1weGAsCiAgICAgICAgICAndHJhbnNmb3JtJzogYHRyYW5zbGF0ZVkoJHtvZmZzZXQub2Zmc2V0VG9wfXB4KWAKICAgICAgICB9OwogICAgICB9CiAgICAgIGlmICh0aGlzLnNlbGYgJiYgdGhpcy50eXBlID09ICdib3JkZXInKXsKICAgICAgICBsZXQgb2Zmc2V0ID0gdGhpcy5zZWxmLnRhcmdldDsKICAgICAgICByZXR1cm4gewogICAgICAgICAgJ3dpZHRoJzogYCR7b2Zmc2V0Lm9mZnNldFdpZHRofXB4YCwKICAgICAgICAgICd0cmFuc2Zvcm0nOiBgdHJhbnNsYXRlWCgke29mZnNldC5vZmZzZXRMZWZ0fXB4KWAKICAgICAgICB9OwogICAgICB9CiAgICAgIHJldHVybiB7fTsKICAgIH0sCiAgICBpc1Bvc2l0aW9uKCkgewogICAgICByZXR1cm4gdGhpcy50YWJQb3NpdGlvbiA9PSAnbGVmdCcgfHwgdGhpcy50YWJQb3NpdGlvbiA9PSAncmlnaHQnOwogICAgfQogIH0sCiAgbW91bnRlZCgpIHsKICAgIHRoaXMudHlwZSA9PSAnYm9yZGVyJyAmJiB0aGlzLm9mZnNldEFubXQoKTsKICB9LAogIG1ldGhvZHM6IHsKICAgIHJlZnJlc2goKSB7CiAgICAgIHRoaXMuJG5leHRUaWNrKCgpID0+IHsKICAgICAgICB0aGlzLm9mZnNldEFubXQoKTsKICAgICAgfSk7CiAgICB9LAogICAgb2Zmc2V0QW5tdCgpIHsKICAgICAgbGV0IGRvbSA9IHRoaXMuJHJlZnMuYmFyLnF1ZXJ5U2VsZWN0b3IoJy5pcy1hY3RpdmUnKTsKICAgICAgaWYgKGRvbSl7CiAgICAgICAgdGhpcy5zZWxmID0gewogICAgICAgICAgdGFyZ2V0OiB7CiAgICAgICAgICAgIG9mZnNldFdpZHRoOiBkb20ub2Zmc2V0V2lkdGgsCiAgICAgICAgICAgIG9mZnNldExlZnQ6IGRvbS5vZmZzZXRMZWZ0LAogICAgICAgICAgICBvZmZzZXRIZWlnaHQ6IGRvbS5vZmZzZXRIZWlnaHQsCiAgICAgICAgICAgIG9mZnNldFRvcDogZG9tLm9mZnNldFRvcAogICAgICAgICAgfQogICAgICAgIH07CiAgICAgIH0KICAgIH0sCiAgICBoYW5kQ2xpY2soZSwgbmFtZSwgbGFiZWwpIHsKICAgICAgbGV0IG9sZCA9IHsKICAgICAgICB2YWx1ZTogdGhpcy52YWx1ZQogICAgICB9OwogICAgICBpZiAoZS50YXJnZXQubG9jYWxOYW1lID09ICdsaScpIHRoaXMuc2VsZiA9IGU7CiAgICAgIHRoaXMuJGVtaXQoJ2lucHV0JywgbmFtZSk7CiAgICAgIHRoaXMuJGVtaXQoJ3RhYi1jaGFuZ2UnLCBuYW1lLCBsYWJlbCwgZSwgb2xkKTsKICAgICAgdGhpcy5jdXJyZW50TmFtZSA9IG5hbWU7CiAgICB9CiAgfSwKICB3YXRjaDogewogICAgdmFsdWUodmFsKXsKICAgICAgdGhpcy5jdXJyZW50TmFtZSA9IHZhbDsKICAgICAgaWYgKHRoaXMudHlwZSA9PSAnYm9yZGVyJykgewogICAgICAgIHRoaXMuJG5leHRUaWNrKCgpPT57CiAgICAgICAgICB0aGlzLm9mZnNldEFubXQoKTsKICAgICAgICB9KTsKICAgICAgfQogICAgfQogIH0KfTsK"},{"version":3,"sources":["tab.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAuCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"tab.vue","sourceRoot":"packages/tabs/src","sourcesContent":["<template>\n  <div class=\"dj-tab\" :class=\"[`dj-tab-inner_${tabPosition}`]\">\n    <div class=\"dj-tab-content\" v-if=\"tabPosition == 'bottom'\">\n      <slot :border=\"border\" />\n    </div>\n    <div class=\"dj-tab-inner\" ref=\"bar\">\n      <ul\n        class=\"dj-tab-nav\"\n        :class=\"!isPosition && `dj-tab--${type}`\"\n      >\n      <li class=\"active-bar\" :style=\"barStyle\" v-if=\"type == 'border' || isPosition\"></li>\n        <template v-for=\"item in $slots.default\">\n          <li\n            v-if=\"item.componentOptions && item.componentOptions.tag == 'dj-tab-pane'\"\n            :key='item.componentOptions.propsData.name'\n            :class=\"{ 'is-active':item.componentOptions.propsData.name === value }\"\n            @click=\"handClick($event,item.componentOptions.propsData.name,item.componentOptions.propsData.label)\"\n          >\n            <dj-icon\n              fontSize=\"16px\"\n              v-if=\"item.componentOptions.propsData.icon\"\n              :icon='item.componentOptions.propsData.icon'/>\n            <template>{{item.componentOptions.propsData.label}}</template>\n            <div v-if=\"item.componentOptions.children && item.componentOptions.children[0].data && item.componentOptions.children[0].data.slot === 'tab'\">\n              <RenderDom\n                :vNode=\"item.componentOptions.children[0]\">\n              </RenderDom>\n            </div>\n          </li>\n        </template>\n      </ul>\n    </div>\n    <div class=\"dj-tab-content\" v-if=\"tabPosition == 'top' || tabPosition == ''|| isPosition\">\n      <slot :border=\"border\"/>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'djTab',\n  props: {\n    value: {\n      type: [String, Number],\n      required: true\n    },\n    type: {\n      type: [String],\n      default: 'border'\n    },\n    border: {\n      type: [Boolean],\n      default: false\n    },\n    visible: {\n      type: [Boolean],\n      default: false\n    },\n    tabPosition: {\n      type: [String],\n      default: 'top'\n    },\n    lazy: {\n      type: [Boolean],\n      default: false\n    }\n  },\n  data() {\n    return {\n      currentName: this.value,\n      navList: [],\n      self: null\n    };\n  },\n  components: {\n    RenderDom: {\n      props: {\n        vNode: [Array, String, Object, Number]\n      },\n      render(h) {\n        if (typeof this.vNode === 'object') {\n          return this.vNode;\n        }\n        return h('div', this.vNode);\n      }\n    }\n  },\n  computed: {\n    barStyle(){\n      if (this.self && this.isPosition) {\n        let offset = this.self.target;\n        return {\n          'height': `${offset.offsetHeight}px`,\n          'transform': `translateY(${offset.offsetTop}px)`\n        };\n      }\n      if (this.self && this.type == 'border'){\n        let offset = this.self.target;\n        return {\n          'width': `${offset.offsetWidth}px`,\n          'transform': `translateX(${offset.offsetLeft}px)`\n        };\n      }\n      return {};\n    },\n    isPosition() {\n      return this.tabPosition == 'left' || this.tabPosition == 'right';\n    }\n  },\n  mounted() {\n    this.type == 'border' && this.offsetAnmt();\n  },\n  methods: {\n    refresh() {\n      this.$nextTick(() => {\n        this.offsetAnmt();\n      });\n    },\n    offsetAnmt() {\n      let dom = this.$refs.bar.querySelector('.is-active');\n      if (dom){\n        this.self = {\n          target: {\n            offsetWidth: dom.offsetWidth,\n            offsetLeft: dom.offsetLeft,\n            offsetHeight: dom.offsetHeight,\n            offsetTop: dom.offsetTop\n          }\n        };\n      }\n    },\n    handClick(e, name, label) {\n      let old = {\n        value: this.value\n      };\n      if (e.target.localName == 'li') this.self = e;\n      this.$emit('input', name);\n      this.$emit('tab-change', name, label, e, old);\n      this.currentName = name;\n    }\n  },\n  watch: {\n    value(val){\n      this.currentName = val;\n      if (this.type == 'border') {\n        this.$nextTick(()=>{\n          this.offsetAnmt();\n        });\n      }\n    }\n  }\n};\n</script>\n"]}]}