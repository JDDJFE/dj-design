{"remainingRequest":"/Users/wangjunxia/work-github/dj-design/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/wangjunxia/work-github/dj-design/packages/json/src/json.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/wangjunxia/work-github/dj-design/packages/json/src/json.vue","mtime":1675737648897},{"path":"/Users/wangjunxia/work-github/dj-design/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/wangjunxia/work-github/dj-design/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/wangjunxia/work-github/dj-design/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/wangjunxia/work-github/dj-design/node_modules/vue-loader/lib/index.js","mtime":1655715099000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCi8vIOW8leWFpeWFqOWxgOWunuS+iwppbXBvcnQgX0NvZGVNaXJyb3IgZnJvbSAnY29kZW1pcnJvcic7Ci8vIGltcG9ydCAnLi9kaWZmX21hdGNoX3BhdGNoJwovLyBpbXBvcnQge2NvZGVtaXJyb3J9IGZyb20gJ3Z1ZS1jb2RlbWlycm9yJwppbXBvcnQgJ2NvZGVtaXJyb3IvYWRkb24vc2VhcmNoL3NlYXJjaCc7Ci8vIGltcG9ydCAnY29kZW1pcnJvci9hZGRvbi9zZWFyY2gvYW5ub3RhdGVzY3JvbGxiYXInCmltcG9ydCAnY29kZW1pcnJvci9hZGRvbi9zZWFyY2gvbWF0Y2hlc29uc2Nyb2xsYmFyJzsKaW1wb3J0ICdjb2RlbWlycm9yL2FkZG9uL3NlYXJjaC9zZWFyY2hjdXJzb3InOwppbXBvcnQgJ2NvZGVtaXJyb3IvYWRkb24vc2VhcmNoL21hdGNoLWhpZ2hsaWdodGVyJzsKaW1wb3J0ICdjb2RlbWlycm9yL2FkZG9uL2RpYWxvZy9kaWFsb2cuY3NzJzsKaW1wb3J0ICdjb2RlbWlycm9yL2FkZG9uL21lcmdlL21lcmdlLmpzJzsKaW1wb3J0ICdjb2RlbWlycm9yL2FkZG9uL21lcmdlL21lcmdlLmNzcyc7Ci8vIC8vIOaKmOWPoAppbXBvcnQgJ2NvZGVtaXJyb3IvYWRkb24vZm9sZC9mb2xkZ3V0dGVyLmNzcyc7CmltcG9ydCAnY29kZW1pcnJvci9hZGRvbi9mb2xkL2ZvbGRjb2RlLmpzJzsKaW1wb3J0ICdjb2RlbWlycm9yL2FkZG9uL2ZvbGQvZm9sZGd1dHRlci5qcyc7CmltcG9ydCAnY29kZW1pcnJvci9hZGRvbi9mb2xkL3htbC1mb2xkLmpzJzsKaW1wb3J0ICdjb2RlbWlycm9yL2FkZG9uL2ZvbGQvaW5kZW50LWZvbGQuanMnOwppbXBvcnQgJ2NvZGVtaXJyb3IvYWRkb24vZm9sZC9icmFjZS1mb2xkJzsKaW1wb3J0ICdjb2RlbWlycm9yL2FkZG9uL2ZvbGQvbWFya2Rvd24tZm9sZC5qcyc7CmltcG9ydCAnY29kZW1pcnJvci9hZGRvbi9mb2xkL2NvbW1lbnQtZm9sZC5qcyc7Ci8vIC8vIGltcG9ydCAnY29kZW1pcnJvci9hZGRvbi9zZWxlY3Rpb24vYWN0aXZlLWxpbmUnOwovLyBpbXBvcnQgJ2NvZGVtaXJyb3IvYWRkb24vZWRpdC9jbG9zZWJyYWNrZXRzJzsKLy8gaW1wb3J0ICdjb2RlbWlycm9yL2FkZG9uL2VkaXQvbWF0Y2hicmFja2V0cyc7CgovLyDmoLjlv4PmoLflvI8KaW1wb3J0ICdjb2RlbWlycm9yL2xpYi9jb2RlbWlycm9yLmNzcyc7Ci8vIOmcgOimgeW8leWFpeWFt+S9k+eahOivreazlemrmOS6ruW6k+aJjeS8muacieWvueW6lOeahOivreazlemrmOS6ruaViOaenAovLyBjb2RlbWlycm9yIOWumOaWueWFtuWunuaUr+aMgemAmui/hyAvYWRkb24vbW9kZS9sb2FkbW9kZS5qcyDlkowgL21vZGUvbWV0YS5qcyDmnaXlrp7njrDliqjmgIHliqDovb3lr7nlupTor63ms5Xpq5jkuq7lupMKLy8g5L2GIHZ1ZSDosozkvLzmsqHmnInml6Dms5XlnKjlrp7kvovliJ3lp4vljJblkI7lho3liqjmgIHliqDovb3lr7nlupQgSlMg77yM5omA5Lul5q2k5aSE5omN5oqK5a+55bqU55qEIEpTIOaPkOWJjeW8leWFpQppbXBvcnQgJ2NvZGVtaXJyb3IvbW9kZS9tZXRhLmpzJzsKLy8gaW1wb3J0ICdjb2RlbWlycm9yL21vZGUvamF2YXNjcmlwdC9qYXZhc2NyaXB0JwovLyBpbXBvcnQgJ2NvZGVtaXJyb3IvbW9kZS9jbGlrZS9jbGlrZScKLy8gaW1wb3J0ICdjb2RlbWlycm9yL21vZGUvZ28vZ28nCi8vIGltcG9ydCAnY29kZW1pcnJvci9tb2RlL2h0bWxtaXhlZC9odG1sbWl4ZWQnCi8vIGltcG9ydCAnY29kZW1pcnJvci9tb2RlL2h0dHAvaHR0cCcKLy8gaW1wb3J0ICdjb2RlbWlycm9yL21vZGUvcGhwL3BocCcKLy8gaW1wb3J0ICdjb2RlbWlycm9yL21vZGUvcHl0aG9uL3B5dGhvbicKLy8gaW1wb3J0ICdjb2RlbWlycm9yL21vZGUvaHR0cC9odHRwJwovLyBpbXBvcnQgJ2NvZGVtaXJyb3IvbW9kZS9zcWwvc3FsJwovLyBpbXBvcnQgJ2NvZGVtaXJyb3IvbW9kZS92dWUvdnVlJwovLyBpbXBvcnQgJ2NvZGVtaXJyb3IvbW9kZS94bWwveG1sJwovLyBpbXBvcnQgJ2NvZGVtaXJyb3IvbW9kZS9jc3MvY3NzLmpzJzsKLy8gaW1wb3J0ICdjb2RlbWlycm9yL21vZGUvbWFya2Rvd24vbWFya2Rvd24uanMnOwovLyBpbXBvcnQgJ2NvZGVtaXJyb3IvbW9kZS9yL3IuanMnOwovLyBpbXBvcnQgJ2NvZGVtaXJyb3IvbW9kZS9zaGVsbC9zaGVsbC5qcyc7Ci8vIGltcG9ydCAnY29kZW1pcnJvci9tb2RlL3N3aWZ0L3N3aWZ0LmpzJzsKLy8g5byV5YWl5Li76aKY5ZCO6L+Y6ZyA6KaB5ZyoIG9wdGlvbnMg5Lit5oyH5a6a5Li76aKY5omN5Lya55Sf5pWICi8vIGltcG9ydCAnY29kZW1pcnJvci90aGVtZS9jb2JhbHQuY3NzJzsKLy8gaW1wb3J0ICJjb2RlbWlycm9yL3RoZW1lL2FtYmlhbmNlLmNzcyI7ICAvLyDov5nph4zlvJXlhaXnmoTmmK/kuLvpopjmoLflvI/vvIzmoLnmja7orr7nva7nmoR0aGVtZeeahOS4u+mimOW8leWFpe+8jOS4gOWumuimgeW8leWFpe+8ge+8gQovLyBpbXBvcnQgJ2NvZGVtaXJyb3IvdGhlbWUvZWNsaXBzZS5jc3MnOwovLyBpbXBvcnQgJ2NvZGVtaXJyb3IvdGhlbWUvbW9ub2thaS5jc3MnCi8vIGltcG9ydCAnY29kZW1pcnJvci90aGVtZS9ibGFja2JvYXJkLmNzcyc7CgppbXBvcnQgJ2NvZGVtaXJyb3IvYWRkb24vZGlzcGxheS9mdWxsc2NyZWVuLmNzcyc7IC8vIOWFqOWxj+aYvuekuue8lui+keWZqAppbXBvcnQgJ2NvZGVtaXJyb3IvYWRkb24vZGlzcGxheS9mdWxsc2NyZWVuLmpzJzsgLy8g5YWo5bGP5pi+56S657yW6L6R5ZmoCgovLyDlvJXlhaXku6PnoIHoh6rliqjmj5DnpLrmj5Lku7YKaW1wb3J0ICdjb2RlbWlycm9yL2FkZG9uL2hpbnQvc2hvdy1oaW50LmNzcyc7CmltcG9ydCAnY29kZW1pcnJvci9hZGRvbi9oaW50L3NxbC1oaW50JzsKaW1wb3J0ICdjb2RlbWlycm9yL2FkZG9uL2hpbnQvc2hvdy1oaW50JzsKaW1wb3J0ICdjb2RlbWlycm9yL2FkZG9uL2Rpc3BsYXkvcGFuZWwnOwovLyDlsJ3or5Xojrflj5blhajlsYDlrp7kvosKY29uc3QgQ29kZU1pcnJvciA9IHdpbmRvdy5Db2RlTWlycm9yIHx8IF9Db2RlTWlycm9yOwppbXBvcnQgRGlmZk1hdGNoUGF0Y2ggZnJvbSAnZGlmZi1tYXRjaC1wYXRjaCc7Ci8vIGltcG9ydCAnLi9jb2RlTWlycm9yTW9kYWwvcmV2aXNlZC1zZWFyY2gnCmltcG9ydCAnLi9zZWFyY2gnOwoKLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGNhbWVsY2FzZQp3aW5kb3cuZGlmZl9tYXRjaF9wYXRjaCA9IERpZmZNYXRjaFBhdGNoOwp3aW5kb3cuRElGRl9ERUxFVEUgPSAtMTsKd2luZG93LkRJRkZfSU5TRVJUID0gMTsKd2luZG93LkRJRkZfRVFVQUwgPSAwOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ2RqSnNvbicsCiAgcHJvcHM6IHsKICAgIHdpZHRoOiB7CiAgICAgIHR5cGU6IFN0cmluZyB8fCBOdW1iZXIsCiAgICAgIGRlZmF1bHQ6ICcnCiAgICB9LAogICAgaGVpZ2h0OiB7CiAgICAgIHR5cGU6IFN0cmluZyB8fCBOdW1iZXIsCiAgICAgIGRlZmF1bHQ6ICcnCiAgICB9LAogICAgLy8g5aSW6YOo5Lyg5YWl55qE5YaF5a6577yM55So5LqO5a6e546w5Y+M5ZCR57uR5a6aCiAgICB2YWx1ZTogU3RyaW5nLAogICAgdmFsdWVMZWZ0OiB7CiAgICAgIHR5cGU6IFN0cmluZywKICAgICAgZGVmYXVsdDogbnVsbAogICAgfSwKICAgIHZhbHVlUmlnaHQ6IHsKICAgICAgdHlwZTogU3RyaW5nLAogICAgICBkZWZhdWx0OiBudWxsCiAgICB9LAogICAganNvbkZvcm1hdDogewogICAgICB0eXBlOiBCb29sZWFuLAogICAgICBkZWZhdWx0OiB0cnVlCiAgICB9LAogICAgLy8g6K+t6KiACiAgICBsYW5ndWFnZTogewogICAgICB0eXBlOiBTdHJpbmcsCiAgICAgIGRlZmF1bHQ6ICdqYXZhc2NyaXB0JwogICAgfSwKICAgIC8vIOS4u+mimAogICAgdGhlbWU6IHsKICAgICAgdHlwZTogU3RyaW5nLAogICAgICBkZWZhdWx0OiAnZWNsaXBzZScKICAgIH0sCiAgICBkaXNhYmxlZDogewogICAgICB0eXBlOiBCb29sZWFuLAogICAgICBkZWZhdWx0OiBmYWxzZQogICAgfSwKICAgIC8vIGNoYW5nZVN0YXR1czogewogICAgLy8gICB0eXBlOiBCb29sZWFuLAogICAgLy8gICBkZWZhdWx0OiBmYWxzZQogICAgLy8gfSwKICAgIC8vIOS7o+eggeWvueavlAogICAgZGlmZjogewogICAgICB0eXBlOiBCb29sZWFuLAogICAgICBkZWZhdWx0OiBmYWxzZQogICAgfSwKICAgIC8vIOW3puS+p+mFjee9rgogICAgbGVmdENvbmZpZzogewogICAgICB0eXBlOiBPYmplY3QsCiAgICAgIGRlZmF1bHQoKSB7CiAgICAgICAgcmV0dXJuIHt9OwogICAgICB9CiAgICB9LAogICAgLy8g5bem5L6n6YWN572uCiAgICBjb25maWdQYXJhbXM6IHsKICAgICAgdHlwZTogT2JqZWN0LAogICAgICBkZWZhdWx0KCkgewogICAgICAgIHJldHVybiB7fTsKICAgICAgfQogICAgfSwKICAgIC8vIOWPs+S+p+mFjee9rgogICAgcmlnaHRDb25maWc6IHsKICAgICAgdHlwZTogT2JqZWN0LAogICAgICBkZWZhdWx0KCkgewogICAgICAgIHJldHVybiB7fTsKICAgICAgfQogICAgfSwKICAgIC8vIOihjOmrmOS6rgogICAgbWFya1RleHQ6IHsKICAgICAgdHlwZTogQXJyYXksCiAgICAgIGRlZmF1bHQoKSB7CiAgICAgICAgcmV0dXJuIFtdOwogICAgICB9CiAgICB9LAogICAgLy8g6YCJ5LitCiAgICBzZWxlY3Rpb25MaW5lOiB7CiAgICAgIHR5cGU6IEFycmF5LAogICAgICBkZWZhdWx0KCkgewogICAgICAgIHJldHVybiBbXTsKICAgICAgfQogICAgfSwKICAgIC8vIOihjOagh+iusAogICAgZ3V0dGVyTWFya2VyOiB7CiAgICAgIHR5cGU6IEFycmF5LAogICAgICBkZWZhdWx0KCkgewogICAgICAgIHJldHVybiBbXTsKICAgICAgfQogICAgfSwKICAgIC8vIOinhuWbvui3s+i9rOWIsOafkOihjAogICAgc2Nyb2xsSW50b1ZpZXc6IHsKICAgICAgdHlwZTogT2JqZWN0LAogICAgICBkZWZhdWx0KCkgewogICAgICAgIHJldHVybiB7fTsKICAgICAgfQogICAgfSwKICAgIC8vIOeEpueCueWIsOafkOihjAogICAgc2V0Q3Vyc29yTGluZTogewogICAgICB0eXBlOiBPYmplY3QsCiAgICAgIGRlZmF1bHQoKSB7CiAgICAgICAgcmV0dXJuIHt9OwogICAgICB9CiAgICB9CiAgfSwKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgY2hhbmdlU3RhdHVzOiAwLAogICAgICBtYXBBcnJheTogW10sCiAgICAgIC8vIOWGhemDqOecn+WunueahOWGheWuuQogICAgICBjb2RlOiAnJywKICAgICAgLy8g57yW6L6R5Zmo5a6e5L6LCiAgICAgIGNvZGVyOiBudWxsLAogICAgICAvLyDpu5jorqTphY3nva4KICAgICAgb3B0aW9uczogewogICAgICAgIC8vIOe8qei/m+agvOW8jwogICAgICAgIC8vIHRhYlNpemU6IDIsCiAgICAgICAgLy8g5pi+56S66KGM5Y+3CiAgICAgICAgbGluZU51bWJlcnM6IHRydWUsCiAgICAgICAgbGluZTogdHJ1ZSwKICAgICAgICB0YWJTaXplOiA0LAogICAgICAgIC8qIGV4dHJhS2V5czogeyAvLyDop6blj5HmjInplK4KICAgICAgICAgICAnQ3RybCc6ICdhdXRvY29tcGxldGUnCiAgICAgICAgIH0sKi8KICAgICAgICAvLyBtb2RlOiB7bmFtZTogJ2phdmFzY3JpcHQnLCBqc29uOiB0cnVlfSwKICAgICAgICAvLyB0aGVtZTogImVjbGlwc2UiLAogICAgICAgIHN0eWxlQWN0aXZlTGluZTogdHJ1ZSwKICAgICAgICBmb2xkZ3V0dGVyOiB0cnVlLAogICAgICAgIGd1dHRlcnM6IFsnQ29kZU1pcnJvci1saW5lbnVtYmVycycsICdDb2RlTWlycm9yLWZvbGRndXR0ZXInLCAnQ29kZU1pcnJvci1saW50LW1hcmtlcnMnLCAnYnJlYWtwb2ludHMnLCAnbm90ZS1ndXR0ZXInXSwKICAgICAgICBsaW5lV3JhcHBpbmc6IHRydWUsLy8g5Luj56CB5oqY5Y+gCiAgICAgICAgZm9sZEd1dHRlcjogdHJ1ZSwKICAgICAgICBtYXRjaEJyYWNrZXRzOiB0cnVlLC8vIOaLrOWPt+WMuemFjQogICAgICAgIGF1dG9DbG9zZUJyYWNrZXRzOiB0cnVlLAogICAgICAgIHRleHRXcmFwcGluZzogdHJ1ZQogICAgICAgIC8vIGhpZ2hsaWdodFNlbGVjdGlvbk1hdGNoZXM6IHtzaG93VG9rZW46IHRydWUsIGFubm90YXRlU2Nyb2xsYmFyOiBmYWxzZX0KICAgICAgICAvLyBoaWdobGlnaHRTZWxlY3Rpb25NYXRjaGVzOiB7CiAgICAgICAgLy8gICBtaW5DaGFyczogMiwKICAgICAgICAvLyAgIHNob3dUb2tlbjovXGIoamF2YSlcYi8sCiAgICAgICAgLy8gICBzdHlsZTonbWF0Y2hoaWdobGlnaHQnLAogICAgICAgIC8vICAgYW5ub3RhdGVTY3JvbGxiYXI6IHRydWUKICAgICAgICAvLyB9CiAgICAgIH0sCiAgICAgIG9yaWdMZWZ0OiBudWxsLAogICAgICBvcmlnUmlnaHQ6IG51bGwKICAgIH07CiAgfSwKICBjb21wdXRlZDogewogICAgdG9vbHRpcElkKCkgewogICAgICByZXR1cm4gYGRqLWpzb24tJHtNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAxMDAwMCl9YDsKICAgIH0sCiAgICBqc29uVmFsdWUoKSB7CiAgICAgIHJldHVybiB0aGlzLmdldEpzb25WYWx1ZSh0aGlzLnZhbHVlKTsKICAgIH0sCiAgICBqc29uVmFsdWVMZWZ0KCkgewogICAgICByZXR1cm4gdGhpcy5nZXRKc29uVmFsdWUodGhpcy52YWx1ZUxlZnQpOwogICAgfSwKICAgIGpzb25WYWx1ZVJpZ2h0KCkgewogICAgICByZXR1cm4gdGhpcy5nZXRKc29uVmFsdWUodGhpcy52YWx1ZVJpZ2h0KTsKICAgIH0KICB9LAogIG1vdW50ZWQoKSB7CiAgICAvLyBjb25zb2xlLmxvZyh0aGlzLnZhbHVlLCAnbW91bnRlZCBjb2Rl57yW6L6R5ZmoJykKICAgIC8vIOWIneWni+WMlgogICAgLy8gY29uc29sZS5sb2cod2luZG93LkNvZGVNaXJyb3IsQ29kZU1pcnJvcixDb2RlTWlycm9yPy5tb2RlSW5mbywnMTExMTExMScpOwogICAgZm9yIChsZXQgaSA9IDA7IGkgPCBDb2RlTWlycm9yPy5tb2RlSW5mbz8ubGVuZ3RoOyBpKyspIHsKICAgICAgbGV0IG1vZGVJbmZvID0gQ29kZU1pcnJvci5tb2RlSW5mb1tpXTsKICAgICAgdGhpcy5tYXBBcnJheS5wdXNoKHtuYW1lOiBtb2RlSW5mby5uYW1lLCBtb2RlSWQ6IG1vZGVJbmZvLm1vZGV9KTsKICAgIH0KICAgIC8vIGNvbnNvbGUubG9nKHRoaXMubWFwQXJyYXksICdtYXBBcnJheScpOwogICAgaWYgKHRoaXMuZGlmZikgewogICAgICB0aGlzLm9yaWdMZWZ0ID0gdGhpcy5qc29uVmFsdWVMZWZ0OwogICAgICB0aGlzLmNvZGUgPSB0aGlzLmpzb25WYWx1ZTsKICAgICAgdGhpcy5vcmlnUmlnaHQgPSB0aGlzLmpzb25WYWx1ZVJpZ2h0OwogICAgICB0aGlzLmluaXREaWZmKHRoaXMuanNvblZhbHVlTGVmdCwgdGhpcy5qc29uVmFsdWUsIHRoaXMuanNvblZhbHVlUmlnaHQpOwogICAgfSBlbHNlIHsKICAgICAgdGhpcy5pbml0KCk7CiAgICB9CiAgICB0aGlzLnRoZW1lQ2hhbmdlKCk7CiAgICB0aGlzLm1vZGVDaGFuZ2UoKTsKICAgIHRoaXMuc2l6ZUNoYW5nZSgpOwogIH0sCiAgd2F0Y2g6IHsKICAgICdjb25maWdQYXJhbXMucmVhZE9ubHknOiB7CiAgICAgIGhhbmRsZXIodmFsLCBvbGRWYWwpIHsKICAgICAgICAvLyBjb25zb2xlLmxvZyh2YWwsIG9sZFZhbCwnY29uZmlnUGFyYW1zMTEnKTsKICAgICAgICB0aGlzLndhdGNoQ29uZmlnRnVuKHZhbCwgb2xkVmFsLCAnY29uZmlnUGFyYW1zJywgJ3JlYWRPbmx5Jyk7CiAgICAgIH0sCiAgICAgIGRlZXA6IHRydWUKICAgIH0sCiAgICAnbGVmdENvbmZpZy5yZWFkT25seSc6IHsKICAgICAgaGFuZGxlcih2YWwsIG9sZFZhbCkgewogICAgICAgIC8vIGNvbnNvbGUubG9nKHZhbCwgb2xkVmFsLCdsZWZ0Q29uZmlnJyk7CiAgICAgICAgdGhpcy53YXRjaENvbmZpZ0Z1bih2YWwsIG9sZFZhbCwgJ2xlZnRDb25maWcnLCAncmVhZE9ubHknKTsKICAgICAgfSwKICAgICAgZGVlcDogdHJ1ZQogICAgfSwKICAgICdyaWdodENvbmZpZy5yZWFkT25seSc6IHsKICAgICAgaGFuZGxlcih2YWwsIG9sZFZhbCkgewogICAgICAgIC8vIGNvbnNvbGUubG9nKHZhbCwgb2xkVmFsLCdyaWdodENvbmZpZycpOwogICAgICAgIHRoaXMud2F0Y2hDb25maWdGdW4odmFsLCBvbGRWYWwsICdyaWdodENvbmZpZycsICdyaWdodENvbmZpZycpOwogICAgICB9LAogICAgICBkZWVwOiB0cnVlCiAgICB9LAogICAgdmFsdWUodmFsKSB7CiAgICAgIC8qIGNvbnNvbGUubG9nKHRoaXMudmFsdWVMZWZ0LCB2YWwsICd2YWx1ZT09PT09Jyk7CiAgICAgIGlmICh0aGlzLmRpZmYpIHsKICAgICAgICBpZiAodGhpcy5jb2Rlcj8uZWRpdCkgewogICAgICAgICAgdGhpcy5jaGFuZ2VTdGF0dXNGdW4odGhpcy5jb2Rlcj8uZWRpdCwgdHJ1ZSwgdGhpcy52YWx1ZSk7CiAgICAgICAgfQogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuY2hhbmdlU3RhdHVzRnVuKHRoaXMuY29kZXIsIHRydWUsIHRoaXMudmFsdWUpOwogICAgICB9Ki8KICAgICAgaWYgKHRoaXMudmFsdWUgIT0gdGhpcy5jb2RlKSB7CiAgICAgICAgdGhpcy51cGRhdGVkKCk7CiAgICAgIH0KICAgIH0sCiAgICAvKiBjb2RlKHZhbCkgewogICAgIC8vIGNvbnNvbGUubG9nKHZhbCwgJ2NvZGU9PT09PScpOwogICAgfSwqLwogICAgdmFsdWVMZWZ0KHZhbCkgewogICAgICBpZiAodGhpcy52YWx1ZUxlZnQgIT0gdGhpcy5vcmlnTGVmdCkgewogICAgICAgIHRoaXMudXBkYXRlZCgpOwogICAgICB9CiAgICAgIC8qIGNvbnNvbGUubG9nKHZhbCwgJ3ZhbHVlTGVmdD09PT09Jyk7CiAgICAgIHRoaXMub3JpZ0xlZnQgPSB2YWw7CiAgICAgIHRoaXMuY2hhbmdlU3RhdHVzRnVuKHRoaXMuY29kZXI/LmxlZnQ/Lm9yaWcsIHRydWUsIHRoaXMudmFsdWVMZWZ0KTsKICAgICAgLy8gY29uc29sZS5sb2codmFsLCB0aGlzLnZhbHVlTGVmdCwgJ3ZhbHVlTGVmdCcpOwogICAgICAvLyBpZiAodGhpcy5kaWZmKSB7CiAgICAgIC8vICAgdGhpcy5pbml0RGlmZih0aGlzLm9yaWdMZWZ0LCB0aGlzLnZhbHVlLCB0aGlzLm9yaWdSaWdodCkKICAgICAgLy8gfSovCiAgICB9LAogICAgdmFsdWVSaWdodCh2YWwpIHsKICAgICAgaWYgKHRoaXMudmFsdWVSaWdodCAhPSB0aGlzLm9yaWdSaWdodCkgewogICAgICAgIHRoaXMudXBkYXRlZCgpOwogICAgICB9CiAgICAgIC8qIHRoaXMub3JpZ1JpZ2h0ID0gdmFsOwogICAgICAvLyBpZiAodGhpcy5kaWZmKSB7CiAgICAgIC8vICAgdGhpcy5pbml0RGlmZih0aGlzLm9yaWdMZWZ0LCB0aGlzLnZhbHVlLCB0aGlzLm9yaWdSaWdodCkKICAgICAgLy8gfQogICAgICBpZiAodGhpcy5jb2Rlcj8ucmlnaHQ/Lm9yaWcpIHsKICAgICAgICB0aGlzLmNoYW5nZVN0YXR1c0Z1bih0aGlzLmNvZGVyPy5yaWdodD8ub3JpZywgdHJ1ZSwgdGhpcy52YWx1ZVJpZ2h0KTsKICAgICAgfSovCiAgICB9LAogICAgdGhlbWUoKSB7CiAgICAgIHRoaXMudGhlbWVDaGFuZ2UoKTsKICAgIH0sCiAgICBsYW5ndWFnZSh2YWwpIHsKICAgICAgLy8gY29uc29sZS5sb2codGhpcy5sYW5ndWFnZSwgJ2xhbmd1YWdlJyk7CiAgICAgIHRoaXMubW9kZUNoYW5nZSgpOwogICAgfSwKICAgIGNoYW5nZVN0YXR1cyh2YWwpIHsKICAgICAgLy8gY29uc29sZS5sb2codmFsLCdjaGFuZ2VTdGF0dXMnKTsKICAgICAgaWYgKHRoaXMuZGlmZikgewogICAgICAgIGlmICh0aGlzLmNvZGVyPy5sZWZ0Py5vcmlnKSB7CiAgICAgICAgICB0aGlzLmNoYW5nZVN0YXR1c0Z1bih0aGlzLmNvZGVyPy5sZWZ0Py5vcmlnLCB2YWwsIHRoaXMuanNvblZhbHVlTGVmdCk7CiAgICAgICAgfQogICAgICAgIGlmICh0aGlzLmNvZGVyPy5lZGl0KSB7CiAgICAgICAgICB0aGlzLmNoYW5nZVN0YXR1c0Z1bih0aGlzLmNvZGVyPy5lZGl0LCB2YWwsIHRoaXMuanNvblZhbHVlKTsKICAgICAgICB9CiAgICAgICAgaWYgKHRoaXMuY29kZXI/LnJpZ2h0Py5vcmlnKSB7CiAgICAgICAgICB0aGlzLmNoYW5nZVN0YXR1c0Z1bih0aGlzLmNvZGVyPy5yaWdodD8ub3JpZywgdmFsLCB0aGlzLmpzb25WYWx1ZVJpZ2h0KTsKICAgICAgICB9CiAgICAgIH0gZWxzZSB7CiAgICAgICAgLyogaWYgKHZhbCA9PT0gZmFsc2UpIHsKICAgICAgICAgIHRoaXMuY29kZXIuc2V0VmFsdWUoJycpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB0aGlzLmNvZGVyLnNldFZhbHVlKHRoaXMudmFsdWUgfHwgJycpOwogICAgICAgIH0qLwogICAgICAgIHRoaXMuY2hhbmdlU3RhdHVzRnVuKHRoaXMuY29kZXIsIHZhbCwgdGhpcy5qc29uVmFsdWUpOwogICAgICB9CiAgICAgIC8vIGNvbnNvbGUubG9nKHZhbCwgdGhpcy52YWx1ZSwgJ2NoYW5nZVN0YXR1cz09PT09Jyk7CiAgICB9CiAgfSwKICBtZXRob2RzOiB7CiAgICB3YXRjaENvbmZpZ0Z1bih2YWwsIG9sZFZhbCwgcG9zaXRpb24sIGtleSkgewogICAgICAvLyBjb25zb2xlLmxvZyh2YWwsIG9sZFZhbCk7CiAgICAgIGxldCBjb2RlciA9IHRoaXMuZ2V0Q29kZXIocG9zaXRpb24pOwogICAgICBpZiAodmFsICE9PSBvbGRWYWwpIHsKICAgICAgICB0aGlzLnJlYWRPbmx5RnVuKGNvZGVyLCB0aGlzW3Bvc2l0aW9uXVtrZXldKTsKICAgICAgfQogICAgfSwKICAgIGdldENvZGVyKGtleSkgewogICAgICBsZXQgY29kZXI7CiAgICAgIGlmICh0aGlzLmRpZmYpIHsKICAgICAgICBpZiAoa2V5ID09PSAnbGVmdENvbmZpZycpIHsKICAgICAgICAgIGNvZGVyID0gdGhpcy5jb2Rlcj8ubGVmdD8ub3JpZzsKICAgICAgICB9IGVsc2UgaWYgKGtleSA9PT0gJ3JpZ2h0Q29uZmlnJykgewogICAgICAgICAgY29kZXIgPSB0aGlzLmNvZGVyPy5yaWdodD8ub3JpZzsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgY29kZXIgPSB0aGlzLmNvZGVyPy5lZGl0OwogICAgICAgIH0KICAgICAgfSBlbHNlIHsKICAgICAgICBjb2RlciA9IHRoaXMuY29kZXI7CiAgICAgIH0KICAgICAgcmV0dXJuIGNvZGVyOwogICAgfSwKICAgIGdldEpzb25WYWx1ZSh2YWwpIHsKICAgICAgaWYgKHRoaXMuanNvbkZvcm1hdCkgewogICAgICAgIGlmICh2YWwgJiYgdHlwZW9mIHZhbCA9PT0gJ3N0cmluZycpIHsKICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgIHZhciBvYmogPSBKU09OLnBhcnNlKHZhbCk7CiAgICAgICAgICAgIGlmICh0eXBlb2Ygb2JqID09PSAnb2JqZWN0JyAmJiBvYmopIHsKICAgICAgICAgICAgICByZXR1cm4gSlNPTi5zdHJpbmdpZnkob2JqLCBudWxsLCAnXHQnKTsKICAgICAgICAgICAgfQogICAgICAgICAgICByZXR1cm4gdmFsOwogICAgICAgICAgfSBjYXRjaCAoZSkgewogICAgICAgICAgICByZXR1cm4gdmFsOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgICByZXR1cm4gdmFsOwogICAgICB9CiAgICAgIHJldHVybiB2YWw7CiAgICB9LAogICAgdXBkYXRlZCgpIHsKICAgICAgdGhpcy5jaGFuZ2VTdGF0dXMrKzsKICAgIH0sCiAgICBjaGFuZ2VTdGF0dXNGdW4oY29kZXIsIGNoYW5nZVN0YXR1cywgdmFsKSB7CiAgICAgIGNvZGVyLnNldFZhbHVlKHZhbCB8fCAnJyk7CiAgICAgIC8qIGlmIChjaGFuZ2VTdGF0dXMgPT09IGZhbHNlKSB7CiAgICAgICAgY29kZXIuc2V0VmFsdWUoJycpOwogICAgICB9IGVsc2UgewogICAgICAgIGNvZGVyLnNldFZhbHVlKHZhbCB8fCAnJyk7CiAgICAgIH0qLwogICAgfSwKICAgIGdldEpzb24oKSB7CiAgICAgIC8vIGNvbnNvbGUubG9nKHRoaXMub3JpZ0xlZnQsICdcbicsIHRoaXMuY29kZSwgJ1xuJywgdGhpcy5vcmlnUmlnaHQsICdnZXRKc29uJyk7CiAgICB9LAogICAgaW5pdERpZmYob3JpZ0xlZnQsIHZhbHVlLCBvcmlnUmlnaHQpIHsKICAgICAgaWYgKHZhbHVlID09PSBudWxsKSB7CiAgICAgICAgcmV0dXJuOwogICAgICB9CiAgICAgIGxldCB0YXJnZXQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZGotanNvbi12aWV3Jyk7CiAgICAgIHRhcmdldC5pbm5lckhUTUwgPSAnJzsKICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5ldy1jYXAKICAgICAgdGhpcy5jb2RlciA9IENvZGVNaXJyb3IuTWVyZ2VWaWV3KHRhcmdldCwgewogICAgICAgIHZhbHVlOiB2YWx1ZSwKICAgICAgICBvcmlnTGVmdDogb3JpZ0xlZnQgIT09IG51bGwgPyBvcmlnTGVmdCA6IG51bGwsCiAgICAgICAgb3JpZzogb3JpZ1JpZ2h0ICE9PSBudWxsID8gb3JpZ1JpZ2h0IDogbnVsbCwKICAgICAgICBjdXJzb3JIZWlnaHQ6IDEsIC8vIOWFieagh+mrmOW6pgogICAgICAgIGxpbmVOdW1iZXJzOiB0cnVlLAogICAgICAgIGFsbG93RWRpdGluZ09yaWdpbmFsczogdHJ1ZSwKICAgICAgICBtYXRjaEJyYWNrZXRzOiB0cnVlLC8vIOWMuemFjeaLrOWPtwogICAgICAgIC8vIHJldmVydEJ1dHRvbnM6IHRydWUsIC8vIOaYr+WQpuaYvuekuui/mOWOn+aMiemSrgogICAgICAgIC8vIHNlYXJjaGJveDogdHJ1ZQogICAgICAgIC4uLnRoaXMub3B0aW9ucwogICAgICAgIC8vIGhpZ2hsaWdodERpZmZlcmVuY2VzOiAiaGlnaGxpZ2h0IiwvL+acieW3ruW8gueahOWcsOaWueaYr+WQpumrmOS6rgogICAgICAgIC8vIGNvbm5lY3Q6IG51bGwsCiAgICAgICAgLy8gcmV2ZXJ0QnV0dG9uczogZmFsc2UsLy9yZXZlcnTmjInpkq7orr7nva7kuLp0cnVl5Y+v5Lul5Zue5ruaCiAgICAgICAgLy8gc3R5bGVBY3RpdmVMaW5lOiB0cnVlLC8v5YWJ5qCH5omA5Zyo55qE5L2N572u5Luj56CB6auY5LquCiAgICAgICAgLy8gc21hcnRJbmRlbnQ6IHRydWUsIC8vIOaZuuiDvee8qei/mwogICAgICAgIC8vIG1hdGNoQnJhY2tldHM6IHRydWUsIC8vIOaLrOWPt+WMuemFjQogICAgICAgIC8vIHRleHRXcmFwcGluZzogdHJ1ZSwKICAgICAgICAvLyBmb2xkR3V0dGVyOnRydWUsLy/ku6PnoIHmipjlj6AKICAgICAgICAvLyBsaW5lV3JhcHBpbmc6dHJ1ZSwvL+S7o+eggeaKmOWPoAogICAgICAgIC8vIGd1dHRlcnM6IFsiQ29kZU1pcnJvci1saW5lbnVtYmVycyIsICJDb2RlTWlycm9yLWZvbGRndXR0ZXIiXQogICAgICB9KTsKICAgICAgLy8gY29uc29sZS5sb2codGhpcy5jb2RlciwgJ3RoaXMuY29kZXInKTsKICAgICAgdGhpcy50aGVtZUNoYW5nZSgpOwogICAgICBpZiAob3JpZ0xlZnQgIT09IG51bGwpIHsKICAgICAgICB0aGlzLnJlYWRPbmx5RnVuKHRoaXMuY29kZXIubGVmdC5vcmlnLCB0aGlzLmxlZnRDb25maWc/LnJlYWRPbmx5KTsKICAgICAgICB0aGlzLm1hcmtUZXh0RnVuKHRoaXMuY29kZXIubGVmdC5vcmlnLCB0aGlzLmxlZnRDb25maWc/Lm1hcmtUZXh0KTsKICAgICAgICB0aGlzLmd1dHRlck1hcmtlckZ1bih0aGlzLmNvZGVyLmxlZnQub3JpZywgdGhpcy5sZWZ0Q29uZmlnPy5ndXR0ZXJNYXJrZXIpOwogICAgICAgIHRoaXMuc2V0U2VsZWN0aW9uRnVuKHRoaXMuY29kZXIubGVmdC5vcmlnLCB0aGlzLmxlZnRDb25maWc/LnNlbGVjdGlvbkxpbmUpOwogICAgICAgIHRoaXMuY29kZUNoYW5nZSh0aGlzLmNvZGVyLmxlZnQub3JpZywgJ29yaWdMZWZ0Jyk7CgogICAgICB9CiAgICAgIGlmICh2YWx1ZSAhPT0gbnVsbCkgewogICAgICAgIHRoaXMucmVhZE9ubHlGdW4odGhpcy5jb2Rlci5lZGl0LCB0aGlzLmNvbmZpZ1BhcmFtcz8ucmVhZE9ubHkpOwogICAgICAgIHRoaXMubWFya1RleHRGdW4odGhpcy5jb2Rlci5lZGl0LCB0aGlzLmNvbmZpZ1BhcmFtcz8ubWFya1RleHQpOwogICAgICAgIHRoaXMuZ3V0dGVyTWFya2VyRnVuKHRoaXMuY29kZXIuZWRpdCwgdGhpcy5jb25maWdQYXJhbXM/Lmd1dHRlck1hcmtlcik7CiAgICAgICAgdGhpcy5zZXRTZWxlY3Rpb25GdW4odGhpcy5jb2Rlci5lZGl0LCB0aGlzLmNvbmZpZ1BhcmFtcz8uc2VsZWN0aW9uTGluZSk7CiAgICAgICAgdGhpcy5jb2RlQ2hhbmdlKHRoaXMuY29kZXIuZWRpdCwgJ2NvZGUnKTsKICAgICAgfQogICAgICBpZiAob3JpZ1JpZ2h0ICE9PSBudWxsKSB7CiAgICAgICAgdGhpcy5yZWFkT25seUZ1bih0aGlzLmNvZGVyLnJpZ2h0Lm9yaWcsIHRoaXMucmlnaHRDb25maWc/LnJlYWRPbmx5KTsKICAgICAgICB0aGlzLm1hcmtUZXh0RnVuKHRoaXMuY29kZXIucmlnaHQub3JpZywgdGhpcy5yaWdodENvbmZpZz8ubWFya1RleHQpOwogICAgICAgIHRoaXMuZ3V0dGVyTWFya2VyRnVuKHRoaXMuY29kZXIucmlnaHQub3JpZywgdGhpcy5yaWdodENvbmZpZz8uZ3V0dGVyTWFya2VyKTsKICAgICAgICB0aGlzLnNldFNlbGVjdGlvbkZ1bih0aGlzLmNvZGVyLnJpZ2h0Lm9yaWcsIHRoaXMucmlnaHRDb25maWc/LnNlbGVjdGlvbkxpbmUpOwogICAgICAgIHRoaXMuY29kZUNoYW5nZSh0aGlzLmNvZGVyLnJpZ2h0Lm9yaWcsICdvcmlnUmlnaHQnKTsKICAgICAgfQogICAgICAvLyB0aGlzLmNvZGVyLmVkaXQuc2Nyb2xsSW50b1ZpZXcoe2xpbmU6MTAwLCBjaDogMTF9KTsKICAgIH0sCiAgICBjb2RlQ2hhbmdlKGNvZGVyLCBrZXkpIHsKICAgICAgY29kZXIub24oJ2NoYW5nZScsIChjb2RlcikgPT4gewogICAgICAgIHRoaXNba2V5XSA9IGNvZGVyLmdldFZhbHVlKCk7CiAgICAgICAgaWYgKHRoaXMuJGVtaXQpIHsKICAgICAgICAgIHRoaXMuJGVtaXQoJ2NvZGVDaGFuZ2UnLCB0aGlzLm9yaWdMZWZ0LCB0aGlzLmNvZGUsIHRoaXMub3JpZ1JpZ2h0KTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICAgIC8vIOS4u+mimAogICAgdGhlbWVDaGFuZ2UoKSB7CiAgICAgIC8vIGNvbnNvbGUubG9nKHRoaXMudGhlbWUsICd0aGlzLnRoZW1lJyk7CiAgICAgIGxldCB0aGVtZSA9IHRoaXMudGhlbWUgfHwgJ2VjbGlwc2UnOwogICAgICBpZiAodGhlbWUpIHsKICAgICAgICByZXF1aXJlKCdjb2RlbWlycm9yL3RoZW1lLycgKyB0aGVtZSArICcuY3NzJyk7CiAgICAgICAgaWYgKHRoaXMuZGlmZikgewogICAgICAgICAgdGhpcy5jb2Rlcj8uZWRpdD8uc2V0T3B0aW9uKCd0aGVtZScsIHRoZW1lKTsKICAgICAgICAgIHRoaXMuY29kZXI/LmxlZnQ/Lm9yaWc/LnNldE9wdGlvbigndGhlbWUnLCB0aGVtZSk7CiAgICAgICAgICB0aGlzLmNvZGVyPy5yaWdodD8ub3JpZz8uc2V0T3B0aW9uKCd0aGVtZScsIHRoZW1lKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgdGhpcy5jb2Rlcj8uc2V0T3B0aW9uKCd0aGVtZScsIHRoZW1lKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0sCiAgICAvLyDor63oqIAKICAgIG1vZGVDaGFuZ2UoKSB7CiAgICAgIC8vIGNvbnNvbGUubG9nKHRoaXMubGFuZ3VhZ2UsICd0aGlzLmxhbmd1YWdlJyk7CiAgICAgIGxldCBtb2RlID0gdGhpcy5sYW5ndWFnZSB8fCAnamF2YXNjcmlwdCc7CiAgICAgIGlmIChtb2RlKSB7CiAgICAgICAgcmVxdWlyZSgnY29kZW1pcnJvci9tb2RlLycgKyBtb2RlICsgJy8nICsgbW9kZSk7CiAgICAgICAgaWYgKHRoaXMuZGlmZikgewogICAgICAgICAgdGhpcy5jb2Rlcj8uZWRpdD8uc2V0T3B0aW9uKCdtb2RlJywgbW9kZSk7CiAgICAgICAgICB0aGlzLmNvZGVyPy5sZWZ0Py5vcmlnPy5zZXRPcHRpb24oJ21vZGUnLCBtb2RlKTsKICAgICAgICAgIHRoaXMuY29kZXI/LnJpZ2h0Py5vcmlnPy5zZXRPcHRpb24oJ21vZGUnLCBtb2RlKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgdGhpcy5jb2Rlcj8uc2V0T3B0aW9uKCdtb2RlJywgbW9kZSk7CiAgICAgICAgfQogICAgICB9CiAgICB9LAogICAgLy8g6KGM6auY5LquCiAgICByZWFkT25seUZ1bihjb2RlciwgcmVhZE9ubHkpIHsKICAgICAgY29kZXIuc2V0T3B0aW9uKCdyZWFkT25seScsIHJlYWRPbmx5KTsKICAgIH0sCiAgICAvLyDlpKflsI8KICAgIHNpemVDaGFuZ2UoKSB7CiAgICAgIC8vIGxldCBzaWE9dGhpcy5oZWlnaHQ7CiAgICAgIGlmICh0aGlzLmRpZmYpIHsKICAgICAgICB0aGlzLmNvZGVyPy5lZGl0Py5zZXRTaXplKHRoaXMud2lkdGgsIHRoaXMuaGVpZ2h0KTsKICAgICAgICB0aGlzLmNvZGVyPy5sZWZ0Py5vcmlnPy5zZXRTaXplKHRoaXMud2lkdGgsIHRoaXMuaGVpZ2h0KTsKICAgICAgICB0aGlzLmNvZGVyPy5yaWdodD8ub3JpZz8uc2V0U2l6ZSh0aGlzLndpZHRoLCB0aGlzLmhlaWdodCk7CiAgICAgICAgbGV0IG1lcmdlRG9tID0gZG9jdW1lbnQ/LmdldEVsZW1lbnRCeUlkKHRoaXMudG9vbHRpcElkKT8ucXVlcnlTZWxlY3RvcignLkNvZGVNaXJyb3ItbWVyZ2UnKTsKICAgICAgICAvLyBjb25zb2xlLmxvZyhtZXJnZURvbSwgJ21lcmdlRG9tJyk7CiAgICAgICAgaWYgKG1lcmdlRG9tICYmIHRoaXMuaGVpZ2h0KSB7CiAgICAgICAgICBtZXJnZURvbS5zdHlsZS5oZWlnaHQgPSB0aGlzLmhlaWdodDsKICAgICAgICB9CiAgICAgICAgLyogaWYgKHRoaXMud2lkdGgpIHsKICAgICAgICAgIG1lcmdlRG9tLnN0eWxlLndpZHRoID0gdGhpcy53aWR0aDsKICAgICAgICB9Ki8KICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLmNvZGVyLnNldFNpemUodGhpcy53aWR0aCwgdGhpcy5oZWlnaHQpOwogICAgICB9CiAgICB9LAogICAgLy8g6KGM6auY5LquCiAgICBtYXJrVGV4dEZ1bihjb2RlciwgbWFya1RleHRBcnIpIHsKICAgICAgZm9yIChsZXQgaSBpbiBtYXJrVGV4dEFycikgewogICAgICAgIGNvZGVyLm1hcmtUZXh0KG1hcmtUZXh0QXJyW2ldLnN0YXJ0LCBtYXJrVGV4dEFycltpXS5lbmQsIG1hcmtUZXh0QXJyW2ldLmVsZW1lbnQpOwogICAgICB9CiAgICB9LAogICAgLy8g5qCH6K6wCiAgICBtYWtlTWFya2VyKGNvbG9yLCBpbm5lckhUTUwpIHsKICAgICAgdmFyIG1hcmtlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpOwogICAgICBtYXJrZXIuc3R5bGUuY29sb3IgPSBjb2xvcjsKICAgICAgbWFya2VyLmlubmVySFRNTCA9IGlubmVySFRNTDsKICAgICAgLy8gbWFya2VyLmFwcGVuZENoaWxkKGlubmVySFRNTCk7CiAgICAgIC8vIGNvbnNvbGUubG9nKGNvbG9yLCBpbm5lckhUTUwsIG1hcmtlciwgJ21ha2VNYXJrZXInKTsKICAgICAgcmV0dXJuIG1hcmtlcjsKICAgIH0sCiAgICAvLyDooYzmoIforrAKICAgIGd1dHRlck1hcmtlckZ1bihjb2RlciwgZ3V0dGVyTWFya2VyQXJyKSB7CiAgICAgIGZvciAobGV0IGogaW4gZ3V0dGVyTWFya2VyQXJyKSB7CiAgICAgICAgY29kZXIuc2V0R3V0dGVyTWFya2VyKGd1dHRlck1hcmtlckFycltqXS5saW5lLCAnbm90ZS1ndXR0ZXInLCB0aGlzLm1ha2VNYXJrZXIoZ3V0dGVyTWFya2VyQXJyW2pdLmNvbG9yLCBndXR0ZXJNYXJrZXJBcnJbal0uaW5uZXJIVE1MKSk7CiAgICAgIH0KICAgICAgLyogY29uc29sZS5sb2coY29kZXIsZ3V0dGVyTWFya2VyQXJyKTsKICAgICAgaWYgKCFndXR0ZXJNYXJrZXJBcnIpIHsKICAgICAgICBsZXQgbWVyZ2VEb20gPSBkb2N1bWVudD8uZ2V0RWxlbWVudEJ5SWQodGhpcy50b29sdGlwSWQpPy5xdWVyeVNlbGVjdG9yKCcubm90ZS1ndXR0ZXInKTsKICAgICAgICBtZXJnZURvbS5jbGFzc0xpc3QuYWRkKCd3aWR0aDAnKTsKICAgICAgICAvISogbGV0IG5vdGVEb20gPSBkb2N1bWVudD8ucXVlcnlTZWxlY3RvckFsbCgnIycrdGhpcy50b29sdGlwSWQrJyAubm90ZS1ndXR0ZXInKTsKICAgICAgICBjb25zb2xlLmxvZyhkb2N1bWVudD8uZ2V0RWxlbWVudEJ5SWQodGhpcy50b29sdGlwSWQpLG5vdGVEb20sICdub3RlRG9tJyk7CiAgICAgICAgLy8gbm90ZURvbS5hZGQoJ3dpZHRoMCcpOwogICAgICAgIGZvciAobGV0IGkgaW4gbm90ZURvbSkgewogICAgICAgICAgaWYgKG5vdGVEb21baV0gJiYgbm90ZURvbVtpXS5zdHlsZSkgewogICAgICAgICAgICBjb25zb2xlLmxvZyhub3RlRG9tW2ldICwgJ25vdGVEb21baV0gJyk7CiAgICAgICAgICAgIC8vIG5vdGVEb21baV0uc3R5bGUud2lkdGggPSAnMCc7CiAgICAgICAgICAgIG5vdGVEb21baV0uY2xhc3NMaXN0LmFkZCgnd2lkdGgwJyk7CiAgICAgICAgICB9CiAgICAgICAgfSohLwogICAgICAgIC8vIGNvZGVyLnJlZnJlc2goKTsKICAgICAgfSovCiAgICB9LAogICAgLy8g6YCJ5Lit6KGMCiAgICBzZXRTZWxlY3Rpb25GdW4oY29kZXIsIHNldFNlbGVjdGlvbkFycikgewogICAgICBmb3IgKGxldCBpIGluIHNldFNlbGVjdGlvbkFycikgewogICAgICAgIGNvZGVyLnNldFNlbGVjdGlvbihzZXRTZWxlY3Rpb25BcnJbaV0uc3RhcnQsIHNldFNlbGVjdGlvbkFycltpXS5lbmQpOwogICAgICB9CiAgICB9LAogICAgLy8g54Sm54K55Yiw5p+Q6KGMCiAgICBzZXRDdXJzb3JGdW4oY29kZXIsIHNldEN1cnNvckxpbmUpIHsKICAgICAgaWYgKHNldEN1cnNvckxpbmUpIHsKICAgICAgICBjb2Rlci5zZXRDdXJzb3Ioc2V0Q3Vyc29yTGluZS5saW5lLCBzZXRDdXJzb3JMaW5lLmNoKTsKICAgICAgICBjb2Rlci5mb2N1cygpOwogICAgICB9CiAgICAgIC8vIHRoaXMuY29kZXIuc2V0Q3Vyc29yKDEwMCw1KTsKICAgICAgLy8gdGhpcy5jb2Rlci5mb2N1cygpOwogICAgfSwKICAgIC8vIOeEpueCueWIsOafkOihjAogICAgc2Nyb2xsSW50b1ZpZXdGdW4oY29kZXIsIHNjcm9sbEludG9WaWV3KSB7CiAgICAgIGlmIChzY3JvbGxJbnRvVmlldykgewogICAgICAgIGNvZGVyLnNjcm9sbEludG9WaWV3KHNjcm9sbEludG9WaWV3KTsKICAgICAgfQogICAgfSwKICAgIC8vIOWIneWni+WMlgogICAgaW5pdCgpIHsKICAgICAgLy8gY29uc29sZS5sb2coJ2luaXQnKTsKICAgICAgLy8g5Yid5aeL5YyW57yW6L6R5Zmo5a6e5L6L77yM5Lyg5YWl6ZyA6KaB6KKr5a6e5L6L5YyW55qE5paH5pys5Z+f5a+56LGh5ZKM6buY6K6k6YWN572uCiAgICAgIHRoaXMuY29kZXIgPSBDb2RlTWlycm9yLmZyb21UZXh0QXJlYSh0aGlzLiRyZWZzLnRleHRhcmVhLCB0aGlzLm9wdGlvbnMpOwogICAgICAvLyDnvJbovpHlmajotYvlgLwKICAgICAgdGhpcy5jb2Rlci5zZXRWYWx1ZSh0aGlzLmpzb25WYWx1ZSB8fCB0aGlzLmNvZGUpOwogICAgICAvLyBjb25zb2xlLmxvZyh0aGlzLnZhbHVlLCB0aGlzLmNvZGUsICcxMTExMTExMTEnKQogICAgICAvLyDmlK/mjIHlj4zlkJHnu5HlrpoKICAgICAgdGhpcy5jb2Rlci5vbignY2hhbmdlJywgKGNvZGVyKSA9PiB7CiAgICAgICAgdGhpcy5jb2RlID0gY29kZXIuZ2V0VmFsdWUoKTsKICAgICAgICBpZiAodGhpcy4kZW1pdCkgewogICAgICAgICAgdGhpcy4kZW1pdCgnaW5wdXQnLCB0aGlzLmNvZGUpOwogICAgICAgIH0KICAgICAgfSk7CiAgICAgIC8vIGNvbnNvbGUubG9nKHRoaXMuY29kZXIsICd0aGlzLmNvZGVyMDAwJykKICAgICAgdGhpcy4kZW1pdCgnbGFuZ3VhZ2VMaXN0JywgdGhpcy5tYXBBcnJheSk7CiAgICAgIC8qIGxldCBzZWxmPXRoaXM7CiAgICAgIHRoaXMuY29kZXIub24oJ2d1dHRlckNsaWNrJywgZnVuY3Rpb24gKGNtLCBuKSB7CiAgICAgICAgdmFyIGluZm8gPSBzZWxmLmNvZGVyLmxpbmVJbmZvKG4pOwogICAgICAgLy8gY29uc29sZS5sb2coc2VsZi5jb2RlciwgbiwgJzExJykKICAgICAgICBzZWxmLmNvZGVyLnNldEd1dHRlck1hcmtlcihuLCAiIGJyZWFrcG9pbnRzIiwgaW5mby5ndXR0ZXJNYXJrZXJzID8gbnVsbCA6IHNlbGYubWFrZU1hcmtlcignb3JhbmdlJywgJzxpIGNsYXNzPSJpY29uZm9udCBob21lIj48L2k+JykpCiAgICAgIH0pOyovCgogICAgICB0aGlzLnJlYWRPbmx5RnVuKHRoaXMuY29kZXIsIHRoaXMuY29uZmlnUGFyYW1zPy5yZWFkT25seSk7CiAgICAgIHRoaXMubWFya1RleHRGdW4odGhpcy5jb2RlciwgdGhpcy5jb25maWdQYXJhbXM/Lm1hcmtUZXh0KTsKICAgICAgdGhpcy5ndXR0ZXJNYXJrZXJGdW4odGhpcy5jb2RlciwgdGhpcy5jb25maWdQYXJhbXM/Lmd1dHRlck1hcmtlcik7CiAgICAgIHRoaXMuc2V0U2VsZWN0aW9uRnVuKHRoaXMuY29kZXIsIHRoaXMuY29uZmlnUGFyYW1zPy5zZWxlY3Rpb25MaW5lKTsKICAgICAgLy8gdGhpcy5zZXRDdXJzb3JGdW4odGhpcy5jb2RlciwgdGhpcy5zZXRDdXJzb3JMaW5lKTsKICAgICAgLy8gdGhpcy5zY3JvbGxJbnRvVmlld0Z1bih0aGlzLmNvZGVyLHRoaXMuc2Nyb2xsSW50b1ZpZXcpOwogICAgICAvLyB0aGlzLmNvZGVyLnNjcm9sbEludG9WaWV3KHtsaW5lOjIwLCBjaDogMTF9KTsKCiAgICAgIC8qIHRoaXMuY29kZXIuc2V0R3V0dGVyTWFya2VyKDQsICJub3RlLWd1dHRlciIsIHRoaXMubWFrZU1hcmtlcignb3JhbmdlJywgJzxpIGNsYXNzPSJpY29uZm9udCBob21lIj48L2k+JykpOwogICAgICB0aGlzLmNvZGVyLnNldEd1dHRlck1hcmtlcig1LCAibm90ZS1ndXR0ZXIiLCB0aGlzLm1ha2VNYXJrZXIoJ3BpbmsnLCAnPGkgY2xhc3M9Imljb25mb250IG5vdGlmaWNhdGlvbiI+PC9pPicpKTsqLwogICAgICAvKiB0aGlzLmNvZGVyLm1hcmtUZXh0KHtsaW5lOiAwLCBjaDogMH0sIHtsaW5lOiAyLCBjaDogMH0sIHtjbGFzc05hbWU6ICJlcnJvckhpZ2hsaWdodCJ9KTsKICAgICAgdGhpcy5jb2Rlci5tYXJrVGV4dCh7bGluZTogMywgY2g6IDB9LCB7bGluZTogNiwgY2g6IDB9LCB7Y2xhc3NOYW1lOiAiZXJyb3JIaWdobGlnaHQifSk7CiAgICAgIHRoaXMuY29kZXIubWFya1RleHQoe2xpbmU6IDEzLCBjaDogMH0sIHtsaW5lOiAxNiwgY2g6IDB9LCB7Y2xhc3NOYW1lOiAiZXJyb3JIaWdobGlnaHQyIn0pOwogICAgICB0aGlzLmNvZGVyLm1hcmtUZXh0KHtsaW5lOiAxMDAsIGNoOiAwfSwge2xpbmU6IDEwMSwgY2g6IDB9LCB7Y2xhc3NOYW1lOiAiZXJyb3JIaWdobGlnaHQyIn0pOyovCiAgICAgIC8vIHRoaXMuY29kZXIuc2Nyb2xsSW50b1ZpZXcoe2xpbmU6MTAwLCBjaDogMTF9KTsKICAgICAgLy8gdGhpcy5jb2Rlci5zZXRDdXJzb3IoMTAwLDUpOwogICAgICAvLyB0aGlzLmNvZGVyLmZvY3VzKCk7CiAgICAgIC8vIHRoaXMuY29kZXIub3B0aW9ucy5oaWdobGlnaHRTZWxlY3Rpb25NYXRjaGVzID0ge3Nob3dUb2tlbjogdHJ1ZSwgYW5ub3RhdGVTY3JvbGxiYXI6IHRydWV9OwoKICAgICAgLy8gY29uc29sZS5sb2codGhpcy52YWx1ZSwgdGhpcy5jb2RlLCAnMjIyMjIyMjIyJykKICAgICAgLy8g5bCd6K+V5LuO54i25a655Zmo6I635Y+W6K+t5rOV57G75Z6LCiAgICAgIC8qIGlmICh0aGlzLmxhbmd1YWdlKSB7CiAgICAgICAgLy8g6I635Y+W5YW35L2T55qE6K+t5rOV57G75Z6L5a+56LGhCiAgICAgICAgbGV0IG1vZGVPYmogPSB0aGlzLl9nZXRMYW5ndWFnZSh0aGlzLmxhbmd1YWdlKTsKICAgICAgICAvLyDliKTmlq3niLblrrnlmajkvKDlhaXnmoTor63ms5XmmK/lkKbooqvmlK/mjIEKICAgICAgICBpZiAobW9kZU9iaikgewogICAgICAgICAgdGhpcy5tb2RlID0gbW9kZU9iai5sYWJlbDsKICAgICAgICB9CiAgICAgIH0qLwogICAgfSwKICAgIC8vIOiOt+WPluW9k+WJjeivreazleexu+WeiwogICAgX2dldExhbmd1YWdlKGxhbmd1YWdlKSB7CiAgICAgIC8vIOWcqOaUr+aMgeeahOivreazleexu+Wei+WIl+ihqOS4reWvu+aJvuS8oOWFpeeahOivreazleexu+WeiwogICAgICByZXR1cm4gdGhpcy5tb2Rlcy5maW5kKChtb2RlKSA9PiB7CiAgICAgICAgLy8g5omA5pyJ55qE5YC86YO95b+955Wl5aSn5bCP5YaZ77yM5pa55L6/5q+U6L6DCiAgICAgICAgbGV0IGN1cnJlbnRMYW5ndWFnZSA9IGxhbmd1YWdlLnRvTG93ZXJDYXNlKCk7CiAgICAgICAgbGV0IGN1cnJlbnRMYWJlbCA9IG1vZGUubGFiZWwudG9Mb3dlckNhc2UoKTsKICAgICAgICBsZXQgY3VycmVudFZhbHVlID0gbW9kZS52YWx1ZS50b0xvd2VyQ2FzZSgpOwogICAgICAgIC8vIGNvbnNvbGUubG9nKG1vZGUsIGxhbmd1YWdlLCAnX2dldExhbmd1YWdlJyk7CiAgICAgICAgLy8g55Sx5LqO55yf5a6e5YC85Y+v6IO95LiN6KeE6IyD77yM5L6L5aaCIGphdmEg55qE55yf5a6e5YC85pivIHgtamF2YSDvvIzmiYDku6XorrIgdmFsdWUg5ZKMIGxhYmVsIOWQjOaXtuWSjOS8oOWFpeivreazlei/m+ihjOavlOi+gwogICAgICAgIHJldHVybiBjdXJyZW50TGFiZWwgPT09IGN1cnJlbnRMYW5ndWFnZSB8fCBjdXJyZW50VmFsdWUgPT09IGN1cnJlbnRMYW5ndWFnZTsKICAgICAgfSk7CiAgICB9CiAgfQp9Owo="},{"version":3,"sources":["json.vue"],"names":[],"mappings":";;;;;;;;;;;;AAYA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"json.vue","sourceRoot":"packages/json/src","sourcesContent":["<template>\n  <div class=\"dj-json-in-coder-panel\" :id=\"tooltipId\">\n    <div v-if=\"diff\" id=\"dj-json-view\"></div>\n    <textarea v-else ref=\"textarea\"></textarea>\n\n    <!--<div v-if=\"disabled\" class=\"maskBox\"></div>-->\n    <!--    <dj-button class=\"ml10\" size=\"small\" @click=\"getJson\">获取数据</dj-button>-->\n  </div>\n\n</template>\n\n<script type=\"text/ecmascript-6\">\n// 引入全局实例\nimport _CodeMirror from 'codemirror';\n// import './diff_match_patch'\n// import {codemirror} from 'vue-codemirror'\nimport 'codemirror/addon/search/search';\n// import 'codemirror/addon/search/annotatescrollbar'\nimport 'codemirror/addon/search/matchesonscrollbar';\nimport 'codemirror/addon/search/searchcursor';\nimport 'codemirror/addon/search/match-highlighter';\nimport 'codemirror/addon/dialog/dialog.css';\nimport 'codemirror/addon/merge/merge.js';\nimport 'codemirror/addon/merge/merge.css';\n// // 折叠\nimport 'codemirror/addon/fold/foldgutter.css';\nimport 'codemirror/addon/fold/foldcode.js';\nimport 'codemirror/addon/fold/foldgutter.js';\nimport 'codemirror/addon/fold/xml-fold.js';\nimport 'codemirror/addon/fold/indent-fold.js';\nimport 'codemirror/addon/fold/brace-fold';\nimport 'codemirror/addon/fold/markdown-fold.js';\nimport 'codemirror/addon/fold/comment-fold.js';\n// // import 'codemirror/addon/selection/active-line';\n// import 'codemirror/addon/edit/closebrackets';\n// import 'codemirror/addon/edit/matchbrackets';\n\n// 核心样式\nimport 'codemirror/lib/codemirror.css';\n// 需要引入具体的语法高亮库才会有对应的语法高亮效果\n// codemirror 官方其实支持通过 /addon/mode/loadmode.js 和 /mode/meta.js 来实现动态加载对应语法高亮库\n// 但 vue 貌似没有无法在实例初始化后再动态加载对应 JS ，所以此处才把对应的 JS 提前引入\nimport 'codemirror/mode/meta.js';\n// import 'codemirror/mode/javascript/javascript'\n// import 'codemirror/mode/clike/clike'\n// import 'codemirror/mode/go/go'\n// import 'codemirror/mode/htmlmixed/htmlmixed'\n// import 'codemirror/mode/http/http'\n// import 'codemirror/mode/php/php'\n// import 'codemirror/mode/python/python'\n// import 'codemirror/mode/http/http'\n// import 'codemirror/mode/sql/sql'\n// import 'codemirror/mode/vue/vue'\n// import 'codemirror/mode/xml/xml'\n// import 'codemirror/mode/css/css.js';\n// import 'codemirror/mode/markdown/markdown.js';\n// import 'codemirror/mode/r/r.js';\n// import 'codemirror/mode/shell/shell.js';\n// import 'codemirror/mode/swift/swift.js';\n// 引入主题后还需要在 options 中指定主题才会生效\n// import 'codemirror/theme/cobalt.css';\n// import \"codemirror/theme/ambiance.css\";  // 这里引入的是主题样式，根据设置的theme的主题引入，一定要引入！！\n// import 'codemirror/theme/eclipse.css';\n// import 'codemirror/theme/monokai.css'\n// import 'codemirror/theme/blackboard.css';\n\nimport 'codemirror/addon/display/fullscreen.css'; // 全屏显示编辑器\nimport 'codemirror/addon/display/fullscreen.js'; // 全屏显示编辑器\n\n// 引入代码自动提示插件\nimport 'codemirror/addon/hint/show-hint.css';\nimport 'codemirror/addon/hint/sql-hint';\nimport 'codemirror/addon/hint/show-hint';\nimport 'codemirror/addon/display/panel';\n// 尝试获取全局实例\nconst CodeMirror = window.CodeMirror || _CodeMirror;\nimport DiffMatchPatch from 'diff-match-patch';\n// import './codeMirrorModal/revised-search'\nimport './search';\n\n// eslint-disable-next-line camelcase\nwindow.diff_match_patch = DiffMatchPatch;\nwindow.DIFF_DELETE = -1;\nwindow.DIFF_INSERT = 1;\nwindow.DIFF_EQUAL = 0;\nexport default {\n  name: 'djJson',\n  props: {\n    width: {\n      type: String || Number,\n      default: ''\n    },\n    height: {\n      type: String || Number,\n      default: ''\n    },\n    // 外部传入的内容，用于实现双向绑定\n    value: String,\n    valueLeft: {\n      type: String,\n      default: null\n    },\n    valueRight: {\n      type: String,\n      default: null\n    },\n    jsonFormat: {\n      type: Boolean,\n      default: true\n    },\n    // 语言\n    language: {\n      type: String,\n      default: 'javascript'\n    },\n    // 主题\n    theme: {\n      type: String,\n      default: 'eclipse'\n    },\n    disabled: {\n      type: Boolean,\n      default: false\n    },\n    // changeStatus: {\n    //   type: Boolean,\n    //   default: false\n    // },\n    // 代码对比\n    diff: {\n      type: Boolean,\n      default: false\n    },\n    // 左侧配置\n    leftConfig: {\n      type: Object,\n      default() {\n        return {};\n      }\n    },\n    // 左侧配置\n    configParams: {\n      type: Object,\n      default() {\n        return {};\n      }\n    },\n    // 右侧配置\n    rightConfig: {\n      type: Object,\n      default() {\n        return {};\n      }\n    },\n    // 行高亮\n    markText: {\n      type: Array,\n      default() {\n        return [];\n      }\n    },\n    // 选中\n    selectionLine: {\n      type: Array,\n      default() {\n        return [];\n      }\n    },\n    // 行标记\n    gutterMarker: {\n      type: Array,\n      default() {\n        return [];\n      }\n    },\n    // 视图跳转到某行\n    scrollIntoView: {\n      type: Object,\n      default() {\n        return {};\n      }\n    },\n    // 焦点到某行\n    setCursorLine: {\n      type: Object,\n      default() {\n        return {};\n      }\n    }\n  },\n  data() {\n    return {\n      changeStatus: 0,\n      mapArray: [],\n      // 内部真实的内容\n      code: '',\n      // 编辑器实例\n      coder: null,\n      // 默认配置\n      options: {\n        // 缩进格式\n        // tabSize: 2,\n        // 显示行号\n        lineNumbers: true,\n        line: true,\n        tabSize: 4,\n        /* extraKeys: { // 触发按键\n           'Ctrl': 'autocomplete'\n         },*/\n        // mode: {name: 'javascript', json: true},\n        // theme: \"eclipse\",\n        styleActiveLine: true,\n        foldgutter: true,\n        gutters: ['CodeMirror-linenumbers', 'CodeMirror-foldgutter', 'CodeMirror-lint-markers', 'breakpoints', 'note-gutter'],\n        lineWrapping: true,// 代码折叠\n        foldGutter: true,\n        matchBrackets: true,// 括号匹配\n        autoCloseBrackets: true,\n        textWrapping: true\n        // highlightSelectionMatches: {showToken: true, annotateScrollbar: false}\n        // highlightSelectionMatches: {\n        //   minChars: 2,\n        //   showToken:/\\b(java)\\b/,\n        //   style:'matchhighlight',\n        //   annotateScrollbar: true\n        // }\n      },\n      origLeft: null,\n      origRight: null\n    };\n  },\n  computed: {\n    tooltipId() {\n      return `dj-json-${Math.floor(Math.random() * 10000)}`;\n    },\n    jsonValue() {\n      return this.getJsonValue(this.value);\n    },\n    jsonValueLeft() {\n      return this.getJsonValue(this.valueLeft);\n    },\n    jsonValueRight() {\n      return this.getJsonValue(this.valueRight);\n    }\n  },\n  mounted() {\n    // console.log(this.value, 'mounted code编辑器')\n    // 初始化\n    // console.log(window.CodeMirror,CodeMirror,CodeMirror?.modeInfo,'1111111');\n    for (let i = 0; i < CodeMirror?.modeInfo?.length; i++) {\n      let modeInfo = CodeMirror.modeInfo[i];\n      this.mapArray.push({name: modeInfo.name, modeId: modeInfo.mode});\n    }\n    // console.log(this.mapArray, 'mapArray');\n    if (this.diff) {\n      this.origLeft = this.jsonValueLeft;\n      this.code = this.jsonValue;\n      this.origRight = this.jsonValueRight;\n      this.initDiff(this.jsonValueLeft, this.jsonValue, this.jsonValueRight);\n    } else {\n      this.init();\n    }\n    this.themeChange();\n    this.modeChange();\n    this.sizeChange();\n  },\n  watch: {\n    'configParams.readOnly': {\n      handler(val, oldVal) {\n        // console.log(val, oldVal,'configParams11');\n        this.watchConfigFun(val, oldVal, 'configParams', 'readOnly');\n      },\n      deep: true\n    },\n    'leftConfig.readOnly': {\n      handler(val, oldVal) {\n        // console.log(val, oldVal,'leftConfig');\n        this.watchConfigFun(val, oldVal, 'leftConfig', 'readOnly');\n      },\n      deep: true\n    },\n    'rightConfig.readOnly': {\n      handler(val, oldVal) {\n        // console.log(val, oldVal,'rightConfig');\n        this.watchConfigFun(val, oldVal, 'rightConfig', 'rightConfig');\n      },\n      deep: true\n    },\n    value(val) {\n      /* console.log(this.valueLeft, val, 'value=====');\n      if (this.diff) {\n        if (this.coder?.edit) {\n          this.changeStatusFun(this.coder?.edit, true, this.value);\n        }\n      } else {\n        this.changeStatusFun(this.coder, true, this.value);\n      }*/\n      if (this.value != this.code) {\n        this.updated();\n      }\n    },\n    /* code(val) {\n     // console.log(val, 'code=====');\n    },*/\n    valueLeft(val) {\n      if (this.valueLeft != this.origLeft) {\n        this.updated();\n      }\n      /* console.log(val, 'valueLeft=====');\n      this.origLeft = val;\n      this.changeStatusFun(this.coder?.left?.orig, true, this.valueLeft);\n      // console.log(val, this.valueLeft, 'valueLeft');\n      // if (this.diff) {\n      //   this.initDiff(this.origLeft, this.value, this.origRight)\n      // }*/\n    },\n    valueRight(val) {\n      if (this.valueRight != this.origRight) {\n        this.updated();\n      }\n      /* this.origRight = val;\n      // if (this.diff) {\n      //   this.initDiff(this.origLeft, this.value, this.origRight)\n      // }\n      if (this.coder?.right?.orig) {\n        this.changeStatusFun(this.coder?.right?.orig, true, this.valueRight);\n      }*/\n    },\n    theme() {\n      this.themeChange();\n    },\n    language(val) {\n      // console.log(this.language, 'language');\n      this.modeChange();\n    },\n    changeStatus(val) {\n      // console.log(val,'changeStatus');\n      if (this.diff) {\n        if (this.coder?.left?.orig) {\n          this.changeStatusFun(this.coder?.left?.orig, val, this.jsonValueLeft);\n        }\n        if (this.coder?.edit) {\n          this.changeStatusFun(this.coder?.edit, val, this.jsonValue);\n        }\n        if (this.coder?.right?.orig) {\n          this.changeStatusFun(this.coder?.right?.orig, val, this.jsonValueRight);\n        }\n      } else {\n        /* if (val === false) {\n          this.coder.setValue('');\n        } else {\n          this.coder.setValue(this.value || '');\n        }*/\n        this.changeStatusFun(this.coder, val, this.jsonValue);\n      }\n      // console.log(val, this.value, 'changeStatus=====');\n    }\n  },\n  methods: {\n    watchConfigFun(val, oldVal, position, key) {\n      // console.log(val, oldVal);\n      let coder = this.getCoder(position);\n      if (val !== oldVal) {\n        this.readOnlyFun(coder, this[position][key]);\n      }\n    },\n    getCoder(key) {\n      let coder;\n      if (this.diff) {\n        if (key === 'leftConfig') {\n          coder = this.coder?.left?.orig;\n        } else if (key === 'rightConfig') {\n          coder = this.coder?.right?.orig;\n        } else {\n          coder = this.coder?.edit;\n        }\n      } else {\n        coder = this.coder;\n      }\n      return coder;\n    },\n    getJsonValue(val) {\n      if (this.jsonFormat) {\n        if (val && typeof val === 'string') {\n          try {\n            var obj = JSON.parse(val);\n            if (typeof obj === 'object' && obj) {\n              return JSON.stringify(obj, null, '\\t');\n            }\n            return val;\n          } catch (e) {\n            return val;\n          }\n        }\n        return val;\n      }\n      return val;\n    },\n    updated() {\n      this.changeStatus++;\n    },\n    changeStatusFun(coder, changeStatus, val) {\n      coder.setValue(val || '');\n      /* if (changeStatus === false) {\n        coder.setValue('');\n      } else {\n        coder.setValue(val || '');\n      }*/\n    },\n    getJson() {\n      // console.log(this.origLeft, '\\n', this.code, '\\n', this.origRight, 'getJson');\n    },\n    initDiff(origLeft, value, origRight) {\n      if (value === null) {\n        return;\n      }\n      let target = document.getElementById('dj-json-view');\n      target.innerHTML = '';\n      // eslint-disable-next-line new-cap\n      this.coder = CodeMirror.MergeView(target, {\n        value: value,\n        origLeft: origLeft !== null ? origLeft : null,\n        orig: origRight !== null ? origRight : null,\n        cursorHeight: 1, // 光标高度\n        lineNumbers: true,\n        allowEditingOriginals: true,\n        matchBrackets: true,// 匹配括号\n        // revertButtons: true, // 是否显示还原按钮\n        // searchbox: true\n        ...this.options\n        // highlightDifferences: \"highlight\",//有差异的地方是否高亮\n        // connect: null,\n        // revertButtons: false,//revert按钮设置为true可以回滚\n        // styleActiveLine: true,//光标所在的位置代码高亮\n        // smartIndent: true, // 智能缩进\n        // matchBrackets: true, // 括号匹配\n        // textWrapping: true,\n        // foldGutter:true,//代码折叠\n        // lineWrapping:true,//代码折叠\n        // gutters: [\"CodeMirror-linenumbers\", \"CodeMirror-foldgutter\"]\n      });\n      // console.log(this.coder, 'this.coder');\n      this.themeChange();\n      if (origLeft !== null) {\n        this.readOnlyFun(this.coder.left.orig, this.leftConfig?.readOnly);\n        this.markTextFun(this.coder.left.orig, this.leftConfig?.markText);\n        this.gutterMarkerFun(this.coder.left.orig, this.leftConfig?.gutterMarker);\n        this.setSelectionFun(this.coder.left.orig, this.leftConfig?.selectionLine);\n        this.codeChange(this.coder.left.orig, 'origLeft');\n\n      }\n      if (value !== null) {\n        this.readOnlyFun(this.coder.edit, this.configParams?.readOnly);\n        this.markTextFun(this.coder.edit, this.configParams?.markText);\n        this.gutterMarkerFun(this.coder.edit, this.configParams?.gutterMarker);\n        this.setSelectionFun(this.coder.edit, this.configParams?.selectionLine);\n        this.codeChange(this.coder.edit, 'code');\n      }\n      if (origRight !== null) {\n        this.readOnlyFun(this.coder.right.orig, this.rightConfig?.readOnly);\n        this.markTextFun(this.coder.right.orig, this.rightConfig?.markText);\n        this.gutterMarkerFun(this.coder.right.orig, this.rightConfig?.gutterMarker);\n        this.setSelectionFun(this.coder.right.orig, this.rightConfig?.selectionLine);\n        this.codeChange(this.coder.right.orig, 'origRight');\n      }\n      // this.coder.edit.scrollIntoView({line:100, ch: 11});\n    },\n    codeChange(coder, key) {\n      coder.on('change', (coder) => {\n        this[key] = coder.getValue();\n        if (this.$emit) {\n          this.$emit('codeChange', this.origLeft, this.code, this.origRight);\n        }\n      });\n    },\n    // 主题\n    themeChange() {\n      // console.log(this.theme, 'this.theme');\n      let theme = this.theme || 'eclipse';\n      if (theme) {\n        require('codemirror/theme/' + theme + '.css');\n        if (this.diff) {\n          this.coder?.edit?.setOption('theme', theme);\n          this.coder?.left?.orig?.setOption('theme', theme);\n          this.coder?.right?.orig?.setOption('theme', theme);\n        } else {\n          this.coder?.setOption('theme', theme);\n        }\n      }\n    },\n    // 语言\n    modeChange() {\n      // console.log(this.language, 'this.language');\n      let mode = this.language || 'javascript';\n      if (mode) {\n        require('codemirror/mode/' + mode + '/' + mode);\n        if (this.diff) {\n          this.coder?.edit?.setOption('mode', mode);\n          this.coder?.left?.orig?.setOption('mode', mode);\n          this.coder?.right?.orig?.setOption('mode', mode);\n        } else {\n          this.coder?.setOption('mode', mode);\n        }\n      }\n    },\n    // 行高亮\n    readOnlyFun(coder, readOnly) {\n      coder.setOption('readOnly', readOnly);\n    },\n    // 大小\n    sizeChange() {\n      // let sia=this.height;\n      if (this.diff) {\n        this.coder?.edit?.setSize(this.width, this.height);\n        this.coder?.left?.orig?.setSize(this.width, this.height);\n        this.coder?.right?.orig?.setSize(this.width, this.height);\n        let mergeDom = document?.getElementById(this.tooltipId)?.querySelector('.CodeMirror-merge');\n        // console.log(mergeDom, 'mergeDom');\n        if (mergeDom && this.height) {\n          mergeDom.style.height = this.height;\n        }\n        /* if (this.width) {\n          mergeDom.style.width = this.width;\n        }*/\n      } else {\n        this.coder.setSize(this.width, this.height);\n      }\n    },\n    // 行高亮\n    markTextFun(coder, markTextArr) {\n      for (let i in markTextArr) {\n        coder.markText(markTextArr[i].start, markTextArr[i].end, markTextArr[i].element);\n      }\n    },\n    // 标记\n    makeMarker(color, innerHTML) {\n      var marker = document.createElement('div');\n      marker.style.color = color;\n      marker.innerHTML = innerHTML;\n      // marker.appendChild(innerHTML);\n      // console.log(color, innerHTML, marker, 'makeMarker');\n      return marker;\n    },\n    // 行标记\n    gutterMarkerFun(coder, gutterMarkerArr) {\n      for (let j in gutterMarkerArr) {\n        coder.setGutterMarker(gutterMarkerArr[j].line, 'note-gutter', this.makeMarker(gutterMarkerArr[j].color, gutterMarkerArr[j].innerHTML));\n      }\n      /* console.log(coder,gutterMarkerArr);\n      if (!gutterMarkerArr) {\n        let mergeDom = document?.getElementById(this.tooltipId)?.querySelector('.note-gutter');\n        mergeDom.classList.add('width0');\n        /!* let noteDom = document?.querySelectorAll('#'+this.tooltipId+' .note-gutter');\n        console.log(document?.getElementById(this.tooltipId),noteDom, 'noteDom');\n        // noteDom.add('width0');\n        for (let i in noteDom) {\n          if (noteDom[i] && noteDom[i].style) {\n            console.log(noteDom[i] , 'noteDom[i] ');\n            // noteDom[i].style.width = '0';\n            noteDom[i].classList.add('width0');\n          }\n        }*!/\n        // coder.refresh();\n      }*/\n    },\n    // 选中行\n    setSelectionFun(coder, setSelectionArr) {\n      for (let i in setSelectionArr) {\n        coder.setSelection(setSelectionArr[i].start, setSelectionArr[i].end);\n      }\n    },\n    // 焦点到某行\n    setCursorFun(coder, setCursorLine) {\n      if (setCursorLine) {\n        coder.setCursor(setCursorLine.line, setCursorLine.ch);\n        coder.focus();\n      }\n      // this.coder.setCursor(100,5);\n      // this.coder.focus();\n    },\n    // 焦点到某行\n    scrollIntoViewFun(coder, scrollIntoView) {\n      if (scrollIntoView) {\n        coder.scrollIntoView(scrollIntoView);\n      }\n    },\n    // 初始化\n    init() {\n      // console.log('init');\n      // 初始化编辑器实例，传入需要被实例化的文本域对象和默认配置\n      this.coder = CodeMirror.fromTextArea(this.$refs.textarea, this.options);\n      // 编辑器赋值\n      this.coder.setValue(this.jsonValue || this.code);\n      // console.log(this.value, this.code, '111111111')\n      // 支持双向绑定\n      this.coder.on('change', (coder) => {\n        this.code = coder.getValue();\n        if (this.$emit) {\n          this.$emit('input', this.code);\n        }\n      });\n      // console.log(this.coder, 'this.coder000')\n      this.$emit('languageList', this.mapArray);\n      /* let self=this;\n      this.coder.on('gutterClick', function (cm, n) {\n        var info = self.coder.lineInfo(n);\n       // console.log(self.coder, n, '11')\n        self.coder.setGutterMarker(n, \" breakpoints\", info.gutterMarkers ? null : self.makeMarker('orange', '<i class=\"iconfont home\"></i>'))\n      });*/\n\n      this.readOnlyFun(this.coder, this.configParams?.readOnly);\n      this.markTextFun(this.coder, this.configParams?.markText);\n      this.gutterMarkerFun(this.coder, this.configParams?.gutterMarker);\n      this.setSelectionFun(this.coder, this.configParams?.selectionLine);\n      // this.setCursorFun(this.coder, this.setCursorLine);\n      // this.scrollIntoViewFun(this.coder,this.scrollIntoView);\n      // this.coder.scrollIntoView({line:20, ch: 11});\n\n      /* this.coder.setGutterMarker(4, \"note-gutter\", this.makeMarker('orange', '<i class=\"iconfont home\"></i>'));\n      this.coder.setGutterMarker(5, \"note-gutter\", this.makeMarker('pink', '<i class=\"iconfont notification\"></i>'));*/\n      /* this.coder.markText({line: 0, ch: 0}, {line: 2, ch: 0}, {className: \"errorHighlight\"});\n      this.coder.markText({line: 3, ch: 0}, {line: 6, ch: 0}, {className: \"errorHighlight\"});\n      this.coder.markText({line: 13, ch: 0}, {line: 16, ch: 0}, {className: \"errorHighlight2\"});\n      this.coder.markText({line: 100, ch: 0}, {line: 101, ch: 0}, {className: \"errorHighlight2\"});*/\n      // this.coder.scrollIntoView({line:100, ch: 11});\n      // this.coder.setCursor(100,5);\n      // this.coder.focus();\n      // this.coder.options.highlightSelectionMatches = {showToken: true, annotateScrollbar: true};\n\n      // console.log(this.value, this.code, '222222222')\n      // 尝试从父容器获取语法类型\n      /* if (this.language) {\n        // 获取具体的语法类型对象\n        let modeObj = this._getLanguage(this.language);\n        // 判断父容器传入的语法是否被支持\n        if (modeObj) {\n          this.mode = modeObj.label;\n        }\n      }*/\n    },\n    // 获取当前语法类型\n    _getLanguage(language) {\n      // 在支持的语法类型列表中寻找传入的语法类型\n      return this.modes.find((mode) => {\n        // 所有的值都忽略大小写，方便比较\n        let currentLanguage = language.toLowerCase();\n        let currentLabel = mode.label.toLowerCase();\n        let currentValue = mode.value.toLowerCase();\n        // console.log(mode, language, '_getLanguage');\n        // 由于真实值可能不规范，例如 java 的真实值是 x-java ，所以讲 value 和 label 同时和传入语法进行比较\n        return currentLabel === currentLanguage || currentValue === currentLanguage;\n      });\n    }\n  }\n};\n</script>\n\n<style lang=\"less\">\n</style>\n"]}]}