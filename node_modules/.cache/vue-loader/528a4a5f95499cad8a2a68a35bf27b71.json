{"remainingRequest":"/Users/wangjunxia/work-github/dj-design/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/wangjunxia/work-github/dj-design/packages/formItem/src/formItem.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/wangjunxia/work-github/dj-design/packages/formItem/src/formItem.vue","mtime":1676257891917},{"path":"/Users/wangjunxia/work-github/dj-design/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/wangjunxia/work-github/dj-design/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/wangjunxia/work-github/dj-design/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/wangjunxia/work-github/dj-design/node_modules/vue-loader/lib/index.js","mtime":1655715099000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCi8vIGltcG9ydCB3aXRoQ29tcG9uZW50IGZyb20gJy4vd2l0aENvbXBvbmVudCc7CmltcG9ydCB2YWxpZGF0ZSBmcm9tICcuL3ZhbGlkYXRlJzsKCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnZGpGb3JtSXRlbScsCiAgLy8gY29tcG9uZW50czoge3dpdGhDb21wb25lbnR9LAogIHByb3BzOiB7CiAgICB2YWx1ZTogewogICAgICB0eXBlOiBPYmplY3QsCiAgICAgIGRlZmF1bHQ6ICgpID0+IHt9CiAgICB9LAogICAgZW1wdHk6IHsKICAgICAgdHlwZTogQm9vbGVhbiwKICAgICAgZGVmYXVsdDogdHJ1ZQogICAgfSwKICAgIGNvbG9uOiB7CiAgICAgIHR5cGU6IEJvb2xlYW4sCiAgICAgIGRlZmF1bHQ6IHRydWUKICAgIH0sCiAgICBmb3JtOiB7CiAgICAgIHR5cGU6IE9iamVjdAogICAgfSwKICAgIHJ1bGU6IHsKICAgICAgdHlwZTogQXJyYXkKICAgIH0sCiAgICB2aWV3OiB7CiAgICAgIHR5cGU6IEJvb2xlYW4sCiAgICAgIGRlZmF1bHQ6IHRydWUKICAgIH0sCiAgICBsYWJlbDogU3RyaW5nLAogICAgZmllbGQ6IFN0cmluZywKICAgIGZpZWxkczogU3RyaW5nLAogICAgbGFiZWxUb3A6IHsKICAgICAgdHlwZTogQm9vbGVhbiwKICAgICAgZGVmYXVsdDogbnVsbAogICAgfSwKICAgIGlubGluZTogewogICAgICB0eXBlOiBCb29sZWFuLAogICAgICBkZWZhdWx0OiBudWxsCiAgICB9LAogICAgc2hvd0Vycm9yTXNnOiB7CiAgICAgIHR5cGU6IEJvb2xlYW4sCiAgICAgIGRlZmF1bHQ6IG51bGwKICAgIH0sCiAgICBjaGVja1BvcG92ZXI6IHsKICAgICAgdHlwZTogQm9vbGVhbiwKICAgICAgZGVmYXVsdDogbnVsbAogICAgfSwKICAgIGxhYmVsd2lkdGg6IHsKICAgICAgdHlwZTogU3RyaW5nCiAgICB9LAogICAgaGVscDogewogICAgICB0eXBlOiBTdHJpbmcKICAgIH0sCiAgICBoZWxwV3JhcDogewogICAgICB0eXBlOiBCb29sZWFuLAogICAgICBkZWZhdWx0OiB0cnVlCiAgICB9LAogICAgaGVscENvbG9yOiB7CiAgICAgIHR5cGU6IFN0cmluZwogICAgfSwKICAgIGZvcm1JdGVtV2lkdGg6IHsKICAgICAgdHlwZTogU3RyaW5nCiAgICB9CiAgfSwKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgZGlzYWJsZWQ6IGZhbHNlLAogICAgICBlcnJvck1zZzogJycsCiAgICAgIGVycm9yVmlzaWJsZTogZmFsc2UKICAgIH07CiAgfSwKICBjb21wdXRlZDogewogICAgZ2V0TGFiZWxXaWR0aCgpIHsKICAgICAgcmV0dXJuIHRoaXMubGFiZWx3aWR0aCB8fCB0aGlzLl9mb3JtLmxhYmVsd2lkdGg7CiAgICB9LAogICAgZ2V0U2hvd0Vycm9yTXNnKCkgewogICAgICBpZiAodGhpcy5zaG93RXJyb3JNc2cgPT0gdHJ1ZSB8fCB0aGlzLnNob3dFcnJvck1zZyA9PT0gZmFsc2UpIHsKICAgICAgICByZXR1cm4gdGhpcy5zaG93RXJyb3JNc2c7CiAgICAgIH0KICAgICAgcmV0dXJuIHRoaXMuX2Zvcm0uc2hvd0Vycm9yTXNnOwogICAgfSwKICAgIGdldENoZWNrUG9wb3ZlcigpIHsKICAgICAgaWYgKHRoaXMuY2hlY2tQb3BvdmVyID09PSB0cnVlIHx8IHRoaXMuY2hlY2tQb3BvdmVyID09PSBmYWxzZSkgewogICAgICAgIHJldHVybiB0aGlzLmNoZWNrUG9wb3ZlcjsKICAgICAgfQogICAgICByZXR1cm4gdGhpcy5fZm9ybS5jaGVja1BvcG92ZXI7CiAgICB9LAogICAgZ2V0SW5saW5lKCkgewogICAgICBpZiAodGhpcy5pbmxpbmUgPT09IHRydWUgfHwgdGhpcy5pbmxpbmUgPT09IGZhbHNlKSB7CiAgICAgICAgcmV0dXJuIHRoaXMuaW5saW5lOwogICAgICB9CiAgICAgIHJldHVybiB0aGlzLl9mb3JtLmlubGluZTsKICAgIH0sCiAgICBnZXRMYWJlbFRvcCgpIHsKICAgICAgaWYgKHRoaXMubGFiZWxUb3AgPT09IHRydWUgfHwgdGhpcy5sYWJlbFRvcCA9PT0gZmFsc2UpIHsKICAgICAgICByZXR1cm4gdGhpcy5sYWJlbFRvcDsKICAgICAgfQogICAgICByZXR1cm4gdGhpcy5fZm9ybS5sYWJlbFRvcDsKICAgIH0sCiAgICBfZm9ybSgpIHsKICAgICAgbGV0IHBhcmVudCA9IHRoaXMuJHBhcmVudDsKICAgICAgbGV0IGNvbXBvbmVudFRhZyA9IHBhcmVudC4kb3B0aW9ucy5fY29tcG9uZW50VGFnOwogICAgICB3aGlsZSAoY29tcG9uZW50VGFnICE9PSAnZGotZm9ybScpIHsKICAgICAgICBwYXJlbnQgPSBwYXJlbnQuJHBhcmVudDsKICAgICAgICBjb21wb25lbnRUYWcgPSBwYXJlbnQuJG9wdGlvbnMuX2NvbXBvbmVudFRhZzsKICAgICAgfQogICAgICByZXR1cm4gcGFyZW50OwogICAgfSwKICAgIGlzRm9ybUVsKCkgewogICAgICByZXR1cm4gISF0aGlzLiRzbG90cy5kZWZhdWx0LmZpbmQoaXRlbSA9PiAhIVsnZGotaW5wdXQnLCAnZGotc2VsZWN0JywgJ2RqLXJhZGlvJywgJ2RqLWNoZWNrYm94JywgJ2RqLWNoZWNrYm94LWdyb3VwJywgJ2RqLXN3aXRjaCcsICdkai1jb2xvci1waWNrZXInLCAnZGotc3dpdGNoJywgJ2RqLWJ1dHRvbicsICdkai11cGxvYWQnLCAnZGotdGV4dGFyZWEnXS5maW5kKHRhZyA9PiB0YWcgPT0gaXRlbS5jb21wb25lbnRPcHRpb25zPy50YWcpKTsKICAgIH0KICB9LAogIHdhdGNoOiB7CiAgfSwKICBjcmVhdGVkKCkgewogICAgaWYgKCF0aGlzLiRzbG90cy5kZWZhdWx0KSB7CiAgICAgIC8vIGNvbnNvbGUubG9nKHRoaXMuJHNsb3RzLmRlZmF1bHQpOwogICAgfQogIH0sCiAgbW91bnRlZCgpIHsKICB9LAogIG1ldGhvZHM6IHsKICAgIGdldEZpbGVkcygpIHsKICAgICAgcmV0dXJuIHRoaXMuZmllbGQgPyBbdGhpcy5maWVsZF0gOiB0aGlzLmZpZWxkcyAmJiB0aGlzLmZpZWxkcy5zcGxpdCgnLCcpIHx8IFtdOwogICAgfSwKICAgIHZhbGlkYXRlKGlzQ2hhbmdlKSB7CiAgICAgIHRoaXMuZXJyb3JNc2cgPSAnJzsKICAgICAgbGV0IGNoZWNrZWQgPSB0cnVlOwogICAgICBsZXQgZmllbGRzID0gdGhpcy5nZXRGaWxlZHMoKTsKICAgICAgaWYgKGZpZWxkcykgewogICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgZmllbGRzLmxlbmd0aDsgaisrKSB7CiAgICAgICAgICBsZXQgZmllbGQgPSBmaWVsZHNbal07CiAgICAgICAgICBsZXQgcnVsZXMgPSB0aGlzLnJ1bGUgfHwgdGhpcy5fZm9ybS5ydWxlc1tmaWVsZF07CiAgICAgICAgICBpZiAocnVsZXMpIHsKICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBydWxlcy5sZW5ndGg7IGkrKykgewogICAgICAgICAgICAgIGxldCBydWxlID0gcnVsZXNbaV07CiAgICAgICAgICAgICAgaWYgKHZhbGlkYXRlLnJ1bGVzW3J1bGUudHlwZV0gJiYgKGlzQ2hhbmdlID8gcnVsZS5jaGFuZ2VUcmlnZ2VyIDogdHJ1ZSkpIHsKICAgICAgICAgICAgICAgIHRoaXMuZXJyb3JWaXNpYmxlID0gZmFsc2U7CiAgICAgICAgICAgICAgICBsZXQgdmFsdWUgPSB0aGlzLmZvcm0gPyB0aGlzLmZvcm1bZmllbGRdIDogdGhpcy5fZm9ybS5kYXRhW2ZpZWxkXTsKICAgICAgICAgICAgICAgIGNoZWNrZWQgPSB2YWxpZGF0ZS5ydWxlc1tydWxlLnR5cGVdLmNhbGwodGhpcy5mb3JtIHx8IHRoaXMuX2Zvcm0uZGF0YSwgdmFsdWUsIHJ1bGUpOwogICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBjaGVja2VkID09ICdzdHJpbmcnID8gY2hlY2tlZCA6ICFjaGVja2VkKSB7CiAgICAgICAgICAgICAgICAgIGxldCBuYW1lID0gdGhpcy5sYWJlbDsKICAgICAgICAgICAgICAgICAgbGV0IG1zZyA9IHZhbGlkYXRlLnRlbXBsYXRlc1tydWxlLnR5cGVdOwogICAgICAgICAgICAgICAgICBpZiAocnVsZS50cmFuc2Zvcm0gPT0gJ3N0cmluZycgfHwgcnVsZS50cmFuc2Zvcm0gPT0gJ2FycmF5JyB8fCB0eXBlb2YgdmFsdWUgPT09ICdzdHJpbmcnIHx8IEFycmF5LmlzQXJyYXkodmFsdWUpKSB7CiAgICAgICAgICAgICAgICAgICAgbXNnID0gdmFsaWRhdGUudGVtcGxhdGVzW3J1bGUudHlwZSArICdzdHJpbmcnXSB8fCB2YWxpZGF0ZS50ZW1wbGF0ZXNbcnVsZS50eXBlXTsKICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICBpZiAocnVsZS50eXBlID09PSAndHlwZScpIHsKICAgICAgICAgICAgICAgICAgICBsZXQgdHlwZU5hbWUgPSB2YWxpZGF0ZS50eXBlTmFtZVtydWxlLmlzXTsKICAgICAgICAgICAgICAgICAgICBtc2cgPSBtc2cgKyB0eXBlTmFtZTsKICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICB0aGlzLmVycm9yVmlzaWJsZSA9IHRydWU7CiAgICAgICAgICAgICAgICAgIHRoaXMuZXJyb3JNc2cgPSAoKHR5cGVvZiBjaGVja2VkID09ICdzdHJpbmcnID8gY2hlY2tlZCA6ICcnKSB8fCBydWxlLm1zZyB8fCBtc2cgfHwgYCR7bmFtZX3moKHpqozkuI3pgJrov4dgKQogICAgICAgICAgICAgICAgICAgIC5yZXBsYWNlKC9cJFx7bmFtZVx9L2csIHRoaXMubGFiZWwpCiAgICAgICAgICAgICAgICAgICAgLnJlcGxhY2UoL1wkXHt0eXBlXH0vZywgcnVsZS50eXBlKQogICAgICAgICAgICAgICAgICAgIC5yZXBsYWNlKC9cJFx7bWluXH0vZywgcnVsZS5taW4pCiAgICAgICAgICAgICAgICAgICAgLnJlcGxhY2UoL1wkXHttYXhcfS9nLCBydWxlLm1heCkKICAgICAgICAgICAgICAgICAgICAucmVwbGFjZSgvXCRce2VxdWFsXH0vZywgcnVsZS5lcXVhbCk7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgICAgaWYgKCEodHlwZW9mIGNoZWNrZWQgPT0gJ3N0cmluZycgPyBmYWxzZSA6IGNoZWNrZWQpKQogICAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgfQogICAgICB9CiAgICAgIHJldHVybiB0cnVlOwogICAgfSwKICAgIHJlc2V0KCkgewogICAgICBsZXQgZm9ybSA9IHRoaXMuZm9ybSB8fCB0aGlzLl9mb3JtLmRhdGE7CiAgICAgIHRoaXMuZ2V0RmlsZWRzKCkuZm9yRWFjaCgoZmllbGQpID0+IHsKICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShmb3JtW2ZpZWxkXSkpIHsKICAgICAgICAgIGZvcm1bZmllbGRdID0gW107CiAgICAgICAgfSBlbHNlIGlmICh0eXBlb2YgZm9ybVtmaWVsZF0gPT0gJ3N0cmluZycpIHsKICAgICAgICAgIGZvcm1bZmllbGRdID0gJyc7CiAgICAgICAgfSBlbHNlIGlmICh0eXBlb2YgZm9ybVtmaWVsZF0gPT0gJ2Jvb2xlYW4nKSB7CiAgICAgICAgICBmb3JtW2ZpZWxkXSA9IGZhbHNlOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBmb3JtW2ZpZWxkXSA9IG51bGw7CiAgICAgICAgfQogICAgICB9KTsKICAgICAgdGhpcy5yZXNldFZhbGlkYXRlKCk7CiAgICB9LAogICAgcmVzZXRWYWxpZGF0ZSgpIHsKICAgICAgdGhpcy5lcnJvck1zZyA9ICcnOwogICAgfSwKICAgIHNldERpc2FibGVkKGRpc2FibGVkKSB7CiAgICAgIHRoaXMuZGlzYWJsZWQgPSBkaXNhYmxlZDsKICAgIH0sCiAgICBnZXRFcnJvck1zZygpIHsKICAgICAgcmV0dXJuIHRoaXMuZXJyb3JNc2c7CiAgICB9LAogICAgcmVmcmFzaCgpIHsKICAgICAgbGV0IGZvcm0gPSB0aGlzLmZvcm0gfHwgdGhpcy5fZm9ybS5kYXRhOwogICAgICB0aGlzLmdldEZpbGVkcygpLmZvckVhY2goZmllbGQgPT4gewogICAgICAgIGxldCBvbGQgPSBmb3JtW2ZpZWxkXTsKICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShmb3JtW2ZpZWxkXSkpIHsKICAgICAgICAgIGZvcm1bZmllbGRdID0gW107CiAgICAgICAgfSBlbHNlIGlmICh0eXBlb2YgZm9ybVtmaWVsZF0gPT0gJ3N0cmluZycpIHsKICAgICAgICAgIGZvcm1bZmllbGRdID0gZm9ybVtmaWVsZF0gPT0gJycgPyAnICcgOiAnJzsKICAgICAgICB9IGVsc2UgaWYgKHR5cGVvZiBmb3JtW2ZpZWxkXSA9PSAnYm9vbGVhbicpIHsKICAgICAgICAgIGZvcm1bZmllbGRdID0gZm9ybVtmaWVsZF0gIT09IHRydWU7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGZvcm1bZmllbGRdID0gZm9ybVtmaWVsZF0gPT09IG51bGwgPyB2b2lkIDAgOiBudWxsOwogICAgICAgIH0KICAgICAgICB0aGlzLiRuZXh0VGljaygoKSA9PiB7CiAgICAgICAgICBmb3JtW2ZpZWxkXSA9IG9sZDsKICAgICAgICB9KTsKICAgICAgfSk7CiAgICB9CiAgfQp9Owo="},{"version":3,"sources":["formItem.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;AA0BA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"formItem.vue","sourceRoot":"packages/formItem/src","sourcesContent":["<template>\n  <div class=\"dj-form-item\" :class=\"{'error': errorMsg, 'dj-form-item-inline': inline, 'dj-form-item-column': labelTop, 'dj-form-item-empty': !($slots.default || label)}\" :style=\"formItemWidth ? `width: ${formItemWidth}` : (!getShowErrorMsg || !getCheckPopover || _form.formwidth) && !getInline && `width: 100%;`\">\n    <label v-if=\"($slots.default || label)\" :style=\"getLabelWidth && `width: ${getLabelWidth};` || ''\" class=\"dj-form-item_label\" :class=\"{'empty': label && empty, 'colon': label && colon, 'noright': !label}\">{{label}}</label>\n    <div v-if=\"_form.type == 'info' && view && ($slots.default || label)\"  class=\"dj-form-item-content\" :style=\"`width: calc(100% - ${getLabelWidth});`\">\n      <slot name=\"info\" v-bind=\"form || _form.data\">\n        {{form ? form : _form.data[field]}}\n      </slot>\n    </div>\n    <div v-else-if=\"($slots.default || label)\" :style=\"`width: ${getLabelTop ? '100%' : 'calc(100% - ' + getLabelWidth + ')'};`\">\n        <div class=\"dj-form-item-content\" :style=\"`width: 100%;`\">\n            <!-- <withComponent v-if=\"isFormEl\" :slotsDefault=\"$slots.default\" :disabled=\"disabled\" @change=\"validate(true)\"/> -->\n            <slot/>\n            <div v-if=\"getShowErrorMsg && errorMsg && getCheckPopover\" class=\"dj-form-item-info\">\n                <dj-popover :placement=\"_form.errorMsgPosition\" :visible.sync=\"errorVisible\" trigger=\"hover\"><div class=\"error\" slot=\"content\">{{errorMsg}}</div><dj-icon icon=\"help\"></dj-icon></dj-popover>\n            </div>\n            <div v-if=\"help && !helpWrap\" :style=\"helpColor && `color: ${helpColor};`\" class=\"dj-form-item-help\">{{help}}</div>\n        </div>\n        <div v-if=\"help && helpWrap\" :style=\"helpColor && `color: ${helpColor};`\" class=\"dj-form-item-help dj-form-item-helpB\">{{help}}</div>\n        <div v-if=\"getShowErrorMsg && errorMsg && !getCheckPopover\" class=\"dj-form-item-infoB\">\n            <div class=\"error\" slot=\"content\">{{errorMsg}}</div>\n        </div>\n    </div>\n  </div>\n</template>\n\n<script>\n// import withComponent from './withComponent';\nimport validate from './validate';\n\nexport default {\n  name: 'djFormItem',\n  // components: {withComponent},\n  props: {\n    value: {\n      type: Object,\n      default: () => {}\n    },\n    empty: {\n      type: Boolean,\n      default: true\n    },\n    colon: {\n      type: Boolean,\n      default: true\n    },\n    form: {\n      type: Object\n    },\n    rule: {\n      type: Array\n    },\n    view: {\n      type: Boolean,\n      default: true\n    },\n    label: String,\n    field: String,\n    fields: String,\n    labelTop: {\n      type: Boolean,\n      default: null\n    },\n    inline: {\n      type: Boolean,\n      default: null\n    },\n    showErrorMsg: {\n      type: Boolean,\n      default: null\n    },\n    checkPopover: {\n      type: Boolean,\n      default: null\n    },\n    labelwidth: {\n      type: String\n    },\n    help: {\n      type: String\n    },\n    helpWrap: {\n      type: Boolean,\n      default: true\n    },\n    helpColor: {\n      type: String\n    },\n    formItemWidth: {\n      type: String\n    }\n  },\n  data() {\n    return {\n      disabled: false,\n      errorMsg: '',\n      errorVisible: false\n    };\n  },\n  computed: {\n    getLabelWidth() {\n      return this.labelwidth || this._form.labelwidth;\n    },\n    getShowErrorMsg() {\n      if (this.showErrorMsg == true || this.showErrorMsg === false) {\n        return this.showErrorMsg;\n      }\n      return this._form.showErrorMsg;\n    },\n    getCheckPopover() {\n      if (this.checkPopover === true || this.checkPopover === false) {\n        return this.checkPopover;\n      }\n      return this._form.checkPopover;\n    },\n    getInline() {\n      if (this.inline === true || this.inline === false) {\n        return this.inline;\n      }\n      return this._form.inline;\n    },\n    getLabelTop() {\n      if (this.labelTop === true || this.labelTop === false) {\n        return this.labelTop;\n      }\n      return this._form.labelTop;\n    },\n    _form() {\n      let parent = this.$parent;\n      let componentTag = parent.$options._componentTag;\n      while (componentTag !== 'dj-form') {\n        parent = parent.$parent;\n        componentTag = parent.$options._componentTag;\n      }\n      return parent;\n    },\n    isFormEl() {\n      return !!this.$slots.default.find(item => !!['dj-input', 'dj-select', 'dj-radio', 'dj-checkbox', 'dj-checkbox-group', 'dj-switch', 'dj-color-picker', 'dj-switch', 'dj-button', 'dj-upload', 'dj-textarea'].find(tag => tag == item.componentOptions?.tag));\n    }\n  },\n  watch: {\n  },\n  created() {\n    if (!this.$slots.default) {\n      // console.log(this.$slots.default);\n    }\n  },\n  mounted() {\n  },\n  methods: {\n    getFileds() {\n      return this.field ? [this.field] : this.fields && this.fields.split(',') || [];\n    },\n    validate(isChange) {\n      this.errorMsg = '';\n      let checked = true;\n      let fields = this.getFileds();\n      if (fields) {\n        for (let j = 0; j < fields.length; j++) {\n          let field = fields[j];\n          let rules = this.rule || this._form.rules[field];\n          if (rules) {\n            for (let i = 0; i < rules.length; i++) {\n              let rule = rules[i];\n              if (validate.rules[rule.type] && (isChange ? rule.changeTrigger : true)) {\n                this.errorVisible = false;\n                let value = this.form ? this.form[field] : this._form.data[field];\n                checked = validate.rules[rule.type].call(this.form || this._form.data, value, rule);\n                if (typeof checked == 'string' ? checked : !checked) {\n                  let name = this.label;\n                  let msg = validate.templates[rule.type];\n                  if (rule.transform == 'string' || rule.transform == 'array' || typeof value === 'string' || Array.isArray(value)) {\n                    msg = validate.templates[rule.type + 'string'] || validate.templates[rule.type];\n                  }\n                  if (rule.type === 'type') {\n                    let typeName = validate.typeName[rule.is];\n                    msg = msg + typeName;\n                  }\n                  this.errorVisible = true;\n                  this.errorMsg = ((typeof checked == 'string' ? checked : '') || rule.msg || msg || `${name}校验不通过`)\n                    .replace(/\\$\\{name\\}/g, this.label)\n                    .replace(/\\$\\{type\\}/g, rule.type)\n                    .replace(/\\$\\{min\\}/g, rule.min)\n                    .replace(/\\$\\{max\\}/g, rule.max)\n                    .replace(/\\$\\{equal\\}/g, rule.equal);\n                  break;\n                }\n              }\n            }\n          }\n          if (!(typeof checked == 'string' ? false : checked))\n            return false;\n        }\n      }\n      return true;\n    },\n    reset() {\n      let form = this.form || this._form.data;\n      this.getFileds().forEach((field) => {\n        if (Array.isArray(form[field])) {\n          form[field] = [];\n        } else if (typeof form[field] == 'string') {\n          form[field] = '';\n        } else if (typeof form[field] == 'boolean') {\n          form[field] = false;\n        } else {\n          form[field] = null;\n        }\n      });\n      this.resetValidate();\n    },\n    resetValidate() {\n      this.errorMsg = '';\n    },\n    setDisabled(disabled) {\n      this.disabled = disabled;\n    },\n    getErrorMsg() {\n      return this.errorMsg;\n    },\n    refrash() {\n      let form = this.form || this._form.data;\n      this.getFileds().forEach(field => {\n        let old = form[field];\n        if (Array.isArray(form[field])) {\n          form[field] = [];\n        } else if (typeof form[field] == 'string') {\n          form[field] = form[field] == '' ? ' ' : '';\n        } else if (typeof form[field] == 'boolean') {\n          form[field] = form[field] !== true;\n        } else {\n          form[field] = form[field] === null ? void 0 : null;\n        }\n        this.$nextTick(() => {\n          form[field] = old;\n        });\n      });\n    }\n  }\n};\n</script>\n\n<style lang=\"less\" scoped>\n</style>\n"]}]}