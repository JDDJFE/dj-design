{"remainingRequest":"/Users/wangjunxia/work-github/dj-design/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/wangjunxia/work-github/dj-design/packages/input/src/input.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/wangjunxia/work-github/dj-design/packages/input/src/input.vue","mtime":1675761954369},{"path":"/Users/wangjunxia/work-github/dj-design/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/wangjunxia/work-github/dj-design/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/wangjunxia/work-github/dj-design/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/wangjunxia/work-github/dj-design/node_modules/vue-loader/lib/index.js","mtime":1655715099000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCi8vIHYtbWF4bGVuZ3Ro77yaaHR0cHM6Ly93d3cubnBtanMuY29tL3BhY2thZ2UvdnVlX2lucHV0X21heGxlbmd0aD9hY3RpdmVUYWI9cmVhZG1lCi8vIGltcG9ydCAnQC9kaXJlY3RpdmUnOwppbXBvcnQgZGpPcHRpb25zIGZyb20gJy4vb3B0aW9ucyc7CmltcG9ydCB7IG9uIH0gZnJvbSAnQC91dGlscy9kb20nOwoKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdkaklucHV0JywKICBjb21wb25lbnRzOiB7ZGpPcHRpb25zfSwKICBwcm9wczogewogICAgc2hvd0lucHV0OiB7CiAgICAgIHR5cGU6IEJvb2xlYW4sCiAgICAgIGRlZmF1bHQ6IHRydWUKICAgIH0sCiAgICB2YWx1ZTogW1N0cmluZywgTnVtYmVyXSwKICAgIG5hbWU6IFN0cmluZywKICAgIHR5cGU6IHsKICAgICAgdHlwZTogU3RyaW5nLAogICAgICBkZWZhdWx0OiAndGV4dCcKICAgIH0sCiAgICBwbGFjZWhvbGRlcjogU3RyaW5nLAogICAgZGlzYWJsZWQ6IHsKICAgICAgdHlwZTogQm9vbGVhbiwKICAgICAgZGVmYXVsdDogZmFsc2UKICAgIH0sCiAgICByZWFkb25seTogewogICAgICB0eXBlOiBCb29sZWFuLAogICAgICBkZWZhdWx0OiBmYWxzZQogICAgfSwKICAgIG1heGxlbmd0aDogTnVtYmVyLAogICAgYnl0ZWxlbmd0aDogTnVtYmVyLAogICAgZml4ZWQ6IE51bWJlciwKICAgIHNpemU6IHsKICAgICAgdHlwZTogU3RyaW5nLAogICAgICBkZWZhdWx0OiAnbWVkaXVtJwogICAgfSwKICAgIG1pbjogTnVtYmVyLAogICAgbWF4OiBOdW1iZXIsCiAgICBzdGVwOiBOdW1iZXIsCiAgICBhdXRvZm9jdXM6IEJvb2xlYW4sCiAgICBpY29uOiBTdHJpbmcsCiAgICBpY29ucG9zaXRpb246IHsKICAgICAgdHlwZTogU3RyaW5nLAogICAgICBkZWZhdWx0OiAncmlnaHQnCiAgICB9LAogICAgYmVmb3JlOiBTdHJpbmcsCiAgICBhZnRlcjogU3RyaW5nLAogICAgc2hvd21heGxlbmd0aDogQm9vbGVhbiwKICAgIHNob3dzZWFyY2g6IEJvb2xlYW4sCiAgICBzaG93Y2xlYXI6IEJvb2xlYW4sCiAgICBjbGVhcmFibGU6IEJvb2xlYW4sCiAgICBzaG93cGFzc3dvcmQ6IEJvb2xlYW4sCiAgICBmdW5pbnB1dDogRnVuY3Rpb24sCiAgICBmdW5xdWVyeTogRnVuY3Rpb24KICB9LAogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICB2YWw6IHRoaXMudmFsdWUgPT09IHZvaWQgMCB8fCB0aGlzLnZhbHVlID09PSBudWxsID8gJycgOiB0aGlzLnZhbHVlLAogICAgICBpc0ZvY3VzOiBmYWxzZSwKICAgICAgaXNBY3RpdmU6IGZhbHNlLAogICAgICBpc0hvdmVyOiBmYWxzZSwKICAgICAgaXNQYXNzd29yZDogdHJ1ZSwKICAgICAgY29tcG9zaXRpb246IGZhbHNlCiAgICB9OwogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIGNhY3VTaXplKCkgewogICAgICBsZXQgc2l6ZU1hcCA9IHsKICAgICAgICBtaW5pOiAoKSA9PiB7CiAgICAgICAgICByZXR1cm4gMjA7CiAgICAgICAgfSwKICAgICAgICB0aW55OiAoKSA9PiB7CiAgICAgICAgICByZXR1cm4gMjI7CiAgICAgICAgfSwKICAgICAgICBzbWFsbDogKCkgPT4gewogICAgICAgICAgcmV0dXJuIDIyOwogICAgICAgIH0sCiAgICAgICAgbWVkaXVtOiAoKSA9PiB7CiAgICAgICAgICByZXR1cm4gMjU7CiAgICAgICAgfSwKICAgICAgICBsYXJnZTogKCkgPT4gewogICAgICAgICAgcmV0dXJuIDI4OwogICAgICAgIH0KICAgICAgfTsKICAgICAgaWYgKHNpemVNYXBbdGhpcy5zaXplXSkgewogICAgICAgIGxldCByZWxvbVNpemUgPSBzaXplTWFwW3RoaXMuc2l6ZV0oKTsKICAgICAgICByZXR1cm4gcmVsb21TaXplICsgJ3B4JzsKICAgICAgfQogICAgICByZXR1cm4gJzI1cHgnOwogICAgfSwKICAgIGdldERpc2FibGVkKCkgewogICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW5uZWVkZWQtdGVybmFyeQogICAgICByZXR1cm4gdGhpcy5kaXNhYmxlZCA9PT0gdHJ1ZTsKICAgIH0sCiAgICBnZXRJbnB1dEFmdGVyKCkgewogICAgICByZXR1cm4gKHRoaXMubWF4bGVuZ3RoIHx8IHRoaXMuYnl0ZWxlbmd0aCkgJiYgdGhpcy5zaG93bWF4bGVuZ3RoIHx8IHRoaXMuc2hvd3NlYXJjaCB8fCB0aGlzLnNob3djbGVhciB8fCB0aGlzLnNob3dwYXNzd29yZCB8fCB0aGlzLmNsZWFyYWJsZTsKICAgIH0sCiAgICBnZXRJY29uTGVmdCgpIHsKICAgICAgcmV0dXJuIHRoaXMuaWNvbiAmJiAodGhpcy5pY29ucG9zaXRpb24gPT0gJ2xlZnQnIHx8IHRoaXMuZ2V0SW5wdXRBZnRlcik7CiAgICB9CiAgfSwKICB3YXRjaDogewogICAgdmFsdWU6IGZ1bmN0aW9uKG8sIG4pIHsKICAgICAgaWYgKHRoaXMudmFsICE9PSB0aGlzLnZhbHVlKSB7CiAgICAgICAgdGhpcy52YWwgPSB0aGlzLnZhbHVlOwogICAgICB9CiAgICB9CiAgICAvLyB2YWw6IGZ1bmN0aW9uKG8sIG4pIHsKICAgIC8vICAgaWYgKHRoaXMudmFsICE9PSB0aGlzLnZhbHVlKSB7CiAgICAvLyAgICAgdGhpcy4kZW1pdCgnaW5wdXQnLCB0aGlzLnZhbCk7CiAgICAvLyAgIH0KICAgIC8vIH0KICB9LAogIG1vdW50ZWQoKSB7CiAgICBpZiAodGhpcy5mdW5xdWVyeSkgewogICAgICBsZXQgaGFuZGxlciA9IGUgPT4gewogICAgICAgIGlmICh0aGlzLiRlbC5jb250YWlucyhlLnRhcmdldCkpIHsKICAgICAgICAgIHJldHVybjsKICAgICAgICB9CiAgICAgICAgdGhpcy5pc0FjdGl2ZSA9IGZhbHNlOwogICAgICB9OwogICAgICBvbihkb2N1bWVudCwgJ2NsaWNrJywgaGFuZGxlcik7CiAgICB9CiAgfSwKICBtZXRob2RzOiB7CiAgICBmb2N1cygpIHsKICAgICAgdGhpcy4kcmVmcy5pbnB1dC5mb2N1cygpOwogICAgfSwKICAgIGJsdXIoKSB7CiAgICAgIHRoaXMuJHJlZnMuaW5wdXQuYmx1cigpOwogICAgfSwKICAgIHNlbGVjdCgpIHsKICAgICAgdGhpcy4kcmVmcy5pbnB1dC5zZWxlY3QoKTsKICAgIH0sCiAgICBjbGVhcigpIHsKICAgICAgdGhpcy52YWwgPSB0aGlzLiRyZWZzLmlucHV0LnZhbHVlID0gJyc7CiAgICAgIGlmICh0aGlzLmZ1bnF1ZXJ5KSB7CiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7CiAgICAgICAgICB0aGlzLiRyZWZzLm9wdGlvbnM/Lm9uUXVlcnkoKTsKICAgICAgICAgIHRoaXMuZm9jdXMoKTsKICAgICAgICB9LCAwKTsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLmZvY3VzKCk7CiAgICAgIH0KICAgICAgdGhpcy4kZW1pdCgnaW5wdXQnLCB0aGlzLnZhbCk7CiAgICAgIHRoaXMuJGVtaXQoJ2NoYW5nZScsIHRoaXMudmFsKTsKICAgIH0sCiAgICBjb21wb3NpdGlvbnN0YXJ0KCkgewogICAgICB0aGlzLmNvbXBvc2l0aW9uID0gdHJ1ZTsKICAgIH0sCiAgICBjb21wb3NpdGlvbmVuZCgkZXZlbnQpIHsKICAgICAgaWYgKHRoaXMuYnl0ZWxlbmd0aCkgewogICAgICAgIHRoaXMudmFsID0gJGV2ZW50LnRhcmdldC52YWx1ZSA9IHRoaXMuZ2V0Qnl0ZUxlbmd0aCgkZXZlbnQudGFyZ2V0LnZhbHVlLCB0aGlzLmJ5dGVsZW5ndGgpOwogICAgICB9CiAgICAgIHRoaXMuY29tcG9zaXRpb24gPSBmYWxzZTsKICAgIH0sCiAgICBoYW5kRXZlbnQodHlwZSwgJGV2ZW50KXsKICAgICAgaWYgKHR5cGUgPT0gJ2ZvY3VzJykgewogICAgICAgIHRoaXMuaXNGb2N1cyA9IHRydWU7CiAgICAgICAgdGhpcy5pc0FjdGl2ZSA9IHRydWU7CiAgICAgICAgLy8gdGhpcy4kZWwuZm9jdXMoKTsKICAgICAgfQogICAgICBpZiAodHlwZSA9PSAnYmx1cicpIHsKICAgICAgICB0aGlzLmlzRm9jdXMgPSBmYWxzZTsKICAgICAgfQogICAgICBpZiAodHlwZSA9PSAnaW5wdXQnKSB7CiAgICAgICAgaWYgKHRoaXMudHlwZS50b0xvY2FsZUxvd2VyQ2FzZSgpID09ICdudW1iZXInKSB7CiAgICAgICAgICBpZiAodGhpcy5maXhlZCAmJiB0aGlzLmZpeGVkID4gMCkgewogICAgICAgICAgICAkZXZlbnQudGFyZ2V0LnZhbHVlID0gJGV2ZW50LnRhcmdldC52YWx1ZS5yZXBsYWNlKC9bXlxkIHx8IC5dL2csICcnKTsKICAgICAgICAgICAgaWYgKCRldmVudC50YXJnZXQudmFsdWUpIHsKICAgICAgICAgICAgICBsZXQgbGlzdCA9ICRldmVudC50YXJnZXQudmFsdWUuc3BsaXQoJy4nKTsKICAgICAgICAgICAgICBpZiAobGlzdC5sZW5ndGggPT0gMikgewogICAgICAgICAgICAgICAgaWYgKCFsaXN0WzBdKSB7CiAgICAgICAgICAgICAgICAgIGxpc3RbMF0gPSAnMCc7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgfSBlbHNlIGlmICghbGlzdFswXSkgewogICAgICAgICAgICAgICAgbGlzdC5zcGxpY2UoMCwgMSk7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIGxldCBudW1iZXIgPSBsaXN0WzBdOwogICAgICAgICAgICAgIGxpc3Quc3BsaWNlKDAsIDEpOwogICAgICAgICAgICAgIGxldCBmaWV4ZCA9IGxpc3Quam9pbignJykuc3Vic3RyaW5nKDAsIHRoaXMuZml4ZWQpOwogICAgICAgICAgICAgIHRoaXMudmFsID0gJGV2ZW50LnRhcmdldC52YWx1ZSA9IG51bWJlciArIChsaXN0Lmxlbmd0aCA/ICcuJyArIGZpZXhkIDogJycpOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgIHRoaXMudmFsID0gJGV2ZW50LnRhcmdldC52YWx1ZSA7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHRoaXMudmFsID0gJGV2ZW50LnRhcmdldC52YWx1ZSA9ICRldmVudC50YXJnZXQudmFsdWUucmVwbGFjZSgvXEQvZywgJycpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgICBpZiAodGhpcy5ieXRlbGVuZ3RoKSB7CiAgICAgICAgICBpZiAoIXRoaXMuY29tcG9zaXRpb24pIHsKICAgICAgICAgICAgdGhpcy52YWwgPSAkZXZlbnQudGFyZ2V0LnZhbHVlID0gdGhpcy5nZXRCeXRlTGVuZ3RoKCRldmVudC50YXJnZXQudmFsdWUsIHRoaXMuYnl0ZWxlbmd0aCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIGlmICh0aGlzLmZ1bmlucHV0KSB7CiAgICAgICAgICB0aGlzLnZhbCA9ICRldmVudC50YXJnZXQudmFsdWUgPSB0aGlzLmZ1bmlucHV0KCRldmVudC50YXJnZXQudmFsdWUpOwogICAgICAgIH0KICAgICAgfQogICAgICBpZiAodHlwZSA9PSAnaW5wdXQnIHx8IHR5cGUgPT0gJ2NoYW5nZScgfHwgdHlwZSA9PSAncXVlcnknKSB7CiAgICAgICAgdGhpcy4kZW1pdCh0eXBlLCB0aGlzLnR5cGUudG9Mb2NhbGVMb3dlckNhc2UoKSA9PSAnbnVtYmVyJyAmJiB0aGlzLnZhbCA/IHRoaXMudmFsICogMSA6IHRoaXMudmFsLCAkZXZlbnQpOwogICAgICAgIHRoaXMuJG5leHRUaWNrKCgpID0+IHsKICAgICAgICAgIGlmICh0eXBlID09ICdpbnB1dCcgJiYgdGhpcy5mdW5xdWVyeSkgewogICAgICAgICAgICB0aGlzLiRyZWZzLm9wdGlvbnM/Lm9uUXVlcnkoKTsKICAgICAgICAgIH0KICAgICAgICAgIGlmICh0aGlzLnZhbHVlICYmICh0aGlzLnR5cGUudG9Mb2NhbGVMb3dlckNhc2UoKSA9PSAnbnVtYmVyJyA/IHRoaXMudmFsICogMSAhPT0gdGhpcy52YWx1ZSAqIDEgOiB0aGlzLnZhbCAhPT0gdGhpcy52YWx1ZSkpIHsKICAgICAgICAgICAgdGhpcy52YWwgPSB0aGlzLnZhbHVlOwogICAgICAgICAgfQogICAgICAgIH0pOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuJGVtaXQodHlwZSwgJGV2ZW50KTsKICAgICAgfQogICAgfSwKICAgIGdldEJ5dGVMZW5ndGgoc3RyLCBsZW5ndGgpIHsKICAgICAgbGV0IGJ5dGVMZW5ndGggPSAwOwogICAgICBsZXQgYnl0ZVN0ciA9ICcnOwogICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHN0ci5sZW5ndGg7IGkrKykgewogICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1jb250cm9sLXJlZ2V4CiAgICAgICAgaWYgKHN0cltpXS5tYXRjaChuZXcgUmVnRXhwKCdbXlx4MDAtXHhmZl0nLCAnaWcnKSkpIHsKICAgICAgICAgIGJ5dGVMZW5ndGggKz0gMjsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgYnl0ZUxlbmd0aCArPSAxOwogICAgICAgIH0KICAgICAgICBpZiAoYnl0ZUxlbmd0aCA8PSBsZW5ndGgpIHsKICAgICAgICAgIGJ5dGVTdHIgKz0gc3RyW2ldOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBicmVhazsKICAgICAgICB9CiAgICAgIH0KICAgICAgcmV0dXJuIGJ5dGVTdHI7CiAgICB9LAogICAgZ2V0TGVuZ3RoKHN0cikgewogICAgICBsZXQgYnl0ZUxlbmd0aCA9IDA7CiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc3RyLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWNvbnRyb2wtcmVnZXgKICAgICAgICBpZiAoc3RyW2ldLm1hdGNoKG5ldyBSZWdFeHAoJ1teXHgwMC1ceGZmXScsICdpZycpKSkgewogICAgICAgICAgYnl0ZUxlbmd0aCArPSAyOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBieXRlTGVuZ3RoICs9IDE7CiAgICAgICAgfQogICAgICB9CiAgICAgIHJldHVybiBieXRlTGVuZ3RoOwogICAgfSwKICAgIG9uU2VsZWN0KHZhbCwgaXRlbSkgewogICAgICB0aGlzLnZhbCA9IHZhbDsKICAgICAgdGhpcy5pc0FjdGl2ZSA9IGZhbHNlOwogICAgICB0aGlzLmlzSG92ZXIgPSBmYWxzZTsKICAgICAgdGhpcy4kZW1pdCgnc2VsZWN0JywgdmFsLCBpdGVtKTsKICAgIH0sCiAgICBvdXQoKSB7CiAgICAgIHRoaXMuaXNBY3RpdmUgPSBmYWxzZTsKICAgIH0KICB9Cn07Cg=="},{"version":3,"sources":["input.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAsCA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"input.vue","sourceRoot":"packages/input/src","sourcesContent":["<template>\n  <div class=\"dj-input\" :class=\"[size, {'disabled': disabled, 'focus': isFocus, 'hover': isHover, 'before': before || $slots.before, 'after': after || $slots.after}]\" @mouseenter=\" disabled ? '' : isHover = true\"\n      @mouseleave=\"isHover = false\" tabindex=\"-1\">\n    <div class=\"dj-input-panel\">\n      <div v-if=\"before || $slots.before\" class=\"before-panel\">\n        <span :style=\"!$slots.before && 'padding: 0px 12px' || ''\"><slot name=\"before\">{{before}}</slot></span>\n      </div>\n      <div class=\"input\" v-show=\"showInput\" >\n        <div class=\"input-panel\" :class=\"{'icon': icon, 'icon-left': getIconLeft, 'after': getInputAfter}\">\n          <input :class=\"{'dj-disabled': disabled}\" v-model=\"val\" ref=\"input\" :name=\"name\" :type=\"type === 'password' && isPassword ? 'password' : 'text'\"\n          :autofocus=\"autofocus\" :placeholder=\"placeholder\" :disabled=\"disabled\" :readonly=\"readonly\" :maxlength=\"bytelength ? null : maxlength\" @click=\"handEvent('click', $event)\" @input=\"handEvent('input', $event)\" @change=\"handEvent('change', $event)\" @focus=\"handEvent('focus', $event)\" @blur=\"handEvent('blur', $event)\" @keyup.enter=\"handEvent('enter', $event)\" @compositionstart=\"compositionstart($event)\" @compositionend=\"compositionend($event)\" :autocomplete=\"funquery ? 'off' : 'on'\">\n          <i v-if=\"icon\" class=\"iconfont\" :class=\"icon\"></i>\n          <div v-if=\"getInputAfter\" class=\"input-after\">\n            <div class=\"input-after-center\">\n              <dj-button v-if=\"showsearch\" :disabled=\"disabled\" fontSize=\"14px\" :colors=\"['#fff','#1b1c1d','#1b1c1d']\" :style=\"{width: cacuSize,height: cacuSize}\" circle @click=\"handEvent('query', $event)\"><i class=\"iconfont search2\" :style=\"[{color: '#fff',fontSize: '14px'}, {lineHeight: cacuSize}]\"></i></dj-button>\n              <template v-else-if=\"bytelength\">{{getLength(val)}}/{{bytelength}}</template>\n              <template v-else-if=\"maxlength\">{{String(val).length}}/{{maxlength}}</template>\n              <template v-else-if=\"(showclear || clearable) && val\"><i class=\"iconfont close-solid\" @click=\"clear\"></i></template>\n              <template v-else-if=\"showpassword\"><i class=\"iconfont view\" :class=\"{'view': !isPassword, 'view-off': isPassword}\" @click=\"isPassword=!isPassword\"></i></template>\n            </div>\n          </div>\n        </div>\n      </div>\n      <div v-if=\"after || $slots.after\" :class=\"showInput ? 'after-panel' : 'after-panel after-panel-iscolor'\">\n        <span :style=\"!$slots.after && 'padding: 0px 12px' || ''\"><slot name=\"after\">{{after}}</slot></span>\n      </div>\n      <transition v-if=\"funquery\" name=\"fade\">\n        <dj-options ref=\"options\" v-show=\"isActive\" v-model=\"val\"  @select=\"onSelect\" :funquery=\"funquery\" :search=\"false\">\n          <template v-slot:option=\"item\"><!--  v-show=\"$slots.option\" -->\n            <slot name=\"option\" v-bind=\"item\"></slot>\n          </template>\n        </dj-options>\n      </transition>\n    </div>\n  </div>\n</template>\n\n<script>\n// v-maxlength：https://www.npmjs.com/package/vue_input_maxlength?activeTab=readme\n// import '@/directive';\nimport djOptions from './options';\nimport { on } from '@/utils/dom';\n\nexport default {\n  name: 'djInput',\n  components: {djOptions},\n  props: {\n    showInput: {\n      type: Boolean,\n      default: true\n    },\n    value: [String, Number],\n    name: String,\n    type: {\n      type: String,\n      default: 'text'\n    },\n    placeholder: String,\n    disabled: {\n      type: Boolean,\n      default: false\n    },\n    readonly: {\n      type: Boolean,\n      default: false\n    },\n    maxlength: Number,\n    bytelength: Number,\n    fixed: Number,\n    size: {\n      type: String,\n      default: 'medium'\n    },\n    min: Number,\n    max: Number,\n    step: Number,\n    autofocus: Boolean,\n    icon: String,\n    iconposition: {\n      type: String,\n      default: 'right'\n    },\n    before: String,\n    after: String,\n    showmaxlength: Boolean,\n    showsearch: Boolean,\n    showclear: Boolean,\n    clearable: Boolean,\n    showpassword: Boolean,\n    funinput: Function,\n    funquery: Function\n  },\n  data() {\n    return {\n      val: this.value === void 0 || this.value === null ? '' : this.value,\n      isFocus: false,\n      isActive: false,\n      isHover: false,\n      isPassword: true,\n      composition: false\n    };\n  },\n  computed: {\n    cacuSize() {\n      let sizeMap = {\n        mini: () => {\n          return 20;\n        },\n        tiny: () => {\n          return 22;\n        },\n        small: () => {\n          return 22;\n        },\n        medium: () => {\n          return 25;\n        },\n        large: () => {\n          return 28;\n        }\n      };\n      if (sizeMap[this.size]) {\n        let relomSize = sizeMap[this.size]();\n        return relomSize + 'px';\n      }\n      return '25px';\n    },\n    getDisabled() {\n      // eslint-disable-next-line no-unneeded-ternary\n      return this.disabled === true;\n    },\n    getInputAfter() {\n      return (this.maxlength || this.bytelength) && this.showmaxlength || this.showsearch || this.showclear || this.showpassword || this.clearable;\n    },\n    getIconLeft() {\n      return this.icon && (this.iconposition == 'left' || this.getInputAfter);\n    }\n  },\n  watch: {\n    value: function(o, n) {\n      if (this.val !== this.value) {\n        this.val = this.value;\n      }\n    }\n    // val: function(o, n) {\n    //   if (this.val !== this.value) {\n    //     this.$emit('input', this.val);\n    //   }\n    // }\n  },\n  mounted() {\n    if (this.funquery) {\n      let handler = e => {\n        if (this.$el.contains(e.target)) {\n          return;\n        }\n        this.isActive = false;\n      };\n      on(document, 'click', handler);\n    }\n  },\n  methods: {\n    focus() {\n      this.$refs.input.focus();\n    },\n    blur() {\n      this.$refs.input.blur();\n    },\n    select() {\n      this.$refs.input.select();\n    },\n    clear() {\n      this.val = this.$refs.input.value = '';\n      if (this.funquery) {\n        setTimeout(() => {\n          this.$refs.options?.onQuery();\n          this.focus();\n        }, 0);\n      } else {\n        this.focus();\n      }\n      this.$emit('input', this.val);\n      this.$emit('change', this.val);\n    },\n    compositionstart() {\n      this.composition = true;\n    },\n    compositionend($event) {\n      if (this.bytelength) {\n        this.val = $event.target.value = this.getByteLength($event.target.value, this.bytelength);\n      }\n      this.composition = false;\n    },\n    handEvent(type, $event){\n      if (type == 'focus') {\n        this.isFocus = true;\n        this.isActive = true;\n        // this.$el.focus();\n      }\n      if (type == 'blur') {\n        this.isFocus = false;\n      }\n      if (type == 'input') {\n        if (this.type.toLocaleLowerCase() == 'number') {\n          if (this.fixed && this.fixed > 0) {\n            $event.target.value = $event.target.value.replace(/[^\\d || .]/g, '');\n            if ($event.target.value) {\n              let list = $event.target.value.split('.');\n              if (list.length == 2) {\n                if (!list[0]) {\n                  list[0] = '0';\n                }\n              } else if (!list[0]) {\n                list.splice(0, 1);\n              }\n              let number = list[0];\n              list.splice(0, 1);\n              let fiexd = list.join('').substring(0, this.fixed);\n              this.val = $event.target.value = number + (list.length ? '.' + fiexd : '');\n            } else {\n              this.val = $event.target.value ;\n            }\n          } else {\n            this.val = $event.target.value = $event.target.value.replace(/\\D/g, '');\n          }\n        }\n        if (this.bytelength) {\n          if (!this.composition) {\n            this.val = $event.target.value = this.getByteLength($event.target.value, this.bytelength);\n          }\n        }\n        if (this.funinput) {\n          this.val = $event.target.value = this.funinput($event.target.value);\n        }\n      }\n      if (type == 'input' || type == 'change' || type == 'query') {\n        this.$emit(type, this.type.toLocaleLowerCase() == 'number' && this.val ? this.val * 1 : this.val, $event);\n        this.$nextTick(() => {\n          if (type == 'input' && this.funquery) {\n            this.$refs.options?.onQuery();\n          }\n          if (this.value && (this.type.toLocaleLowerCase() == 'number' ? this.val * 1 !== this.value * 1 : this.val !== this.value)) {\n            this.val = this.value;\n          }\n        });\n      } else {\n        this.$emit(type, $event);\n      }\n    },\n    getByteLength(str, length) {\n      let byteLength = 0;\n      let byteStr = '';\n      for (var i = 0; i < str.length; i++) {\n        // eslint-disable-next-line no-control-regex\n        if (str[i].match(new RegExp('[^\\x00-\\xff]', 'ig'))) {\n          byteLength += 2;\n        } else {\n          byteLength += 1;\n        }\n        if (byteLength <= length) {\n          byteStr += str[i];\n        } else {\n          break;\n        }\n      }\n      return byteStr;\n    },\n    getLength(str) {\n      let byteLength = 0;\n      for (var i = 0; i < str.length; i++) {\n        // eslint-disable-next-line no-control-regex\n        if (str[i].match(new RegExp('[^\\x00-\\xff]', 'ig'))) {\n          byteLength += 2;\n        } else {\n          byteLength += 1;\n        }\n      }\n      return byteLength;\n    },\n    onSelect(val, item) {\n      this.val = val;\n      this.isActive = false;\n      this.isHover = false;\n      this.$emit('select', val, item);\n    },\n    out() {\n      this.isActive = false;\n    }\n  }\n};\n</script>\n"]}]}