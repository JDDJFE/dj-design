{"remainingRequest":"/Users/wangjunxia/work-github/dj-design/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/wangjunxia/work-github/dj-design/packages/colorPicker/src/colorPicker.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/wangjunxia/work-github/dj-design/packages/colorPicker/src/colorPicker.vue","mtime":1673509764310},{"path":"/Users/wangjunxia/work-github/dj-design/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/wangjunxia/work-github/dj-design/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/wangjunxia/work-github/dj-design/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/wangjunxia/work-github/dj-design/node_modules/vue-loader/lib/index.js","mtime":1655715099000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCgpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ2RqQ29sb3JQaWNrZXInLAogIGNvbXBvbmVudHM6IHt9LAogIHByb3BzOiB7CiAgICB2YWx1ZTogU3RyaW5nLAogICAgbmFtZTogU3RyaW5nLAogICAgcGxhY2Vob2xkZXI6IFN0cmluZywKICAgIGRpc2FibGVkOiB7CiAgICAgIHR5cGU6IEJvb2xlYW4sCiAgICAgIGRlZmF1bHQ6IGZhbHNlCiAgICB9LAogICAgcmVhZG9ubHk6IHsKICAgICAgdHlwZTogQm9vbGVhbiwKICAgICAgZGVmYXVsdDogZmFsc2UKICAgIH0sCiAgICBhdXRvZm9jdXM6IHsKICAgICAgdHlwZTogQm9vbGVhbiwKICAgICAgZGVmYXVsdDogZmFsc2UKICAgIH0sCiAgICBzaXplOiB7CiAgICAgIHR5cGU6IFN0cmluZywKICAgICAgZGVmYXVsdDogJ3NtYWxsJwogICAgfSwKICAgIHNob3dJbnB1dDogewogICAgICB0eXBlOiBCb29sZWFuLAogICAgICBkZWZhdWx0OiB0cnVlCiAgICB9CiAgfSwKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgdmFsOiB0aGlzLnZhbHVlIHx8ICcnLAogICAgICBpc0Vycm9yOiBmYWxzZQogICAgfTsKICB9LAogIGNvbXB1dGVkOiB7CiAgfSwKICB3YXRjaDogewogICAgdmFsdWU6IGZ1bmN0aW9uKG4sIG8pIHsKICAgICAgaWYgKHRoaXMudmFsdWUgIT0gdGhpcy52YWwpIHsKICAgICAgICB0aGlzLnZhbCA9IHRoaXMudmFsdWU7CiAgICAgIH0KICAgIH0sCiAgICB2YWw6IGZ1bmN0aW9uKG4sIG8pIHsKICAgICAgdGhpcy4kZW1pdCgnaW5wdXQnLHRoaXMudmFsKTsKICAgIH0KICB9LAogIG1vdW50ZWQoKSB7CiAgICB0aGlzLmlzRXJyb3IgPSB0aGlzLiRlbC5jbGFzc0xpc3QgJiYgdGhpcy4kZWwuY2xhc3NMaXN0LmNvbnRhaW5zKCdlcnJvcicpOwogICAgLy8g55uR5ZCsY2xhc3PnmoTlj5jljJYKICAgIHZhciBPYnNlcnZlciA9IG5ldyBNdXRhdGlvbk9ic2VydmVyKChtdXRhdGlvbnMsIGluc3RhbmNlKSA9PiB7CiAgICAgIHRoaXMuaXNFcnJvciA9IG11dGF0aW9uc1swXS50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCdlcnJvcicpOwogICAgfSk7CiAgICBPYnNlcnZlci5vYnNlcnZlKHRoaXMuJGVsLCB7CiAgICAgIGF0dHJpYnV0ZXM6IHRydWUKICAgIH0pOwogIH0sCiAgbWV0aG9kczogewogICAgZm9jdXMoKSB7CiAgICAgIHRoaXMuJHJlZnMuY29sb3IuZm9jdXMoKTsKICAgIH0sCiAgICBibHVyKCkgewogICAgICB0aGlzLiRyZWZzLmNvbG9yLmJsdXIoKTsKICAgIH0sCiAgICBzZWxlY3QoKSB7CiAgICAgIHRoaXMuJHJlZnMuY29sb3Iuc2VsZWN0KCk7CiAgICB9LAogICAgaGFuZEV2ZW50KHR5cGUsICRldmVudCl7CiAgICAgIGlmICh0eXBlID09ICdpbnB1dCcgfHwgdHlwZSA9PSAnY2hhbmdlJykgewogICAgICAgIHRoaXMuJGVtaXQodHlwZSwgdGhpcy52YWwsICRldmVudCk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy4kZW1pdCh0eXBlLCAkZXZlbnQpOwogICAgICB9CiAgICB9LAogICAgZnVuaW5wdXQodmFsKSB7CiAgICAgIGxldCBjb2xvciA9ICcnOwogICAgICBpZiAodmFsLmluZGV4T2YoJyMnKSA9PT0gMCkgewogICAgICAgIGNvbG9yID0gJyMnOwogICAgICB9CiAgICAgIHZhbCA9IHZhbC5yZXBsYWNlKC9bXlxkIHx8IGEtZiB8fCBBLUZdL2csICcnKTsKICAgICAgY29sb3IgKz0gdmFsLnN1YnN0cmluZygwLCA2KTsKICAgICAgcmV0dXJuIGNvbG9yOwogICAgfQogIH0KfTsK"},{"version":3,"sources":["colorPicker.vue"],"names":[],"mappings":";;;;;;;;;;;;AAYA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"colorPicker.vue","sourceRoot":"packages/colorPicker/src","sourcesContent":["<template>\n  <div class=\"dj-color-picker\" :class=\"[size]\" :style=\"!showInput && 'width: auto'\">\n    <dj-input ref=\"color\" :showInput=\"showInput\" size=\"\" v-model=\"val\" :name=\"name\" :placeholder=\"placeholder\" :maxlength=\"7\" :disabled=\"disabled\" :readonly=\"readonly\" :funinput=\"funinput\" :autofocus=\"autofocus\" :class=\"{'error': isError}\" @input=\"handEvent('input', $event)\" @change=\"handEvent('change', $event)\" @focus=\"handEvent('focus', $event)\" @blur=\"handEvent('blur', $event)\">>\n      <template slot=\"after\">\n        <div class=\"color\"><input v-model=\"val\" type=\"color\" @change=\"handEvent('change', $event)\" :disabled=\"disabled\"/></div>\n      </template>\n    </dj-input>\n  </div>\n</template>\n\n<script>\n\nexport default {\n  name: 'djColorPicker',\n  components: {},\n  props: {\n    value: String,\n    name: String,\n    placeholder: String,\n    disabled: {\n      type: Boolean,\n      default: false\n    },\n    readonly: {\n      type: Boolean,\n      default: false\n    },\n    autofocus: {\n      type: Boolean,\n      default: false\n    },\n    size: {\n      type: String,\n      default: 'small'\n    },\n    showInput: {\n      type: Boolean,\n      default: true\n    }\n  },\n  data() {\n    return {\n      val: this.value || '',\n      isError: false\n    };\n  },\n  computed: {\n  },\n  watch: {\n    value: function(n, o) {\n      if (this.value != this.val) {\n        this.val = this.value;\n      }\n    },\n    val: function(n, o) {\n      this.$emit('input',this.val);\n    }\n  },\n  mounted() {\n    this.isError = this.$el.classList && this.$el.classList.contains('error');\n    // 监听class的变化\n    var Observer = new MutationObserver((mutations, instance) => {\n      this.isError = mutations[0].target.classList.contains('error');\n    });\n    Observer.observe(this.$el, {\n      attributes: true\n    });\n  },\n  methods: {\n    focus() {\n      this.$refs.color.focus();\n    },\n    blur() {\n      this.$refs.color.blur();\n    },\n    select() {\n      this.$refs.color.select();\n    },\n    handEvent(type, $event){\n      if (type == 'input' || type == 'change') {\n        this.$emit(type, this.val, $event);\n      } else {\n        this.$emit(type, $event);\n      }\n    },\n    funinput(val) {\n      let color = '';\n      if (val.indexOf('#') === 0) {\n        color = '#';\n      }\n      val = val.replace(/[^\\d || a-f || A-F]/g, '');\n      color += val.substring(0, 6);\n      return color;\n    }\n  }\n};\n</script>\n\n<style lang=\"less\" scoped>\n</style>\n"]}]}